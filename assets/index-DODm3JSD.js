const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-mfSjeF-J.js","assets/webworkerAll-CtpPJD6n.js","assets/colorToUniform-KTpA7KSL.js","assets/WebGPURenderer-lgVW96Gs.js","assets/SharedSystems-B3TL2br9.js","assets/WebGLRenderer-C9SeyyJg.js"])))=>i.map(i=>d[i]);
var px=Object.defineProperty;var Km=a=>{throw TypeError(a)};var gx=(a,t,n)=>t in a?px(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;var ll=(a,t,n)=>gx(a,typeof t!="symbol"?t+"":t,n),Im=(a,t,n)=>t.has(a)||Km("Cannot "+n);var ol=(a,t,n)=>(Im(a,t,"read from private field"),n?n.call(a):t.get(a)),$m=(a,t,n)=>t.has(a)?Km("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,n),Jm=(a,t,n,r)=>(Im(a,t,"write to private field"),r?r.call(a,n):t.set(a,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Kc(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ju={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function yx(){if(tp)return Oa;tp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Oa.Fragment=t,Oa.jsx=n,Oa.jsxs=n,Oa}var ep;function _x(){return ep||(ep=1,ju.exports=yx()),ju.exports}var Mt=_x(),Xu={exports:{}},Da={},Vu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function xx(){return ip||(ip=1,function(a){function t(S,C){var E=S.length;S.push(C);t:for(;0<E;){var H=E-1>>>1,A=S[H];if(0<o(A,C))S[H]=C,S[E]=A,E=H;else break t}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var C=S[0],E=S.pop();if(E!==C){S[0]=E;t:for(var H=0,A=S.length,z=A>>>1;H<z;){var N=2*(H+1)-1,P=S[N],F=N+1,J=S[F];if(0>o(P,E))F<A&&0>o(J,P)?(S[H]=J,S[F]=E,H=F):(S[H]=P,S[N]=E,H=N);else if(F<A&&0>o(J,E))S[H]=J,S[F]=E,H=F;else break t}}return C}function o(S,C){var E=S.sortIndex-C.sortIndex;return E!==0?E:S.id-C.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var m=[],p=[],g=1,_=null,v=3,x=!1,w=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function k(S){for(var C=n(p);C!==null;){if(C.callback===null)r(p);else if(C.startTime<=S)r(p),C.sortIndex=C.expirationTime,t(m,C);else break;C=n(p)}}function j(S){if(R=!1,k(S),!w)if(n(m)!==null)w=!0,zt();else{var C=n(p);C!==null&&Ht(j,C.startTime-S)}}var Q=!1,q=-1,W=5,ut=-1;function I(){return!(a.unstable_now()-ut<W)}function $(){if(Q){var S=a.unstable_now();ut=S;var C=!0;try{t:{w=!1,R&&(R=!1,D(q),q=-1),x=!0;var E=v;try{e:{for(k(S),_=n(m);_!==null&&!(_.expirationTime>S&&I());){var H=_.callback;if(typeof H=="function"){_.callback=null,v=_.priorityLevel;var A=H(_.expirationTime<=S);if(S=a.unstable_now(),typeof A=="function"){_.callback=A,k(S),C=!0;break e}_===n(m)&&r(m),k(S)}else r(m);_=n(m)}if(_!==null)C=!0;else{var z=n(p);z!==null&&Ht(j,z.startTime-S),C=!1}}break t}finally{_=null,v=E,x=!1}C=void 0}}finally{C?tt():Q=!1}}}var tt;if(typeof U=="function")tt=function(){U($)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,pt=xt.port2;xt.port1.onmessage=$,tt=function(){pt.postMessage(null)}}else tt=function(){T($,0)};function zt(){Q||(Q=!0,tt())}function Ht(S,C){q=T(function(){S(a.unstable_now())},C)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(S){S.callback=null},a.unstable_continueExecution=function(){w||x||(w=!0,zt())},a.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<S?Math.floor(1e3/S):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_getFirstCallbackNode=function(){return n(m)},a.unstable_next=function(S){switch(v){case 1:case 2:case 3:var C=3;break;default:C=v}var E=v;v=C;try{return S()}finally{v=E}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var E=v;v=S;try{return C()}finally{v=E}},a.unstable_scheduleCallback=function(S,C,E){var H=a.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?H+E:H):E=H,S){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=E+A,S={id:g++,callback:C,priorityLevel:S,startTime:E,expirationTime:A,sortIndex:-1},E>H?(S.sortIndex=E,t(p,S),n(m)===null&&S===n(p)&&(R?(D(q),q=-1):R=!0,Ht(j,E-H))):(S.sortIndex=A,t(m,S),w||x||(w=!0,zt())),S},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(S){var C=v;return function(){var E=v;v=C;try{return S.apply(this,arguments)}finally{v=E}}}}(Fu)),Fu}var np;function vx(){return np||(np=1,Vu.exports=xx()),Vu.exports}var qu={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function bx(){if(sp)return gt;sp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function T(A,z,N){this.props=A,this.context=z,this.refs=R,this.updater=N||x}T.prototype.isReactComponent={},T.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function D(){}D.prototype=T.prototype;function U(A,z,N){this.props=A,this.context=z,this.refs=R,this.updater=N||x}var k=U.prototype=new D;k.constructor=U,w(k,T.prototype),k.isPureReactComponent=!0;var j=Array.isArray,Q={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function W(A,z,N,P,F,J){return N=J.ref,{$$typeof:a,type:A,key:z,ref:N!==void 0?N:null,props:J}}function ut(A,z){return W(A.type,z,void 0,void 0,void 0,A.props)}function I(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function $(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(N){return z[N]})}var tt=/\/+/g;function xt(A,z){return typeof A=="object"&&A!==null&&A.key!=null?$(""+A.key):z.toString(36)}function pt(){}function zt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(pt,pt):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ht(A,z,N,P,F){var J=typeof A;(J==="undefined"||J==="boolean")&&(A=null);var et=!1;if(A===null)et=!0;else switch(J){case"bigint":case"string":case"number":et=!0;break;case"object":switch(A.$$typeof){case a:case t:et=!0;break;case g:return et=A._init,Ht(et(A._payload),z,N,P,F)}}if(et)return F=F(A),et=P===""?"."+xt(A,0):P,j(F)?(N="",et!=null&&(N=et.replace(tt,"$&/")+"/"),Ht(F,z,N,"",function(mt){return mt})):F!=null&&(I(F)&&(F=ut(F,N+(F.key==null||A&&A.key===F.key?"":(""+F.key).replace(tt,"$&/")+"/")+et)),z.push(F)),1;et=0;var ht=P===""?".":P+":";if(j(A))for(var it=0;it<A.length;it++)P=A[it],J=ht+xt(P,it),et+=Ht(P,z,N,J,F);else if(it=v(A),typeof it=="function")for(A=it.call(A),it=0;!(P=A.next()).done;)P=P.value,J=ht+xt(P,it++),et+=Ht(P,z,N,J,F);else if(J==="object"){if(typeof A.then=="function")return Ht(zt(A),z,N,P,F);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return et}function S(A,z,N){if(A==null)return A;var P=[],F=0;return Ht(A,P,"","",function(J){return z.call(N,J,F++)}),P}function C(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(N){(A._status===0||A._status===-1)&&(A._status=1,A._result=N)},function(N){(A._status===0||A._status===-1)&&(A._status=2,A._result=N)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var E=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function H(){}return gt.Children={map:S,forEach:function(A,z,N){S(A,function(){z.apply(this,arguments)},N)},count:function(A){var z=0;return S(A,function(){z++}),z},toArray:function(A){return S(A,function(z){return z})||[]},only:function(A){if(!I(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},gt.Component=T,gt.Fragment=n,gt.Profiler=o,gt.PureComponent=U,gt.StrictMode=r,gt.Suspense=m,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,gt.act=function(){throw Error("act(...) is not supported in production builds of React.")},gt.cache=function(A){return function(){return A.apply(null,arguments)}},gt.cloneElement=function(A,z,N){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var P=w({},A.props),F=A.key,J=void 0;if(z!=null)for(et in z.ref!==void 0&&(J=void 0),z.key!==void 0&&(F=""+z.key),z)!q.call(z,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&z.ref===void 0||(P[et]=z[et]);var et=arguments.length-2;if(et===1)P.children=N;else if(1<et){for(var ht=Array(et),it=0;it<et;it++)ht[it]=arguments[it+2];P.children=ht}return W(A.type,F,void 0,void 0,J,P)},gt.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},gt.createElement=function(A,z,N){var P,F={},J=null;if(z!=null)for(P in z.key!==void 0&&(J=""+z.key),z)q.call(z,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(F[P]=z[P]);var et=arguments.length-2;if(et===1)F.children=N;else if(1<et){for(var ht=Array(et),it=0;it<et;it++)ht[it]=arguments[it+2];F.children=ht}if(A&&A.defaultProps)for(P in et=A.defaultProps,et)F[P]===void 0&&(F[P]=et[P]);return W(A,J,void 0,void 0,null,F)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(A){return{$$typeof:f,render:A}},gt.isValidElement=I,gt.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:C}},gt.memo=function(A,z){return{$$typeof:p,type:A,compare:z===void 0?null:z}},gt.startTransition=function(A){var z=Q.T,N={};Q.T=N;try{var P=A(),F=Q.S;F!==null&&F(N,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(H,E)}catch(J){E(J)}finally{Q.T=z}},gt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},gt.use=function(A){return Q.H.use(A)},gt.useActionState=function(A,z,N){return Q.H.useActionState(A,z,N)},gt.useCallback=function(A,z){return Q.H.useCallback(A,z)},gt.useContext=function(A){return Q.H.useContext(A)},gt.useDebugValue=function(){},gt.useDeferredValue=function(A,z){return Q.H.useDeferredValue(A,z)},gt.useEffect=function(A,z){return Q.H.useEffect(A,z)},gt.useId=function(){return Q.H.useId()},gt.useImperativeHandle=function(A,z,N){return Q.H.useImperativeHandle(A,z,N)},gt.useInsertionEffect=function(A,z){return Q.H.useInsertionEffect(A,z)},gt.useLayoutEffect=function(A,z){return Q.H.useLayoutEffect(A,z)},gt.useMemo=function(A,z){return Q.H.useMemo(A,z)},gt.useOptimistic=function(A,z){return Q.H.useOptimistic(A,z)},gt.useReducer=function(A,z,N){return Q.H.useReducer(A,z,N)},gt.useRef=function(A){return Q.H.useRef(A)},gt.useState=function(A){return Q.H.useState(A)},gt.useSyncExternalStore=function(A,z,N){return Q.H.useSyncExternalStore(A,z,N)},gt.useTransition=function(){return Q.H.useTransition()},gt.version="19.0.0",gt}var ap;function Ic(){return ap||(ap=1,qu.exports=bx()),qu.exports}var Qu={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Sx(){if(rp)return _e;rp=1;var a=Ic();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:g}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_e.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,g)},_e.flushSync=function(m){var p=h.T,g=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=p,r.p=g,r.d.f()}},_e.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},_e.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},_e.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,_=f(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:x}):g==="script"&&r.d.X(m,{crossOrigin:_,integrity:v,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_e.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},_e.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=f(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_e.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},_e.requestFormReset=function(m){r.d.r(m)},_e.unstable_batchedUpdates=function(m,p){return m(p)},_e.useFormState=function(m,p,g){return h.H.useFormState(m,p,g)},_e.useFormStatus=function(){return h.H.useHostTransitionStatus()},_e.version="19.0.0",_e}var lp;function Ax(){if(lp)return Qu.exports;lp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Qu.exports=Sx(),Qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function Tx(){if(op)return Da;op=1;var a=vx(),t=Ic(),n=Ax();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m:return"Fragment";case f:return"Portal";case g:return"Profiler";case p:return"StrictMode";case R:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case w:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ut(e.type)||"Memo";case U:i=e._payload,e=e._init;try{return ut(e(i))}catch{}}return null}var I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,tt,xt;function pt(e){if(tt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",xt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+xt}var zt=!1;function Ht(e,i){if(!e||zt)return"";zt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(X){var Y=X}Reflect.construct(e,[],K)}else{try{K.call()}catch(X){Y=X}e.call(K.prototype)}}else{try{throw Error()}catch(X){Y=X}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var M=y.split(`
`),O=b.split(`
`);for(c=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===M.length||c===O.length)for(l=M.length-1,c=O.length-1;1<=l&&0<=c&&M[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(M[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||M[l]!==O[c]){var V=`
`+M[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=c);break}}}finally{zt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?pt(s):""}function S(e){switch(e.tag){case 26:case 27:case 5:return pt(e.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return e=Ht(e.type,!1),e;case 11:return e=Ht(e.type.render,!1),e;case 1:return e=Ht(e.type,!0),e;default:return""}}function C(e){try{var i="";do i+=S(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function E(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function H(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function A(e){if(E(e)!==e)throw Error(r(188))}function z(e){var i=e.alternate;if(!i){if(i=E(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,l=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return A(c),e;if(d===l)return A(c),i;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=d;else{for(var y=!1,b=c.child;b;){if(b===s){y=!0,s=c,l=d;break}if(b===l){y=!0,l=c,s=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===s){y=!0,s=d,l=c;break}if(b===l){y=!0,l=d,s=c;break}b=b.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function N(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=N(e),i!==null)return i;e=e.sibling}return null}var P=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},et=[],ht=-1;function it(e){return{current:e}}function mt(e){0>ht||(e.current=et[ht],et[ht]=null,ht--)}function rt(e,i){ht++,et[ht]=e.current,e.current=i}var Wt=it(null),ie=it(null),ne=it(null),xe=it(null);function dt(e,i){switch(rt(ne,i),rt(ie,e),rt(Wt,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?wm(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=wm(e),i=Mm(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}mt(Wt),rt(Wt,i)}function yt(){mt(Wt),mt(ie),mt(ne)}function Pn(e){e.memoizedState!==null&&rt(xe,e);var i=Wt.current,s=Mm(i,e.type);i!==s&&(rt(ie,e),rt(Wt,s))}function jn(e){ie.current===e&&(mt(Wt),mt(ie)),xe.current===e&&(mt(xe),Ca._currentValue=J)}var Wa=Object.prototype.hasOwnProperty,Ul=a.unstable_scheduleCallback,Gl=a.unstable_cancelCallback,Qy=a.unstable_shouldYield,Zy=a.unstable_requestPaint,li=a.unstable_now,Wy=a.unstable_getCurrentPriorityLevel,dh=a.unstable_ImmediatePriority,mh=a.unstable_UserBlockingPriority,Ka=a.unstable_NormalPriority,Ky=a.unstable_LowPriority,ph=a.unstable_IdlePriority,Iy=a.log,$y=a.unstable_setDisableYieldValue,ks=null,Ce=null;function Jy(e){if(Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(ks,e,void 0,(e.current.flags&128)===128)}catch{}}function Hi(e){if(typeof Iy=="function"&&$y(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(ks,e)}catch{}}var Ee=Math.clz32?Math.clz32:i0,t0=Math.log,e0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(t0(e)/e0|0)|0}var Ia=128,$a=4194304;function un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ja(e,i){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,d=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var b=s&134217727;return b!==0?(s=b&~c,s!==0?l=un(s):(d&=b,d!==0?l=un(d):e||(y=b&~y,y!==0&&(l=un(y))))):(b=s&~c,b!==0?l=un(b):d!==0?l=un(d):e||(y=s&~y,y!==0&&(l=un(y)))),l===0?0:i!==0&&i!==l&&(i&c)===0&&(c=l&-l,y=i&-i,c>=y||c===32&&(y&4194176)!==0)?i:l}function Hs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function n0(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(){var e=Ia;return Ia<<=1,(Ia&4194176)===0&&(Ia=128),e}function yh(){var e=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),e}function kl(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ls(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function s0(e,i,s,l,c,d){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,M=e.expirationTimes,O=e.hiddenUpdates;for(s=y&~s;0<s;){var V=31-Ee(s),K=1<<V;b[V]=0,M[V]=-1;var Y=O[V];if(Y!==null)for(O[V]=null,V=0;V<Y.length;V++){var X=Y[V];X!==null&&(X.lane&=-536870913)}s&=~K}l!==0&&_h(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function _h(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ee(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function xh(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Ee(s),c=1<<l;c&i|e[l]&i&&(e[l]|=i),s&=~c}}function vh(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bh(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Vm(e.type))}function a0(e,i){var s=F.p;try{return F.p=e,i()}finally{F.p=s}}var Li=Math.random().toString(36).slice(2),ge="__reactFiber$"+Li,Ae="__reactProps$"+Li,Xn="__reactContainer$"+Li,Hl="__reactEvents$"+Li,r0="__reactListeners$"+Li,l0="__reactHandles$"+Li,Sh="__reactResources$"+Li,Ns="__reactMarker$"+Li;function Ll(e){delete e[ge],delete e[Ae],delete e[Hl],delete e[r0],delete e[l0]}function cn(e){var i=e[ge];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Xn]||s[ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Rm(e);e!==null;){if(s=e[ge])return s;e=Rm(e)}return i}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[ge]||e[Xn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ys(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Fn(e){var i=e[Sh];return i||(i=e[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(e){e[Ns]=!0}var Ah=new Set,Th={};function hn(e,i){qn(e,i),qn(e+"Capture",i)}function qn(e,i){for(Th[e]=i,e=0;e<i.length;e++)Ah.add(i[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},Mh={};function u0(e){return Wa.call(Mh,e)?!0:Wa.call(wh,e)?!1:o0.test(e)?Mh[e]=!0:(wh[e]=!0,!1)}function tr(e,i,s){if(u0(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function er(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function yi(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ch(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function c0(e){var i=Ch(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ir(e){e._valueTracker||(e._valueTracker=c0(e))}function Eh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Ch(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var h0=/[\n"\\]/g;function Le(e){return e.replace(h0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nl(e,i,s,l,c,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Yl(e,y,He(i)):s!=null?Yl(e,y,He(s)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+He(b):e.removeAttribute("name")}function Rh(e,i,s,l,c,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+He(s):"",i=i!=null?""+He(i):s,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Yl(e,i,s){i==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Qn(e,i,s,l){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function zh(e,i,s){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+He(s):""}function Bh(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(P(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=He(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Zn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var f0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oh(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||f0.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Dh(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in i)l=i[c],i.hasOwnProperty(c)&&s[c]!==l&&Oh(e,c,l)}else for(var d in i)i.hasOwnProperty(d)&&Oh(e,d,i[d])}function Pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return m0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jl=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wn=null,Kn=null;function Uh(e){var i=Vn(e);if(i&&(e=i.stateNode)){var s=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(Nl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Le(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var c=l[Ae]||null;if(!c)throw Error(r(90));Nl(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Eh(l)}break t;case"textarea":zh(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Qn(e,!!s.multiple,i,!1)}}}var Vl=!1;function Gh(e,i,s){if(Vl)return e(i,s);Vl=!0;try{var l=e(i);return l}finally{if(Vl=!1,(Wn!==null||Kn!==null)&&(Pr(),Wn&&(i=Wn,e=Kn,Kn=Wn=null,Uh(i),e)))for(i=0;i<e.length;i++)Uh(e[i])}}function Ps(e,i){var s=e.stateNode;if(s===null)return null;var l=s[Ae]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Fl=!1;if(gi)try{var js={};Object.defineProperty(js,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Fl=!1}var Ni=null,ql=null,ar=null;function kh(){if(ar)return ar;var e,i=ql,s=i.length,l,c="value"in Ni?Ni.value:Ni.textContent,d=c.length;for(e=0;e<s&&i[e]===c[e];e++);var y=s-e;for(l=1;l<=y&&i[s-l]===c[d-l];l++);return ar=c.slice(e,1<l?1-l:void 0)}function rr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function lr(){return!0}function Hh(){return!1}function Te(e){function i(s,l,c,d,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:Hh,this.isPropagationStopped=Hh,this}return $(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=Te(fn),Xs=$({},fn,{view:0,detail:0}),p0=Te(Xs),Ql,Zl,Vs,ur=$({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(Ql=e.screenX-Vs.screenX,Zl=e.screenY-Vs.screenY):Zl=Ql=0,Vs=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),Lh=Te(ur),g0=$({},ur,{dataTransfer:0}),y0=Te(g0),_0=$({},Xs,{relatedTarget:0}),Wl=Te(_0),x0=$({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=Te(x0),b0=$({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=Te(b0),A0=$({},fn,{data:0}),Nh=Te(A0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=M0[e])?!!i[e]:!1}function Kl(){return C0}var E0=$({},Xs,{key:function(e){if(e.key){var i=T0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=Te(E0),z0=$({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=Te(z0),B0=$({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),O0=Te(B0),D0=$({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=Te(D0),G0=$({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=Te(G0),H0=$({},fn,{newState:0,oldState:0}),L0=Te(H0),N0=[9,13,27,32],Il=gi&&"CompositionEvent"in window,Fs=null;gi&&"documentMode"in document&&(Fs=document.documentMode);var Y0=gi&&"TextEvent"in window&&!Fs,Ph=gi&&(!Il||Fs&&8<Fs&&11>=Fs),jh=" ",Xh=!1;function Vh(e,i){switch(e){case"keyup":return N0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function P0(e,i){switch(e){case"compositionend":return Fh(i);case"keypress":return i.which!==32?null:(Xh=!0,jh);case"textInput":return e=i.data,e===jh&&Xh?null:e;default:return null}}function j0(e,i){if(In)return e==="compositionend"||!Il&&Vh(e,i)?(e=kh(),ar=ql=Ni=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ph&&i.locale!=="ko"?null:i.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!X0[e.type]:i==="textarea"}function Qh(e,i,s,l){Wn?Kn?Kn.push(l):Kn=[l]:Wn=l,i=qr(i,"onChange"),0<i.length&&(s=new or("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var qs=null,Qs=null;function V0(e){vm(e,0)}function cr(e){var i=Ys(e);if(Eh(i))return e}function Zh(e,i){if(e==="change")return i}var Wh=!1;if(gi){var $l;if(gi){var Jl="oninput"in document;if(!Jl){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Jl=typeof Kh.oninput=="function"}$l=Jl}else $l=!1;Wh=$l&&(!document.documentMode||9<document.documentMode)}function Ih(){qs&&(qs.detachEvent("onpropertychange",$h),Qs=qs=null)}function $h(e){if(e.propertyName==="value"&&cr(Qs)){var i=[];Qh(i,Qs,e,Xl(e)),Gh(V0,i)}}function F0(e,i,s){e==="focusin"?(Ih(),qs=i,Qs=s,qs.attachEvent("onpropertychange",$h)):e==="focusout"&&Ih()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(Qs)}function Q0(e,i){if(e==="click")return cr(i)}function Z0(e,i){if(e==="input"||e==="change")return cr(i)}function W0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Re=typeof Object.is=="function"?Object.is:W0;function Zs(e,i){if(Re(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Wa.call(i,c)||!Re(e[c],i[c]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,i){var s=Jh(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Jh(s)}}function ef(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ef(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=nr(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=nr(e.document)}return i}function to(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function K0(e,i){var s=nf(i);i=e.focusedElem;var l=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&ef(i.ownerDocument.documentElement,i)){if(l!==null&&to(i)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(s,i.value.length);else if(s=(e=i.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var c=i.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!s.extend&&d>l&&(c=l,l=d,d=c),c=tf(i,d);var y=tf(i,l);c&&y&&(s.rangeCount!==1||s.anchorNode!==c.node||s.anchorOffset!==c.offset||s.focusNode!==y.node||s.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),s.removeAllRanges(),d>l?(s.addRange(e),s.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),s.addRange(e)))}}for(e=[],s=i;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)s=e[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var I0=gi&&"documentMode"in document&&11>=document.documentMode,$n=null,eo=null,Ws=null,io=!1;function sf(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;io||$n==null||$n!==nr(l)||(l=$n,"selectionStart"in l&&to(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Zs(Ws,l)||(Ws=l,l=qr(eo,"onSelect"),0<l.length&&(i=new or("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=$n)))}function dn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Jn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},no={},af={};gi&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function mn(e){if(no[e])return no[e];if(!Jn[e])return e;var i=Jn[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in af)return no[e]=i[s];return e}var rf=mn("animationend"),lf=mn("animationiteration"),of=mn("animationstart"),$0=mn("transitionrun"),J0=mn("transitionstart"),t_=mn("transitioncancel"),uf=mn("transitionend"),cf=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ie(e,i){cf.set(e,i),hn(i,[e])}var Ne=[],ts=0,so=0;function hr(){for(var e=ts,i=so=ts=0;i<e;){var s=Ne[i];Ne[i++]=null;var l=Ne[i];Ne[i++]=null;var c=Ne[i];Ne[i++]=null;var d=Ne[i];if(Ne[i++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}d!==0&&ff(s,c,d)}}function fr(e,i,s,l){Ne[ts++]=e,Ne[ts++]=i,Ne[ts++]=s,Ne[ts++]=l,so|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ao(e,i,s,l){return fr(e,i,s,l),dr(e)}function Yi(e,i){return fr(e,null,null,i),dr(e)}function ff(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;c&&i!==null&&e.tag===3&&(d=e.stateNode,c=31-Ee(s),d=d.hiddenUpdates,e=d[c],e===null?d[c]=[i]:e.push(i),i.lane=s|536870912)}function dr(e){if(50<va)throw va=0,fu=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var es={},df=new WeakMap;function Ye(e,i){if(typeof e=="object"&&e!==null){var s=df.get(e);return s!==void 0?s:(i={value:e,source:i,stack:C(i)},df.set(e,i),i)}return{value:e,source:i,stack:C(i)}}var is=[],ns=0,mr=null,pr=0,Pe=[],je=0,pn=null,_i=1,xi="";function gn(e,i){is[ns++]=pr,is[ns++]=mr,mr=e,pr=i}function mf(e,i,s){Pe[je++]=_i,Pe[je++]=xi,Pe[je++]=pn,pn=e;var l=_i;e=xi;var c=32-Ee(l)-1;l&=~(1<<c),s+=1;var d=32-Ee(i)+c;if(30<d){var y=c-c%5;d=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-Ee(i)+c|s<<c|l,xi=d+e}else _i=1<<d|s<<c|l,xi=e}function ro(e){e.return!==null&&(gn(e,1),mf(e,1,0))}function lo(e){for(;e===mr;)mr=is[--ns],is[ns]=null,pr=is[--ns],is[ns]=null;for(;e===pn;)pn=Pe[--je],Pe[je]=null,xi=Pe[--je],Pe[je]=null,_i=Pe[--je],Pe[je]=null}var ve=null,he=null,Et=!1,$e=null,oi=!1,oo=Error(r(519));function yn(e){var i=Error(r(418,""));throw $s(Ye(i,e)),oo}function pf(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[ge]=e,i[Ae]=l,s){case"dialog":St("cancel",i),St("close",i);break;case"iframe":case"object":case"embed":St("load",i);break;case"video":case"audio":for(s=0;s<Sa.length;s++)St(Sa[s],i);break;case"source":St("error",i);break;case"img":case"image":case"link":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"input":St("invalid",i),Rh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ir(i);break;case"select":St("invalid",i);break;case"textarea":St("invalid",i),Bh(i,l.value,l.defaultValue,l.children),ir(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Tm(i.textContent,s)?(l.popover!=null&&(St("beforetoggle",i),St("toggle",i)),l.onScroll!=null&&St("scroll",i),l.onScrollEnd!=null&&St("scrollend",i),l.onClick!=null&&(i.onclick=Qr),i=!0):i=!1,i||yn(e)}function gf(e){for(ve=e.return;ve;)switch(ve.tag){case 3:case 27:oi=!0;return;case 5:case 13:oi=!1;return;default:ve=ve.return}}function Ks(e){if(e!==ve)return!1;if(!Et)return gf(e),Et=!0,!1;var i=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ru(e.type,e.memoizedProps)),s=!s),s&&(i=!0),i&&he&&yn(e),gf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){he=ti(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}he=null}}else he=ve?ti(e.stateNode.nextSibling):null;return!0}function Is(){he=ve=null,Et=!1}function $s(e){$e===null?$e=[e]:$e.push(e)}var Js=Error(r(460)),yf=Error(r(474)),uo={then:function(){}};function _f(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gr(){}function xf(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(gr,gr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Js?Error(r(483)):e;default:if(typeof i.status=="string")i.then(gr,gr);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=l}},function(l){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Js?Error(r(483)):e}throw ta=i,Js}}var ta=null;function vf(){if(ta===null)throw Error(r(459));var e=ta;return ta=null,e}var ss=null,ea=0;function yr(e){var i=ea;return ea+=1,ss===null&&(ss=[]),xf(ss,e,i)}function ia(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function _r(e,i){throw i.$$typeof===u?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bf(e){var i=e._init;return i(e._payload)}function Sf(e){function i(G,B){if(e){var L=G.deletions;L===null?(G.deletions=[B],G.flags|=16):L.push(B)}}function s(G,B){if(!e)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function l(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function c(G,B){return G=$i(G,B),G.index=0,G.sibling=null,G}function d(G,B,L){return G.index=L,e?(L=G.alternate,L!==null?(L=L.index,L<B?(G.flags|=33554434,B):L):(G.flags|=33554434,B)):(G.flags|=1048576,B)}function y(G){return e&&G.alternate===null&&(G.flags|=33554434),G}function b(G,B,L,Z){return B===null||B.tag!==6?(B=su(L,G.mode,Z),B.return=G,B):(B=c(B,L),B.return=G,B)}function M(G,B,L,Z){var nt=L.type;return nt===m?V(G,B,L.props.children,Z,L.key):B!==null&&(B.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&bf(nt)===B.type)?(B=c(B,L.props),ia(B,L),B.return=G,B):(B=kr(L.type,L.key,L.props,null,G.mode,Z),ia(B,L),B.return=G,B)}function O(G,B,L,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==L.containerInfo||B.stateNode.implementation!==L.implementation?(B=au(L,G.mode,Z),B.return=G,B):(B=c(B,L.children||[]),B.return=G,B)}function V(G,B,L,Z,nt){return B===null||B.tag!==7?(B=Cn(L,G.mode,Z,nt),B.return=G,B):(B=c(B,L),B.return=G,B)}function K(G,B,L){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=su(""+B,G.mode,L),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return L=kr(B.type,B.key,B.props,null,G.mode,L),ia(L,B),L.return=G,L;case f:return B=au(B,G.mode,L),B.return=G,B;case U:var Z=B._init;return B=Z(B._payload),K(G,B,L)}if(P(B)||q(B))return B=Cn(B,G.mode,L,null),B.return=G,B;if(typeof B.then=="function")return K(G,yr(B),L);if(B.$$typeof===x)return K(G,Dr(G,B),L);_r(G,B)}return null}function Y(G,B,L,Z){var nt=B!==null?B.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return nt!==null?null:b(G,B,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return L.key===nt?M(G,B,L,Z):null;case f:return L.key===nt?O(G,B,L,Z):null;case U:return nt=L._init,L=nt(L._payload),Y(G,B,L,Z)}if(P(L)||q(L))return nt!==null?null:V(G,B,L,Z,null);if(typeof L.then=="function")return Y(G,B,yr(L),Z);if(L.$$typeof===x)return Y(G,B,Dr(G,L),Z);_r(G,L)}return null}function X(G,B,L,Z,nt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return G=G.get(L)||null,b(B,G,""+Z,nt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return G=G.get(Z.key===null?L:Z.key)||null,M(B,G,Z,nt);case f:return G=G.get(Z.key===null?L:Z.key)||null,O(B,G,Z,nt);case U:var vt=Z._init;return Z=vt(Z._payload),X(G,B,L,Z,nt)}if(P(Z)||q(Z))return G=G.get(L)||null,V(B,G,Z,nt,null);if(typeof Z.then=="function")return X(G,B,L,yr(Z),nt);if(Z.$$typeof===x)return X(G,B,L,Dr(B,Z),nt);_r(B,Z)}return null}function st(G,B,L,Z){for(var nt=null,vt=null,lt=B,ct=B=0,ue=null;lt!==null&&ct<L.length;ct++){lt.index>ct?(ue=lt,lt=null):ue=lt.sibling;var Rt=Y(G,lt,L[ct],Z);if(Rt===null){lt===null&&(lt=ue);break}e&&lt&&Rt.alternate===null&&i(G,lt),B=d(Rt,B,ct),vt===null?nt=Rt:vt.sibling=Rt,vt=Rt,lt=ue}if(ct===L.length)return s(G,lt),Et&&gn(G,ct),nt;if(lt===null){for(;ct<L.length;ct++)lt=K(G,L[ct],Z),lt!==null&&(B=d(lt,B,ct),vt===null?nt=lt:vt.sibling=lt,vt=lt);return Et&&gn(G,ct),nt}for(lt=l(lt);ct<L.length;ct++)ue=X(lt,G,ct,L[ct],Z),ue!==null&&(e&&ue.alternate!==null&&lt.delete(ue.key===null?ct:ue.key),B=d(ue,B,ct),vt===null?nt=ue:vt.sibling=ue,vt=ue);return e&&lt.forEach(function(rn){return i(G,rn)}),Et&&gn(G,ct),nt}function ft(G,B,L,Z){if(L==null)throw Error(r(151));for(var nt=null,vt=null,lt=B,ct=B=0,ue=null,Rt=L.next();lt!==null&&!Rt.done;ct++,Rt=L.next()){lt.index>ct?(ue=lt,lt=null):ue=lt.sibling;var rn=Y(G,lt,Rt.value,Z);if(rn===null){lt===null&&(lt=ue);break}e&&lt&&rn.alternate===null&&i(G,lt),B=d(rn,B,ct),vt===null?nt=rn:vt.sibling=rn,vt=rn,lt=ue}if(Rt.done)return s(G,lt),Et&&gn(G,ct),nt;if(lt===null){for(;!Rt.done;ct++,Rt=L.next())Rt=K(G,Rt.value,Z),Rt!==null&&(B=d(Rt,B,ct),vt===null?nt=Rt:vt.sibling=Rt,vt=Rt);return Et&&gn(G,ct),nt}for(lt=l(lt);!Rt.done;ct++,Rt=L.next())Rt=X(lt,G,ct,Rt.value,Z),Rt!==null&&(e&&Rt.alternate!==null&&lt.delete(Rt.key===null?ct:Rt.key),B=d(Rt,B,ct),vt===null?nt=Rt:vt.sibling=Rt,vt=Rt);return e&&lt.forEach(function(mx){return i(G,mx)}),Et&&gn(G,ct),nt}function Vt(G,B,L,Z){if(typeof L=="object"&&L!==null&&L.type===m&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case h:t:{for(var nt=L.key;B!==null;){if(B.key===nt){if(nt=L.type,nt===m){if(B.tag===7){s(G,B.sibling),Z=c(B,L.props.children),Z.return=G,G=Z;break t}}else if(B.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&bf(nt)===B.type){s(G,B.sibling),Z=c(B,L.props),ia(Z,L),Z.return=G,G=Z;break t}s(G,B);break}else i(G,B);B=B.sibling}L.type===m?(Z=Cn(L.props.children,G.mode,Z,L.key),Z.return=G,G=Z):(Z=kr(L.type,L.key,L.props,null,G.mode,Z),ia(Z,L),Z.return=G,G=Z)}return y(G);case f:t:{for(nt=L.key;B!==null;){if(B.key===nt)if(B.tag===4&&B.stateNode.containerInfo===L.containerInfo&&B.stateNode.implementation===L.implementation){s(G,B.sibling),Z=c(B,L.children||[]),Z.return=G,G=Z;break t}else{s(G,B);break}else i(G,B);B=B.sibling}Z=au(L,G.mode,Z),Z.return=G,G=Z}return y(G);case U:return nt=L._init,L=nt(L._payload),Vt(G,B,L,Z)}if(P(L))return st(G,B,L,Z);if(q(L)){if(nt=q(L),typeof nt!="function")throw Error(r(150));return L=nt.call(L),ft(G,B,L,Z)}if(typeof L.then=="function")return Vt(G,B,yr(L),Z);if(L.$$typeof===x)return Vt(G,B,Dr(G,L),Z);_r(G,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,B!==null&&B.tag===6?(s(G,B.sibling),Z=c(B,L),Z.return=G,G=Z):(s(G,B),Z=su(L,G.mode,Z),Z.return=G,G=Z),y(G)):s(G,B)}return function(G,B,L,Z){try{ea=0;var nt=Vt(G,B,L,Z);return ss=null,nt}catch(lt){if(lt===Js)throw lt;var vt=qe(29,lt,null,G.mode);return vt.lanes=Z,vt.return=G,vt}finally{}}}var _n=Sf(!0),Af=Sf(!1),as=it(null),xr=it(0);function Tf(e,i){e=zi,rt(xr,e),rt(as,i),zi=e|i.baseLanes}function co(){rt(xr,zi),rt(as,as.current)}function ho(){zi=xr.current,mt(as),mt(xr)}var Xe=it(null),ui=null;function Pi(e){var i=e.alternate;rt(se,se.current&1),rt(Xe,e),ui===null&&(i===null||as.current!==null||i.memoizedState!==null)&&(ui=e)}function wf(e){if(e.tag===22){if(rt(se,se.current),rt(Xe,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else ji()}function ji(){rt(se,se.current),rt(Xe,Xe.current)}function vi(e){mt(Xe),ui===e&&(ui=null),mt(se)}var se=it(0);function vr(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var e_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},i_=a.unstable_scheduleCallback,n_=a.unstable_NormalPriority,ae={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new e_,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&i_(n_,function(){e.controller.abort()})}var sa=null,mo=0,rs=0,ls=null;function s_(e,i){if(sa===null){var s=sa=[];mo=0,rs=vu(),ls={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mo++,i.then(Mf,Mf),i}function Mf(){if(--mo===0&&sa!==null){ls!==null&&(ls.status="fulfilled");var e=sa;sa=null,rs=0,ls=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function a_(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Cf=I.S;I.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&s_(e,i),Cf!==null&&Cf(e,i)};var xn=it(null);function po(){var e=xn.current;return e!==null?e:Gt.pooledCache}function br(e,i){i===null?rt(xn,xn.current):rt(xn,i.pool)}function Ef(){var e=po();return e===null?null:{parent:ae._currentValue,pool:e}}var Xi=0,_t=null,Bt=null,Kt=null,Sr=!1,os=!1,vn=!1,Ar=0,aa=0,us=null,r_=0;function Zt(){throw Error(r(321))}function go(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Re(e[s],i[s]))return!1;return!0}function yo(e,i,s,l,c,d){return Xi=d,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=e===null||e.memoizedState===null?bn:Vi,vn=!1,d=s(l,c),vn=!1,os&&(d=zf(i,s,l,c)),Rf(e),d}function Rf(e){I.H=ci;var i=Bt!==null&&Bt.next!==null;if(Xi=0,Kt=Bt=_t=null,Sr=!1,aa=0,us=null,i)throw Error(r(300));e===null||le||(e=e.dependencies,e!==null&&Or(e)&&(le=!0))}function zf(e,i,s,l){_t=e;var c=0;do{if(os&&(us=null),aa=0,os=!1,25<=c)throw Error(r(301));if(c+=1,Kt=Bt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=Sn,d=i(s,l)}while(os);return d}function l_(){var e=I.H,i=e.useState()[0];return i=typeof i.then=="function"?ra(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(_t.flags|=1024),i}function _o(){var e=Ar!==0;return Ar=0,e}function xo(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function vo(e){if(Sr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Sr=!1}Xi=0,Kt=Bt=_t=null,os=!1,aa=Ar=0,us=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?_t.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function It(){if(Bt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=Kt===null?_t.memoizedState:Kt.next;if(i!==null)Kt=i,Bt=e;else{if(e===null)throw _t.alternate===null?Error(r(467)):Error(r(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Kt===null?_t.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}var Tr;Tr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ra(e){var i=aa;return aa+=1,us===null&&(us=[]),e=xf(us,e,i),i=_t,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?bn:Vi),e}function wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ra(e);if(e.$$typeof===x)return ye(e)}throw Error(r(438,String(e)))}function bo(e){var i=null,s=_t.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=_t.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Tr(),_t.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=j;return i.index++,s}function bi(e,i){return typeof i=="function"?i(e):i}function Mr(e){var i=It();return So(i,Bt,e)}function So(e,i,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}i.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{i=c.next;var b=y=null,M=null,O=i,V=!1;do{var K=O.lane&-536870913;if(K!==O.lane?(Tt&K)===K:(Xi&K)===K){var Y=O.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),K===rs&&(V=!0);else if((Xi&Y)===Y){O=O.next,Y===rs&&(V=!0);continue}else K={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(b=M=K,y=d):M=M.next=K,_t.lanes|=Y,Ji|=Y;K=O.action,vn&&s(d,K),d=O.hasEagerState?O.eagerState:s(d,K)}else Y={lane:K,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(b=M=Y,y=d):M=M.next=Y,_t.lanes|=K,Ji|=K;O=O.next}while(O!==null&&O!==i);if(M===null?y=d:M.next=b,!Re(d,e.memoizedState)&&(le=!0,V&&(s=ls,s!==null)))throw s;e.memoizedState=d,e.baseState=y,e.baseQueue=M,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ao(e){var i=It(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);Re(d,i.memoizedState)||(le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Bf(e,i,s){var l=_t,c=It(),d=Et;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var y=!Re((Bt||c).memoizedState,s);if(y&&(c.memoizedState=s,le=!0),c=c.queue,Mo(Uf.bind(null,l,c,e),[e]),c.getSnapshot!==i||y||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,cs(9,Df.bind(null,l,c,s,i),{destroy:void 0},null),Gt===null)throw Error(r(349));d||(Xi&60)!==0||Of(l,i,s)}return s}function Of(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=_t.updateQueue,i===null?(i=Tr(),_t.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Df(e,i,s,l){i.value=s,i.getSnapshot=l,Gf(i)&&kf(e)}function Uf(e,i,s){return s(function(){Gf(i)&&kf(e)})}function Gf(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Re(e,s)}catch{return!0}}function kf(e){var i=Yi(e,2);i!==null&&be(i,e,2)}function To(e){var i=we();if(typeof e=="function"){var s=e;if(e=s(),vn){Hi(!0);try{s()}finally{Hi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},i}function Hf(e,i,s,l){return e.baseState=s,So(e,Bt,typeof l=="function"?l:bi)}function o_(e,i,s,l,c){if(Rr(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};I.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Lf(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Lf(e,i){var s=i.action,l=i.payload,c=e.state;if(i.isTransition){var d=I.T,y={};I.T=y;try{var b=s(c,l),M=I.S;M!==null&&M(y,b),Nf(e,i,b)}catch(O){wo(e,i,O)}finally{I.T=d}}else try{d=s(c,l),Nf(e,i,d)}catch(O){wo(e,i,O)}}function Nf(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Yf(e,i,l)},function(l){return wo(e,i,l)}):Yf(e,i,s)}function Yf(e,i,s){i.status="fulfilled",i.value=s,Pf(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Lf(e,s)))}function wo(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Pf(i),i=i.next;while(i!==l)}e.action=null}function Pf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function jf(e,i){return i}function Xf(e,i){if(Et){var s=Gt.formState;if(s!==null){t:{var l=_t;if(Et){if(he){e:{for(var c=he,d=oi;c.nodeType!==8;){if(!d){c=null;break e}if(c=ti(c.nextSibling),c===null){c=null;break e}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){he=ti(c.nextSibling),l=c.data==="F!";break t}}yn(l)}l=!1}l&&(i=s[0])}}return s=we(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:i},s.queue=l,s=ld.bind(null,_t,l),l.dispatch=s,l=To(!1),d=Bo.bind(null,_t,!1,l.queue),l=we(),c={state:i,dispatch:null,action:e,pending:null},l.queue=c,s=o_.bind(null,_t,c,d,s),c.dispatch=s,l.memoizedState=e,[i,s,!1]}function Vf(e){var i=It();return Ff(i,Bt,e)}function Ff(e,i,s){i=So(e,i,jf)[0],e=Mr(bi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ra(i):i;var l=It(),c=l.queue,d=c.dispatch;return s!==l.memoizedState&&(_t.flags|=2048,cs(9,u_.bind(null,c,s),{destroy:void 0},null)),[i,d,e]}function u_(e,i){e.action=i}function qf(e){var i=It(),s=Bt;if(s!==null)return Ff(i,s,e);It(),i=i.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function cs(e,i,s,l){return e={tag:e,create:i,inst:s,deps:l,next:null},i=_t.updateQueue,i===null&&(i=Tr(),_t.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Qf(){return It().memoizedState}function Cr(e,i,s,l){var c=we();_t.flags|=e,c.memoizedState=cs(1|i,s,{destroy:void 0},l===void 0?null:l)}function Er(e,i,s,l){var c=It();l=l===void 0?null:l;var d=c.memoizedState.inst;Bt!==null&&l!==null&&go(l,Bt.memoizedState.deps)?c.memoizedState=cs(i,s,d,l):(_t.flags|=e,c.memoizedState=cs(1|i,s,d,l))}function Zf(e,i){Cr(8390656,8,e,i)}function Mo(e,i){Er(2048,8,e,i)}function Wf(e,i){return Er(4,2,e,i)}function Kf(e,i){return Er(4,4,e,i)}function If(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $f(e,i,s){s=s!=null?s.concat([e]):null,Er(4,4,If.bind(null,i,e),s)}function Co(){}function Jf(e,i){var s=It();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&go(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function td(e,i){var s=It();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&go(i,l[1]))return l[0];if(l=e(),vn){Hi(!0);try{e()}finally{Hi(!1)}}return s.memoizedState=[l,i],l}function Eo(e,i,s){return s===void 0||(Xi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=im(),_t.lanes|=e,Ji|=e,s)}function ed(e,i,s,l){return Re(s,i)?s:as.current!==null?(e=Eo(e,s,l),Re(e,i)||(le=!0),e):(Xi&42)===0?(le=!0,e.memoizedState=s):(e=im(),_t.lanes|=e,Ji|=e,i)}function id(e,i,s,l,c){var d=F.p;F.p=d!==0&&8>d?d:8;var y=I.T,b={};I.T=b,Bo(e,!1,i,s);try{var M=c(),O=I.S;if(O!==null&&O(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=a_(M,l);la(e,i,V,De(e))}else la(e,i,l,De(e))}catch(K){la(e,i,{then:function(){},status:"rejected",reason:K},De())}finally{F.p=d,I.T=y}}function c_(){}function Ro(e,i,s,l){if(e.tag!==5)throw Error(r(476));var c=nd(e).queue;id(e,c,i,J,s===null?c_:function(){return sd(e),s(l)})}function nd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:J},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sd(e){var i=nd(e).next.queue;la(e,i,{},De())}function zo(){return ye(Ca)}function ad(){return It().memoizedState}function rd(){return It().memoizedState}function h_(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=De();e=Qi(s);var l=Zi(i,e,s);l!==null&&(be(l,i,s),ca(l,i,s)),i={cache:fo()},e.payload=i;return}i=i.return}}function f_(e,i,s){var l=De();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Rr(e)?od(i,s):(s=ao(e,i,s,l),s!==null&&(be(s,e,l),ud(s,i,l)))}function ld(e,i,s){var l=De();la(e,i,s,l)}function la(e,i,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Rr(e))od(i,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,b=d(y,s);if(c.hasEagerState=!0,c.eagerState=b,Re(b,y))return fr(e,i,c,0),Gt===null&&hr(),!1}catch{}finally{}if(s=ao(e,i,c,l),s!==null)return be(s,e,l),ud(s,i,l),!0}return!1}function Bo(e,i,s,l){if(l={lane:2,revertLane:vu(),action:l,hasEagerState:!1,eagerState:null,next:null},Rr(e)){if(i)throw Error(r(479))}else i=ao(e,s,l,2),i!==null&&be(i,e,2)}function Rr(e){var i=e.alternate;return e===_t||i!==null&&i===_t}function od(e,i){os=Sr=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function ud(e,i,s){if((s&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,xh(e,s)}}var ci={readContext:ye,use:wr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt};ci.useCacheRefresh=Zt,ci.useMemoCache=Zt,ci.useHostTransitionStatus=Zt,ci.useFormState=Zt,ci.useActionState=Zt,ci.useOptimistic=Zt;var bn={readContext:ye,use:wr,useCallback:function(e,i){return we().memoizedState=[e,i===void 0?null:i],e},useContext:ye,useEffect:Zf,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Cr(4194308,4,If.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Cr(4194308,4,e,i)},useInsertionEffect:function(e,i){Cr(4,2,e,i)},useMemo:function(e,i){var s=we();i=i===void 0?null:i;var l=e();if(vn){Hi(!0);try{e()}finally{Hi(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=we();if(s!==void 0){var c=s(i);if(vn){Hi(!0);try{s(i)}finally{Hi(!1)}}}else c=i;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=f_.bind(null,_t,e),[l.memoizedState,e]},useRef:function(e){var i=we();return e={current:e},i.memoizedState=e},useState:function(e){e=To(e);var i=e.queue,s=ld.bind(null,_t,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Co,useDeferredValue:function(e,i){var s=we();return Eo(s,e,i)},useTransition:function(){var e=To(!1);return e=id.bind(null,_t,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=_t,c=we();if(Et){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),Gt===null)throw Error(r(349));(Tt&60)!==0||Of(l,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,Zf(Uf.bind(null,l,d,e),[e]),l.flags|=2048,cs(9,Df.bind(null,l,d,s,i),{destroy:void 0},null),s},useId:function(){var e=we(),i=Gt.identifierPrefix;if(Et){var s=xi,l=_i;s=(l&~(1<<32-Ee(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=Ar++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=r_++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return we().memoizedState=h_.bind(null,_t)}};bn.useMemoCache=bo,bn.useHostTransitionStatus=zo,bn.useFormState=Xf,bn.useActionState=Xf,bn.useOptimistic=function(e){var i=we();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Bo.bind(null,_t,!0,s),s.dispatch=i,[e,i]};var Vi={readContext:ye,use:wr,useCallback:Jf,useContext:ye,useEffect:Mo,useImperativeHandle:$f,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:td,useReducer:Mr,useRef:Qf,useState:function(){return Mr(bi)},useDebugValue:Co,useDeferredValue:function(e,i){var s=It();return ed(s,Bt.memoizedState,e,i)},useTransition:function(){var e=Mr(bi)[0],i=It().memoizedState;return[typeof e=="boolean"?e:ra(e),i]},useSyncExternalStore:Bf,useId:ad};Vi.useCacheRefresh=rd,Vi.useMemoCache=bo,Vi.useHostTransitionStatus=zo,Vi.useFormState=Vf,Vi.useActionState=Vf,Vi.useOptimistic=function(e,i){var s=It();return Hf(s,Bt,e,i)};var Sn={readContext:ye,use:wr,useCallback:Jf,useContext:ye,useEffect:Mo,useImperativeHandle:$f,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:td,useReducer:Ao,useRef:Qf,useState:function(){return Ao(bi)},useDebugValue:Co,useDeferredValue:function(e,i){var s=It();return Bt===null?Eo(s,e,i):ed(s,Bt.memoizedState,e,i)},useTransition:function(){var e=Ao(bi)[0],i=It().memoizedState;return[typeof e=="boolean"?e:ra(e),i]},useSyncExternalStore:Bf,useId:ad};Sn.useCacheRefresh=rd,Sn.useMemoCache=bo,Sn.useHostTransitionStatus=zo,Sn.useFormState=qf,Sn.useActionState=qf,Sn.useOptimistic=function(e,i){var s=It();return Bt!==null?Hf(s,Bt,e,i):(s.baseState=e,[e,s.queue.dispatch])};function Oo(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:$({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Do={isMounted:function(e){return(e=e._reactInternals)?E(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var l=De(),c=Qi(l);c.payload=i,s!=null&&(c.callback=s),i=Zi(e,c,l),i!==null&&(be(i,e,l),ca(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=De(),c=Qi(l);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=Zi(e,c,l),i!==null&&(be(i,e,l),ca(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=De(),l=Qi(s);l.tag=2,i!=null&&(l.callback=i),i=Zi(e,l,s),i!==null&&(be(i,e,s),ca(i,e,s))}};function cd(e,i,s,l,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!Zs(s,l)||!Zs(c,d):!0}function hd(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Do.enqueueReplaceState(i,i.state,null)}function An(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=$({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var zr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fd(e){zr(e)}function dd(e){console.error(e)}function md(e){zr(e)}function Br(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function pd(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uo(e,i,s){return s=Qi(s),s.tag=3,s.payload={element:null},s.callback=function(){Br(e,i)},s}function gd(e){return e=Qi(e),e.tag=3,e}function yd(e,i,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){pd(i,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){pd(i,s,l),typeof c!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function d_(e,i,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ua(i,s,c,!0),s=Xe.current,s!==null){switch(s.tag){case 13:return ui===null?pu():s.alternate===null&&Xt===0&&(Xt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===uo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),yu(e,l,c)),!1;case 22:return s.flags|=65536,l===uo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),yu(e,l,c)),!1}throw Error(r(435,s.tag))}return yu(e,l,c),pu(),!1}if(Et)return i=Xe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,l!==oo&&(e=Error(r(422),{cause:l}),$s(Ye(e,s)))):(l!==oo&&(i=Error(r(423),{cause:l}),$s(Ye(i,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ye(l,s),c=Uo(e.stateNode,l,c),Wo(e,c),Xt!==4&&(Xt=2)),!1;var d=Error(r(520),{cause:l});if(d=Ye(d,s),_a===null?_a=[d]:_a.push(d),Xt!==4&&(Xt=2),i===null)return!0;l=Ye(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Uo(s.stateNode,l,e),Wo(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tn===null||!tn.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=gd(c),yd(c,e,s,l),Wo(s,c),!1}s=s.return}while(s!==null);return!1}var _d=Error(r(461)),le=!1;function fe(e,i,s,l){i.child=e===null?Af(i,null,s,l):_n(i,e.child,s,l)}function xd(e,i,s,l,c){s=s.render;var d=i.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return wn(i),l=yo(e,i,s,y,d,c),b=_o(),e!==null&&!le?(xo(e,i,c),Si(e,i,c)):(Et&&b&&ro(i),i.flags|=1,fe(e,i,l,c),i.child)}function vd(e,i,s,l,c){if(e===null){var d=s.type;return typeof d=="function"&&!nu(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,bd(e,i,d,l,c)):(e=kr(s.type,null,l,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Xo(e,c)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Zs,s(y,l)&&e.ref===i.ref)return Si(e,i,c)}return i.flags|=1,e=$i(d,l),e.ref=i.ref,e.return=i,i.child=e}function bd(e,i,s,l,c){if(e!==null){var d=e.memoizedProps;if(Zs(d,l)&&e.ref===i.ref)if(le=!1,i.pendingProps=l=d,Xo(e,c))(e.flags&131072)!==0&&(le=!0);else return i.lanes=e.lanes,Si(e,i,c)}return Go(e,i,s,l,c)}function Sd(e,i,s){var l=i.pendingProps,c=l.children,d=(i.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(oa(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=y!==null?y.baseLanes|s:s,e!==null){for(c=i.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ad(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&br(i,y!==null?y.cachePool:null),y!==null?Tf(i,y):co(),wf(i);else return i.lanes=i.childLanes=536870912,Ad(e,i,y!==null?y.baseLanes|s:s,s)}else y!==null?(br(i,y.cachePool),Tf(i,y),ji(),i.memoizedState=null):(e!==null&&br(i,null),co(),ji());return fe(e,i,c,s),i.child}function Ad(e,i,s,l){var c=po();return c=c===null?null:{parent:ae._currentValue,pool:c},i.memoizedState={baseLanes:s,cachePool:c},e!==null&&br(i,null),co(),wf(i),e!==null&&ua(e,i,l,!0),null}function oa(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=2097664)}}function Go(e,i,s,l,c){return wn(i),s=yo(e,i,s,l,void 0,c),l=_o(),e!==null&&!le?(xo(e,i,c),Si(e,i,c)):(Et&&l&&ro(i),i.flags|=1,fe(e,i,s,c),i.child)}function Td(e,i,s,l,c,d){return wn(i),i.updateQueue=null,s=zf(i,l,s,c),Rf(e),l=_o(),e!==null&&!le?(xo(e,i,d),Si(e,i,d)):(Et&&l&&ro(i),i.flags|=1,fe(e,i,s,d),i.child)}function wd(e,i,s,l,c){if(wn(i),i.stateNode===null){var d=es,y=s.contextType;typeof y=="object"&&y!==null&&(d=ye(y)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Do,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qo(i),y=s.contextType,d.context=typeof y=="object"&&y!==null?ye(y):es,d.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Oo(i,s,y,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Do.enqueueReplaceState(d,d.state,null),fa(i,l,d,c),ha(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,M=An(s,b);d.props=M;var O=d.context,V=s.contextType;y=es,typeof V=="object"&&V!==null&&(y=ye(V));var K=s.getDerivedStateFromProps;V=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||O!==y)&&hd(i,d,l,y),qi=!1;var Y=i.memoizedState;d.state=Y,fa(i,l,d,c),ha(),O=i.memoizedState,b||Y!==O||qi?(typeof K=="function"&&(Oo(i,s,K,l),O=i.memoizedState),(M=qi||cd(i,s,M,l,Y,O,y))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=O),d.props=l,d.state=O,d.context=y,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zo(e,i),y=i.memoizedProps,V=An(s,y),d.props=V,K=i.pendingProps,Y=d.context,O=s.contextType,M=es,typeof O=="object"&&O!==null&&(M=ye(O)),b=s.getDerivedStateFromProps,(O=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==K||Y!==M)&&hd(i,d,l,M),qi=!1,Y=i.memoizedState,d.state=Y,fa(i,l,d,c),ha();var X=i.memoizedState;y!==K||Y!==X||qi||e!==null&&e.dependencies!==null&&Or(e.dependencies)?(typeof b=="function"&&(Oo(i,s,b,l),X=i.memoizedState),(V=qi||cd(i,s,V,l,Y,X,M)||e!==null&&e.dependencies!==null&&Or(e.dependencies))?(O||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=M,l=V):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,oa(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=_n(i,e.child,null,c),i.child=_n(i,null,s,c)):fe(e,i,s,c),i.memoizedState=d.state,e=i.child):e=Si(e,i,c),e}function Md(e,i,s,l){return Is(),i.flags|=256,fe(e,i,s,l),i.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:Ef()}}function Lo(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Qe),e}function Cd(e,i,s){var l=i.pendingProps,c=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(se.current&2)!==0),y&&(c=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Et){if(c?Pi(i):ji(),Et){var b=he,M;if(M=b){t:{for(M=b,b=oi;M.nodeType!==8;){if(!b){b=null;break t}if(M=ti(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:pn!==null?{id:_i,overflow:xi}:null,retryLane:536870912},M=qe(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,ve=i,he=null,M=!0):M=!1}M||yn(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;vi(i)}return b=l.children,l=l.fallback,c?(ji(),c=i.mode,b=Yo({mode:"hidden",children:b},c),l=Cn(l,c,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,c=i.child,c.memoizedState=Ho(s),c.childLanes=Lo(e,y,s),i.memoizedState=ko,l):(Pi(i),No(i,b))}if(M=e.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(d)i.flags&256?(Pi(i),i.flags&=-257,i=Po(e,i,s)):i.memoizedState!==null?(ji(),i.child=e.child,i.flags|=128,i=null):(ji(),c=l.fallback,b=i.mode,l=Yo({mode:"visible",children:l.children},b),c=Cn(c,b,s,null),c.flags|=2,l.return=i,c.return=i,l.sibling=c,i.child=l,_n(i,e.child,null,s),l=i.child,l.memoizedState=Ho(s),l.childLanes=Lo(e,y,s),i.memoizedState=ko,i=c);else if(Pi(i),b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(r(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),i=Po(e,i,s)}else if(le||ua(e,i,s,!1),y=(s&e.childLanes)!==0,le||y){if(y=Gt,y!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==M.retryLane)throw M.retryLane=l,Yi(e,l),be(y,e,l),_d}b.data==="$?"||pu(),i=Po(e,i,s)}else b.data==="$?"?(i.flags|=128,i.child=e.child,i=E_.bind(null,e),b._reactRetry=i,i=null):(e=M.treeContext,he=ti(b.nextSibling),ve=i,Et=!0,$e=null,oi=!1,e!==null&&(Pe[je++]=_i,Pe[je++]=xi,Pe[je++]=pn,_i=e.id,xi=e.overflow,pn=i),i=No(i,l.children),i.flags|=4096);return i}return c?(ji(),c=l.fallback,b=i.mode,M=e.child,O=M.sibling,l=$i(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&31457280,O!==null?c=$i(O,c):(c=Cn(c,b,s,null),c.flags|=2),c.return=i,l.return=i,l.sibling=c,i.child=l,l=c,c=i.child,b=e.child.memoizedState,b===null?b=Ho(s):(M=b.cachePool,M!==null?(O=ae._currentValue,M=M.parent!==O?{parent:O,pool:O}:M):M=Ef(),b={baseLanes:b.baseLanes|s,cachePool:M}),c.memoizedState=b,c.childLanes=Lo(e,y,s),i.memoizedState=ko,l):(Pi(i),s=e.child,e=s.sibling,s=$i(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=s,i.memoizedState=null,s)}function No(e,i){return i=Yo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yo(e,i){return Jd(e,i,0,null)}function Po(e,i,s){return _n(i,e.child,null,s),e=No(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ed(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Fo(e.return,i,s)}function jo(e,i,s,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=c)}function Rd(e,i,s){var l=i.pendingProps,c=l.revealOrder,d=l.tail;if(fe(e,i,l.children,s),l=se.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,s,i);else if(e.tag===19)Ed(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(se,l),c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&vr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),jo(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&vr(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}jo(i,!0,s,null,d);break;case"together":jo(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Si(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Ji|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ua(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=$i(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=$i(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Xo(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Or(e)))}function m_(e,i,s){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),Fi(i,ae,e.memoizedState.cache),Is();break;case 27:case 5:Pn(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Cd(e,i,s):(Pi(i),e=Si(e,i,s),e!==null?e.sibling:null);Pi(i);break;case 19:var c=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ua(e,i,s,!1),l=(s&i.childLanes)!==0),c){if(l)return Rd(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(se,se.current),l)break;return null;case 22:case 23:return i.lanes=0,Sd(e,i,s);case 24:Fi(i,ae,e.memoizedState.cache)}return Si(e,i,s)}function zd(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)le=!0;else{if(!Xo(e,s)&&(i.flags&128)===0)return le=!1,m_(e,i,s);le=(e.flags&131072)!==0}else le=!1,Et&&(i.flags&1048576)!==0&&mf(i,pr,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,c=l._init;if(l=c(l._payload),i.type=l,typeof l=="function")nu(l)?(e=An(l,e),i.tag=1,i=wd(null,i,l,e,s)):(i.tag=0,i=Go(null,i,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===w){i.tag=11,i=xd(null,i,l,e,s);break t}else if(c===D){i.tag=14,i=vd(null,i,l,e,s);break t}}throw i=ut(l)||l,Error(r(306,i,""))}}return i;case 0:return Go(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,c=An(l,i.pendingProps),wd(e,i,l,c,s);case 3:t:{if(dt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));var d=i.pendingProps;c=i.memoizedState,l=c.element,Zo(e,i),fa(i,d,null,s);var y=i.memoizedState;if(d=y.cache,Fi(i,ae,d),d!==c.cache&&qo(i,[ae],s,!0),ha(),d=y.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){i=Md(e,i,d,s);break t}else if(d!==l){l=Ye(Error(r(424)),i),$s(l),i=Md(e,i,d,s);break t}else for(he=ti(i.stateNode.containerInfo.firstChild),ve=i,Et=!0,$e=null,oi=!0,s=Af(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Is(),d===l){i=Si(e,i,s);break t}fe(e,i,d,s)}i=i.child}return i;case 26:return oa(e,i),e===null?(s=Dm(i.type,null,i.pendingProps,null))?i.memoizedState=s:Et||(s=i.type,e=i.pendingProps,l=Zr(ne.current).createElement(s),l[ge]=i,l[Ae]=e,de(l,s,e),re(l),i.stateNode=l):i.memoizedState=Dm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Pn(i),e===null&&Et&&(l=i.stateNode=zm(i.type,i.pendingProps,ne.current),ve=i,oi=!0,he=ti(l.firstChild)),l=i.pendingProps.children,e!==null||Et?fe(e,i,l,s):i.child=_n(i,null,l,s),oa(e,i),i.child;case 5:return e===null&&Et&&((c=l=he)&&(l=V_(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,ve=i,he=ti(l.firstChild),oi=!1,c=!0):c=!1),c||yn(i)),Pn(i),c=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Ru(c,d)?l=null:y!==null&&Ru(c,y)&&(i.flags|=32),i.memoizedState!==null&&(c=yo(e,i,l_,null,null,s),Ca._currentValue=c),oa(e,i),fe(e,i,l,s),i.child;case 6:return e===null&&Et&&((e=s=he)&&(s=F_(s,i.pendingProps,oi),s!==null?(i.stateNode=s,ve=i,he=null,e=!0):e=!1),e||yn(i)),null;case 13:return Cd(e,i,s);case 4:return dt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=_n(i,null,l,s):fe(e,i,l,s),i.child;case 11:return xd(e,i,i.type,i.pendingProps,s);case 7:return fe(e,i,i.pendingProps,s),i.child;case 8:return fe(e,i,i.pendingProps.children,s),i.child;case 12:return fe(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Fi(i,i.type,l.value),fe(e,i,l.children,s),i.child;case 9:return c=i.type._context,l=i.pendingProps.children,wn(i),c=ye(c),l=l(c),i.flags|=1,fe(e,i,l,s),i.child;case 14:return vd(e,i,i.type,i.pendingProps,s);case 15:return bd(e,i,i.type,i.pendingProps,s);case 19:return Rd(e,i,s);case 22:return Sd(e,i,s);case 24:return wn(i),l=ye(ae),e===null?(c=po(),c===null&&(c=Gt,d=fo(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),i.memoizedState={parent:l,cache:c},Qo(i),Fi(i,ae,c)):((e.lanes&s)!==0&&(Zo(e,i),fa(i,null,null,s),ha()),c=e.memoizedState,d=i.memoizedState,c.parent!==l?(c={parent:l,cache:l},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Fi(i,ae,l)):(l=d.cache,Fi(i,ae,l),l!==c.cache&&qo(i,[ae],s,!0))),fe(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var Vo=it(null),Tn=null,Ai=null;function Fi(e,i,s){rt(Vo,i._currentValue),i._currentValue=s}function Ti(e){e._currentValue=Vo.current,mt(Vo)}function Fo(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function qo(e,i,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=c;for(var M=0;M<i.length;M++)if(b.context===i[M]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Fo(d.return,s,e),l||(y=null);break t}d=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Fo(y,s,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ua(e,i,s,l){e=null;for(var c=i,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=c.type;Re(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===xe.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ca):e=[Ca])}c=c.return}e!==null&&qo(i,e,s,l),i.flags|=262144}function Or(e){for(e=e.firstContext;e!==null;){if(!Re(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wn(e){Tn=e,Ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ye(e){return Bd(Tn,e)}function Dr(e,i){return Tn===null&&wn(e),Bd(e,i)}function Bd(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(e===null)throw Error(r(308));Ai=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ai=Ai.next=i;return s}var qi=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,i=dr(e),ff(e,null,s),i}return fr(e,l,i,s),dr(e)}function ca(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,xh(e,s)}}function Wo(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Ko=!1;function ha(){if(Ko){var e=ls;if(e!==null)throw e}}function fa(e,i,s,l){Ko=!1;var c=e.updateQueue;qi=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var M=b,O=M.next;M.next=null,y===null?d=O:y.next=O,y=M;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==y&&(b===null?V.firstBaseUpdate=O:b.next=O,V.lastBaseUpdate=M))}if(d!==null){var K=c.baseState;y=0,V=O=M=null,b=d;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(Tt&Y)===Y:(l&Y)===Y){Y!==0&&Y===rs&&(Ko=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var st=e,ft=b;Y=i;var Vt=s;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){K=st.call(Vt,K,Y);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,Y=typeof st=="function"?st.call(Vt,K,Y):st,Y==null)break t;K=$({},K,Y);break t;case 2:qi=!0}}Y=b.callback,Y!==null&&(e.flags|=64,X&&(e.flags|=8192),X=c.callbacks,X===null?c.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(O=V=X,M=K):V=V.next=X,y|=Y;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;X=b,b=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);V===null&&(M=K),c.baseState=M,c.firstBaseUpdate=O,c.lastBaseUpdate=V,d===null&&(c.shared.lanes=0),Ji|=y,e.lanes=y,e.memoizedState=K}}function Od(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Dd(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Od(s[e],i)}function da(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==c)}}catch(b){Ut(i,i.return,b)}}function Wi(e,i,s){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=i;var M=s;try{b()}catch(O){Ut(c,M,O)}}}l=l.next}while(l!==d)}}catch(O){Ut(i,i.return,O)}}function Ud(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Dd(i,s)}catch(l){Ut(e,e.return,l)}}}function Gd(e,i,s){s.props=An(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ut(e,i,l)}}function Mn(e,i){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(d){Ut(e,i,d)}}function ze(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ut(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ut(e,i,c)}else s.current=null}function kd(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ut(e,e.return,c)}}function Hd(e,i,s){try{var l=e.stateNode;N_(l,e.type,s,i),l[Ae]=i}catch(c){Ut(e,e.return,c)}}function Ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Io(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Qr));else if(l!==4&&l!==27&&(e=e.child,e!==null))for($o(e,i,s),e=e.sibling;e!==null;)$o(e,i,s),e=e.sibling}function Ur(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ur(e,i,s),e=e.sibling;e!==null;)Ur(e,i,s),e=e.sibling}var wi=!1,jt=!1,Jo=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,oe=null,Yd=!1;function p_(e,i){if(e=e.containerInfo,Cu=tl,e=nf(e),to(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var y=0,b=-1,M=-1,O=0,V=0,K=e,Y=null;e:for(;;){for(var X;K!==s||c!==0&&K.nodeType!==3||(b=y+c),K!==d||l!==0&&K.nodeType!==3||(M=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(X=K.firstChild)!==null;)Y=K,K=X;for(;;){if(K===e)break e;if(Y===s&&++O===c&&(b=y),Y===d&&++V===l&&(M=y),(X=K.nextSibling)!==null)break;K=Y,Y=K.parentNode}K=X}s=b===-1||M===-1?null:{start:b,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Eu={focusedElem:e,selectionRange:s},tl=!1,oe=i;oe!==null;)if(i=oe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,oe=e;else for(;oe!==null;){switch(i=oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,c=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var st=An(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(st,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Ut(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Ou(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,oe=e;break}oe=i.return}return st=Yd,Yd=!1,st}function Pd(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(e,s),l&4&&da(5,s);break;case 1:if(Ci(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(b){Ut(s,s.return,b)}else{var c=An(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ut(s,s.return,b)}}l&64&&Ud(s),l&512&&Mn(s,s.return);break;case 3:if(Ci(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Dd(l,e)}catch(b){Ut(s,s.return,b)}}break;case 26:Ci(e,s),l&512&&Mn(s,s.return);break;case 27:case 5:Ci(e,s),i===null&&l&4&&kd(s),l&512&&Mn(s,s.return);break;case 12:Ci(e,s);break;case 13:Ci(e,s),l&4&&Vd(e,s);break;case 22:if(c=s.memoizedState!==null||wi,!c){i=i!==null&&i.memoizedState!==null||jt;var d=wi,y=jt;wi=c,(jt=i)&&!y?Ki(e,s,(s.subtreeFlags&8772)!==0):Ci(e,s),wi=d,jt=y}l&512&&(s.memoizedProps.mode==="manual"?Mn(s,s.return):ze(s,s.return));break;default:Ci(e,s)}}function jd(e){var i=e.alternate;i!==null&&(e.alternate=null,jd(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ll(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Be=!1;function Mi(e,i,s){for(s=s.child;s!==null;)Xd(e,i,s),s=s.sibling}function Xd(e,i,s){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(ks,s)}catch{}switch(s.tag){case 26:jt||ze(s,i),Mi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jt||ze(s,i);var l=$t,c=Be;for($t=s.stateNode,Mi(e,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Ll(s),$t=l,Be=c;break;case 5:jt||ze(s,i);case 6:c=$t;var d=Be;if($t=null,Mi(e,i,s),$t=c,Be=d,$t!==null)if(Be)try{e=$t,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(y){Ut(s,i,y)}else try{$t.removeChild(s.stateNode)}catch(y){Ut(s,i,y)}break;case 18:$t!==null&&(Be?(i=$t,s=s.stateNode,i.nodeType===8?Bu(i.parentNode,s):i.nodeType===1&&Bu(i,s),Ba(i)):Bu($t,s.stateNode));break;case 4:l=$t,c=Be,$t=s.stateNode.containerInfo,Be=!0,Mi(e,i,s),$t=l,Be=c;break;case 0:case 11:case 14:case 15:jt||Wi(2,s,i),jt||Wi(4,s,i),Mi(e,i,s);break;case 1:jt||(ze(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Gd(s,i,l)),Mi(e,i,s);break;case 21:Mi(e,i,s);break;case 22:jt||ze(s,i),jt=(l=jt)||s.memoizedState!==null,Mi(e,i,s),jt=l;break;default:Mi(e,i,s)}}function Vd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){Ut(i,i.return,s)}}function g_(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Nd),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Nd),i;default:throw Error(r(435,e.tag))}}function tu(e,i){var s=g_(e);i.forEach(function(l){var c=R_.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function Ve(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],d=e,y=i,b=y;t:for(;b!==null;){switch(b.tag){case 27:case 5:$t=b.stateNode,Be=!1;break t;case 3:$t=b.stateNode.containerInfo,Be=!0;break t;case 4:$t=b.stateNode.containerInfo,Be=!0;break t}b=b.return}if($t===null)throw Error(r(160));Xd(d,y,c),$t=null,Be=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fd(i,e),i=i.sibling}var Je=null;function Fd(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ve(i,e),Fe(e),l&4&&(Wi(3,e,e.return),da(3,e),Wi(5,e,e.return));break;case 1:Ve(i,e),Fe(e),l&512&&(jt||s===null||ze(s,s.return)),l&64&&wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Je;if(Ve(i,e),Fe(e),l&512&&(jt||s===null||ze(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ns]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),de(d,l,s),d[ge]=e,re(d),l=d;break t;case"link":var y=km("link","href",c).get(l+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break e}}d=c.createElement(l),de(d,l,s),c.head.appendChild(d);break;case"meta":if(y=km("meta","content",c).get(l+(s.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break e}}d=c.createElement(l),de(d,l,s),c.head.appendChild(d);break;default:throw Error(r(468,l))}d[ge]=e,re(d),l=d}e.stateNode=l}else Hm(c,e.type,e.stateNode);else e.stateNode=Gm(c,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Hm(c,e.type,e.stateNode):Gm(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hd(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){c=e.stateNode,d=e.memoizedProps;try{for(var M=c.firstChild;M;){var O=M.nextSibling,V=M.nodeName;M[Ns]||V==="HEAD"||V==="BODY"||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&M.rel.toLowerCase()==="stylesheet"||c.removeChild(M),M=O}for(var K=e.type,Y=c.attributes;Y.length;)c.removeAttributeNode(Y[0]);de(c,K,d),c[ge]=e,c[Ae]=d}catch(st){Ut(e,e.return,st)}}case 5:if(Ve(i,e),Fe(e),l&512&&(jt||s===null||ze(s,s.return)),e.flags&32){c=e.stateNode;try{Zn(c,"")}catch(st){Ut(e,e.return,st)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Hd(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Jo=!0);break;case 6:if(Ve(i,e),Fe(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(st){Ut(e,e.return,st)}}break;case 3:if(Ir=null,c=Je,Je=Wr(i.containerInfo),Ve(i,e),Je=c,Fe(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(st){Ut(e,e.return,st)}Jo&&(Jo=!1,qd(e));break;case 4:l=Je,Je=Wr(e.stateNode.containerInfo),Ve(i,e),Fe(e),Je=l;break;case 12:Ve(i,e),Fe(e);break;case 13:Ve(i,e),Fe(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(uu=li()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tu(e,l)));break;case 22:if(l&512&&(jt||s===null||ze(s,s.return)),M=e.memoizedState!==null,O=s!==null&&s.memoizedState!==null,V=wi,K=jt,wi=V||M,jt=K||O,Ve(i,e),jt=K,wi=V,Fe(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=M?i._visibility&-2:i._visibility|1,M&&(i=wi||jt,s===null||O||i||hs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){O=s=i;try{if(c=O.stateNode,M)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=O.stateNode,b=O.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;y.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(st){Ut(O,O.return,st)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=M?"":O.memoizedProps}catch(st){Ut(O,O.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tu(e,s))));break;case 19:Ve(i,e),Fe(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tu(e,l)));break;case 21:break;default:Ve(i,e),Fe(e)}}function Fe(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(Ld(s)){var l=s;break t}s=s.return}throw Error(r(160))}switch(l.tag){case 27:var c=l.stateNode,d=Io(e);Ur(e,d,c);break;case 5:var y=l.stateNode;l.flags&32&&(Zn(y,""),l.flags&=-33);var b=Io(e);Ur(e,b,y);break;case 3:case 4:var M=l.stateNode.containerInfo,O=Io(e);$o(e,O,M);break;default:throw Error(r(161))}}}catch(V){Ut(e,e.return,V)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ci(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pd(e,i.alternate,i),i=i.sibling}function hs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),hs(i);break;case 1:ze(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gd(i,i.return,s),hs(i);break;case 26:case 27:case 5:ze(i,i.return),hs(i);break;case 22:ze(i,i.return),i.memoizedState===null&&hs(i);break;default:hs(i)}e=e.sibling}}function Ki(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,c=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(c,d,s),da(4,d);break;case 1:if(Ki(c,d,s),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ut(l,l.return,O)}if(l=d,c=l.updateQueue,c!==null){var b=l.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)Od(M[c],b)}catch(O){Ut(l,l.return,O)}}s&&y&64&&Ud(d),Mn(d,d.return);break;case 26:case 27:case 5:Ki(c,d,s),s&&l===null&&y&4&&kd(d),Mn(d,d.return);break;case 12:Ki(c,d,s);break;case 13:Ki(c,d,s),s&&y&4&&Vd(c,d);break;case 22:d.memoizedState===null&&Ki(c,d,s),Mn(d,d.return);break;default:Ki(c,d,s)}i=i.sibling}}function eu(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&na(s))}function iu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e))}function Ii(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qd(e,i,s,l),i=i.sibling}function Qd(e,i,s,l){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Ii(e,i,s,l),c&2048&&da(9,i);break;case 3:Ii(e,i,s,l),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e)));break;case 12:if(c&2048){Ii(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ut(i,i.return,M)}}else Ii(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ii(e,i,s,l):ma(e,i):d._visibility&4?Ii(e,i,s,l):(d._visibility|=4,fs(e,i,s,l,(i.subtreeFlags&10256)!==0)),c&2048&&eu(i.alternate,i);break;case 24:Ii(e,i,s,l),c&2048&&iu(i.alternate,i);break;default:Ii(e,i,s,l)}}function fs(e,i,s,l,c){for(c=c&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,y=i,b=s,M=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:fs(d,y,b,M,c),da(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&4?fs(d,y,b,M,c):ma(d,y):(V._visibility|=4,fs(d,y,b,M,c)),c&&O&2048&&eu(y.alternate,y);break;case 24:fs(d,y,b,M,c),c&&O&2048&&iu(y.alternate,y);break;default:fs(d,y,b,M,c)}i=i.sibling}}function ma(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,c=l.flags;switch(l.tag){case 22:ma(s,l),c&2048&&eu(l.alternate,l);break;case 24:ma(s,l),c&2048&&iu(l.alternate,l);break;default:ma(s,l)}i=i.sibling}}var pa=8192;function ds(e){if(e.subtreeFlags&pa)for(e=e.child;e!==null;)Zd(e),e=e.sibling}function Zd(e){switch(e.tag){case 26:ds(e),e.flags&pa&&e.memoizedState!==null&&sx(Je,e.memoizedState,e.memoizedProps);break;case 5:ds(e);break;case 3:case 4:var i=Je;Je=Wr(e.stateNode.containerInfo),ds(e),Je=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=pa,pa=16777216,ds(e),pa=i):ds(e));break;default:ds(e)}}function Wd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ga(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];oe=l,Id(l,e)}Wd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kd(e),e=e.sibling}function Kd(e){switch(e.tag){case 0:case 11:case 15:ga(e),e.flags&2048&&Wi(9,e,e.return);break;case 3:ga(e);break;case 12:ga(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Gr(e)):ga(e);break;default:ga(e)}}function Gr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];oe=l,Id(l,e)}Wd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),Gr(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,Gr(i));break;default:Gr(i)}e=e.sibling}}function Id(e,i){for(;oe!==null;){var s=oe;switch(s.tag){case 0:case 11:case 15:Wi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:na(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,oe=l;else t:for(s=e;oe!==null;){l=oe;var c=l.sibling,d=l.return;if(jd(l),l===s){oe=null;break t}if(c!==null){c.return=d,oe=c;break t}oe=d}}}function y_(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,i,s,l){return new y_(e,i,s,l)}function nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,i){var s=e.alternate;return s===null?(s=qe(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function $d(e,i){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function kr(e,i,s,l,c,d){var y=0;if(l=e,typeof e=="function")nu(e)&&(y=1);else if(typeof e=="string")y=ix(e,s,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case m:return Cn(s.children,c,d,i);case p:y=8,c|=24;break;case g:return e=qe(12,s,i,c|2),e.elementType=g,e.lanes=d,e;case R:return e=qe(13,s,i,c),e.elementType=R,e.lanes=d,e;case T:return e=qe(19,s,i,c),e.elementType=T,e.lanes=d,e;case k:return Jd(s,c,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:case x:y=10;break t;case v:y=9;break t;case w:y=11;break t;case D:y=14;break t;case U:y=16,l=null;break t}y=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=qe(y,s,i,c),i.elementType=e,i.type=l,i.lanes=d,i}function Cn(e,i,s,l){return e=qe(7,e,l,i),e.lanes=s,e}function Jd(e,i,s,l){e=qe(22,e,l,i),e.elementType=k,e.lanes=s;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var y=Yi(d,2);y!==null&&(c._pendingVisibility|=2,be(y,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var y=Yi(d,2);y!==null&&(c._pendingVisibility&=-3,be(y,d,2))}}};return e.stateNode=c,e}function su(e,i,s){return e=qe(6,e,null,i),e.lanes=s,e}function au(e,i,s){return i=qe(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ei(e){e.flags|=4}function tm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lm(i)){if(i=Xe.current,i!==null&&((Tt&4194176)===Tt?ui!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||i!==ui))throw ta=uo,yf;e.flags|=8192}}function Hr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?yh():536870912,e.lanes|=i,ps|=i)}function ya(e,i){if(!Et)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Lt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function __(e,i,s){var l=i.pendingProps;switch(lo(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Lt(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ti(ae),yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ks(i)?Ei(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$e!==null&&(du($e),$e=null))),Lt(i),null;case 26:return s=i.memoizedState,e===null?(Ei(i),s!==null?(Lt(i),tm(i,s)):(Lt(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Ei(i),Lt(i),tm(i,s)):(Lt(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ei(i),Lt(i),i.flags&=-16777217),null;case 27:jn(i),s=ne.current;var c=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Lt(i),null}e=Wt.current,Ks(i)?pf(i):(e=zm(c,l,s),i.stateNode=e,Ei(i))}return Lt(i),null;case 5:if(jn(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Lt(i),null}if(e=Wt.current,Ks(i))pf(i);else{switch(c=Zr(ne.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[ge]=i,e[Ae]=l;t:for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break t;for(;c.sibling===null;){if(c.return===null||c.return===i)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i.stateNode=e;t:switch(de(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ei(i)}}return Lt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=ne.current,Ks(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,c=ve,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ge]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Tm(e.nodeValue,s)),e||yn(i)}else e=Zr(e).createTextNode(l),e[ge]=i,i.stateNode=e}return Lt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ks(i),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ge]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),c=!1}else $e!==null&&(du($e),$e=null),c=!0;if(!c)return i.flags&256?(vi(i),i):(vi(i),null)}if(vi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Hr(i,i.updateQueue),Lt(i),null;case 4:return yt(),e===null&&Tu(i.stateNode.containerInfo),Lt(i),null;case 10:return Ti(i.type),Lt(i),null;case 19:if(mt(se),c=i.memoizedState,c===null)return Lt(i),null;if(l=(i.flags&128)!==0,d=c.rendering,d===null)if(l)ya(c,!1);else{if(Xt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=vr(e),d!==null){for(i.flags|=128,ya(c,!1),e=d.updateQueue,i.updateQueue=e,Hr(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)$d(s,e),s=s.sibling;return rt(se,se.current&1|2),i.child}e=e.sibling}c.tail!==null&&li()>Lr&&(i.flags|=128,l=!0,ya(c,!1),i.lanes=4194304)}else{if(!l)if(e=vr(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Hr(i,e),ya(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Et)return Lt(i),null}else 2*li()-c.renderingStartTime>Lr&&s!==536870912&&(i.flags|=128,l=!0,ya(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(e=c.last,e!==null?e.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=li(),i.sibling=null,e=se.current,rt(se,l?e&1|2:e&1),i):(Lt(i),null);case 22:case 23:return vi(i),ho(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),s=i.updateQueue,s!==null&&Hr(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&mt(xn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ti(ae),Lt(i),null;case 25:return null}throw Error(r(156,i.tag))}function x_(e,i){switch(lo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ti(ae),yt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return jn(i),null;case 13:if(vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Is()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return mt(se),null;case 4:return yt(),null;case 10:return Ti(i.type),null;case 22:case 23:return vi(i),ho(),e!==null&&mt(xn),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ti(ae),null;case 25:return null;default:return null}}function em(e,i){switch(lo(i),i.tag){case 3:Ti(ae),yt();break;case 26:case 27:case 5:jn(i);break;case 4:yt();break;case 13:vi(i);break;case 19:mt(se);break;case 10:Ti(i.type);break;case 22:case 23:vi(i),ho(),e!==null&&mt(xn);break;case 24:Ti(ae)}}var v_={getCacheForType:function(e){var i=ye(ae),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},b_=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Gt=null,bt=null,Tt=0,kt=0,Oe=null,Ri=!1,ms=!1,ru=!1,zi=0,Xt=0,Ji=0,En=0,lu=0,Qe=0,ps=0,_a=null,hi=null,ou=!1,uu=0,Lr=1/0,Nr=null,tn=null,Yr=!1,Rn=null,xa=0,cu=0,hu=null,va=0,fu=null;function De(){if((Nt&2)!==0&&Tt!==0)return Tt&-Tt;if(I.T!==null){var e=rs;return e!==0?e:vu()}return bh()}function im(){Qe===0&&(Qe=(Tt&536870912)===0||Et?gh():536870912);var e=Xe.current;return e!==null&&(e.flags|=32),Qe}function be(e,i,s){(e===Gt&&kt===2||e.cancelPendingCommit!==null)&&(gs(e,0),Bi(e,Tt,Qe,!1)),Ls(e,s),((Nt&2)===0||e!==Gt)&&(e===Gt&&((Nt&2)===0&&(En|=s),Xt===4&&Bi(e,Tt,Qe,!1)),fi(e))}function nm(e,i,s){if((Nt&6)!==0)throw Error(r(327));var l=!s&&(i&60)===0&&(i&e.expiredLanes)===0||Hs(e,i),c=l?T_(e,i):gu(e,i,!0),d=l;do{if(c===0){ms&&!l&&Bi(e,i,0,!1);break}else if(c===6)Bi(e,i,0,!Ri);else{if(s=e.current.alternate,d&&!S_(s)){c=gu(e,i,!1),d=!1;continue}if(c===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var b=e;c=_a;var M=b.current.memoizedState.isDehydrated;if(M&&(gs(b,y).flags|=256),y=gu(b,y,!1),y!==2){if(ru&&!M){b.errorRecoveryDisabledLanes|=d,En|=d,c=4;break t}d=hi,hi=c,d!==null&&du(d)}c=y}if(d=!1,c!==2)continue}}if(c===1){gs(e,0),Bi(e,i,0,!0);break}t:{switch(l=e,c){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){Bi(l,i,Qe,!Ri);break t}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(d=uu+300-li(),10<d)){if(Bi(l,i,Qe,!Ri),Ja(l,0)!==0)break t;l.timeoutHandle=Cm(sm.bind(null,l,s,hi,Nr,ou,i,Qe,En,ps,Ri,2,-0,0),d);break t}sm(l,s,hi,Nr,ou,i,Qe,En,ps,Ri,0,-0,0)}}break}while(!0);fi(e)}function du(e){hi===null?hi=e:hi.push.apply(hi,e)}function sm(e,i,s,l,c,d,y,b,M,O,V,K,Y){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Ma={stylesheets:null,count:0,unsuspend:nx},Zd(i),i=ax(),i!==null)){e.cancelPendingCommit=i(hm.bind(null,e,s,l,c,y,b,M,1,K,Y)),Bi(e,d,y,!O);return}hm(e,s,l,c,y,b,M,V,K,Y)}function S_(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!Re(d(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(e,i,s,l){i&=~lu,i&=~En,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var c=i;0<c;){var d=31-Ee(c),y=1<<d;l[d]=-1,c&=~y}s!==0&&_h(e,s,i)}function Pr(){return(Nt&6)===0?(ba(0),!1):!0}function mu(){if(bt!==null){if(kt===0)var e=bt.return;else e=bt,Ai=Tn=null,vo(e),ss=null,ea=0,e=bt;for(;e!==null;)em(e.alternate,e),e=e.return;bt=null}}function gs(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),mu(),Gt=e,bt=s=$i(e.current,null),Tt=i,kt=0,Oe=null,Ri=!1,ms=Hs(e,i),ru=!1,ps=Qe=lu=En=Ji=Xt=0,hi=_a=null,ou=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var c=31-Ee(l),d=1<<c;i|=e[c],l&=~d}return zi=i,hr(),s}function am(e,i){_t=null,I.H=ci,i===Js?(i=vf(),kt=3):i===yf?(i=vf(),kt=4):kt=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Oe=i,bt===null&&(Xt=1,Br(e,Ye(i,e.current)))}function rm(){var e=I.H;return I.H=ci,e===null?ci:e}function lm(){var e=I.A;return I.A=v_,e}function pu(){Xt=4,Ri||(Tt&4194176)!==Tt&&Xe.current!==null||(ms=!0),(Ji&134217727)===0&&(En&134217727)===0||Gt===null||Bi(Gt,Tt,Qe,!1)}function gu(e,i,s){var l=Nt;Nt|=2;var c=rm(),d=lm();(Gt!==e||Tt!==i)&&(Nr=null,gs(e,i)),i=!1;var y=Xt;t:do try{if(kt!==0&&bt!==null){var b=bt,M=Oe;switch(kt){case 8:mu(),y=6;break t;case 3:case 2:case 6:Xe.current===null&&(i=!0);var O=kt;if(kt=0,Oe=null,ys(e,b,M,O),s&&ms){y=0;break t}break;default:O=kt,kt=0,Oe=null,ys(e,b,M,O)}}A_(),y=Xt;break}catch(V){am(e,V)}while(!0);return i&&e.shellSuspendCounter++,Ai=Tn=null,Nt=l,I.H=c,I.A=d,bt===null&&(Gt=null,Tt=0,hr()),y}function A_(){for(;bt!==null;)om(bt)}function T_(e,i){var s=Nt;Nt|=2;var l=rm(),c=lm();Gt!==e||Tt!==i?(Nr=null,Lr=li()+500,gs(e,i)):ms=Hs(e,i);t:do try{if(kt!==0&&bt!==null){i=bt;var d=Oe;e:switch(kt){case 1:kt=0,Oe=null,ys(e,i,d,1);break;case 2:if(_f(d)){kt=0,Oe=null,um(i);break}i=function(){kt===2&&Gt===e&&(kt=7),fi(e)},d.then(i,i);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:_f(d)?(kt=0,Oe=null,um(i)):(kt=0,Oe=null,ys(e,i,d,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var b=bt;if(!y||Lm(y)){kt=0,Oe=null;var M=b.sibling;if(M!==null)bt=M;else{var O=b.return;O!==null?(bt=O,jr(O)):bt=null}break e}}kt=0,Oe=null,ys(e,i,d,5);break;case 6:kt=0,Oe=null,ys(e,i,d,6);break;case 8:mu(),Xt=6;break t;default:throw Error(r(462))}}w_();break}catch(V){am(e,V)}while(!0);return Ai=Tn=null,I.H=l,I.A=c,Nt=s,bt!==null?0:(Gt=null,Tt=0,hr(),Xt)}function w_(){for(;bt!==null&&!Qy();)om(bt)}function om(e){var i=zd(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?jr(e):bt=i}function um(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Td(s,i,i.pendingProps,i.type,void 0,Tt);break;case 11:i=Td(s,i,i.pendingProps,i.type.render,i.ref,Tt);break;case 5:vo(i);default:em(s,i),i=bt=$d(i,zi),i=zd(s,i,zi)}e.memoizedProps=e.pendingProps,i===null?jr(e):bt=i}function ys(e,i,s,l){Ai=Tn=null,vo(i),ss=null,ea=0;var c=i.return;try{if(d_(e,c,i,s,Tt)){Xt=1,Br(e,Ye(s,e.current)),bt=null;return}}catch(d){if(c!==null)throw bt=c,d;Xt=1,Br(e,Ye(s,e.current)),bt=null;return}i.flags&32768?(Et||l===1?e=!0:ms||(Tt&536870912)!==0?e=!1:(Ri=e=!0,(l===2||l===3||l===6)&&(l=Xe.current,l!==null&&l.tag===13&&(l.flags|=16384))),cm(i,e)):jr(i)}function jr(e){var i=e;do{if((i.flags&32768)!==0){cm(i,Ri);return}e=i.return;var s=__(i.alternate,i,zi);if(s!==null){bt=s;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=e}while(i!==null);Xt===0&&(Xt=5)}function cm(e,i){do{var s=x_(e.alternate,e);if(s!==null){s.flags&=32767,bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){bt=e;return}bt=e=s}while(e!==null);Xt=6,bt=null}function hm(e,i,s,l,c,d,y,b,M,O){var V=I.T,K=F.p;try{F.p=2,I.T=null,M_(e,i,s,l,K,c,d,y,b,M,O)}finally{I.T=V,F.p=K}}function M_(e,i,s,l,c,d,y,b){do _s();while(Rn!==null);if((Nt&6)!==0)throw Error(r(327));var M=e.finishedWork;if(l=e.finishedLanes,M===null)return null;if(e.finishedWork=null,e.finishedLanes=0,M===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var O=M.lanes|M.childLanes;if(O|=so,s0(e,l,O,d,y,b),e===Gt&&(bt=Gt=null,Tt=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||Yr||(Yr=!0,cu=O,hu=s,z_(Ka,function(){return _s(),null})),s=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||s?(s=I.T,I.T=null,d=F.p,F.p=2,y=Nt,Nt|=4,p_(e,M),Fd(M,e),K0(Eu,e.containerInfo),tl=!!Cu,Eu=Cu=null,e.current=M,Pd(e,M.alternate,M),Zy(),Nt=y,F.p=d,I.T=s):e.current=M,Yr?(Yr=!1,Rn=e,xa=l):fm(e,O),O=e.pendingLanes,O===0&&(tn=null),Jy(M.stateNode),fi(e),i!==null)for(c=e.onRecoverableError,M=0;M<i.length;M++)O=i[M],c(O.value,{componentStack:O.stack});return(xa&3)!==0&&_s(),O=e.pendingLanes,(l&4194218)!==0&&(O&42)!==0?e===fu?va++:(va=0,fu=e):va=0,ba(0),null}function fm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,na(i)))}function _s(){if(Rn!==null){var e=Rn,i=cu;cu=0;var s=vh(xa),l=I.T,c=F.p;try{if(F.p=32>s?32:s,I.T=null,Rn===null)var d=!1;else{s=hu,hu=null;var y=Rn,b=xa;if(Rn=null,xa=0,(Nt&6)!==0)throw Error(r(331));var M=Nt;if(Nt|=4,Kd(y.current),Qd(y,y.current,b,s),Nt=M,ba(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(ks,y)}catch{}d=!0}return d}finally{F.p=c,I.T=l,fm(e,i)}}return!1}function dm(e,i,s){i=Ye(s,i),i=Uo(e.stateNode,i,2),e=Zi(e,i,2),e!==null&&(Ls(e,2),fi(e))}function Ut(e,i,s){if(e.tag===3)dm(e,e,s);else for(;i!==null;){if(i.tag===3){dm(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tn===null||!tn.has(l))){e=Ye(s,e),s=gd(2),l=Zi(i,s,2),l!==null&&(yd(s,l,i,e),Ls(l,2),fi(l));break}}i=i.return}}function yu(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new b_;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(s)||(ru=!0,c.add(s),e=C_.bind(null,e,i,s),i.then(e,e))}function C_(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Gt===e&&(Tt&s)===s&&(Xt===4||Xt===3&&(Tt&62914560)===Tt&&300>li()-uu?(Nt&2)===0&&gs(e,0):lu|=s,ps===Tt&&(ps=0)),fi(e)}function mm(e,i){i===0&&(i=yh()),e=Yi(e,i),e!==null&&(Ls(e,i),fi(e))}function E_(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),mm(e,s)}function R_(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),mm(e,s)}function z_(e,i){return Ul(e,i)}var Xr=null,xs=null,_u=!1,Vr=!1,xu=!1,zn=0;function fi(e){e!==xs&&e.next===null&&(xs===null?Xr=xs=e:xs=xs.next=e),Vr=!0,_u||(_u=!0,O_(B_))}function ba(e,i){if(!xu&&Vr){xu=!0;do for(var s=!1,l=Xr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var y=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ee(42|e)+1)-1,d&=c&~(y&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,ym(l,d))}else d=Tt,d=Ja(l,l===Gt?d:0),(d&3)===0||Hs(l,d)||(s=!0,ym(l,d));l=l.next}while(s);xu=!1}}function B_(){Vr=_u=!1;var e=0;zn!==0&&(Y_()&&(e=zn),zn=0);for(var i=li(),s=null,l=Xr;l!==null;){var c=l.next,d=pm(l,i);d===0?(l.next=null,s===null?Xr=c:s.next=c,c===null&&(xs=s)):(s=l,(e!==0||(d&3)!==0)&&(Vr=!0)),l=c}ba(e)}function pm(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Ee(d),b=1<<y,M=c[y];M===-1?((b&s)===0||(b&l)!==0)&&(c[y]=n0(b,i)):M<=i&&(e.expiredLanes|=b),d&=~b}if(i=Gt,s=Tt,s=Ja(e,e===i?s:0),l=e.callbackNode,s===0||e===i&&kt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gl(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hs(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&Gl(l),vh(s)){case 2:case 8:s=mh;break;case 32:s=Ka;break;case 268435456:s=ph;break;default:s=Ka}return l=gm.bind(null,e),s=Ul(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&Gl(l),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,i){var s=e.callbackNode;if(_s()&&e.callbackNode!==s)return null;var l=Tt;return l=Ja(e,e===Gt?l:0),l===0?null:(nm(e,l,i),pm(e,li()),e.callbackNode!=null&&e.callbackNode===s?gm.bind(null,e):null)}function ym(e,i){if(_s())return null;nm(e,i,!0)}function O_(e){j_(function(){(Nt&6)!==0?Ul(dh,e):e()})}function vu(){return zn===0&&(zn=gh()),zn}function _m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function xm(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function D_(e,i,s,l,c){if(i==="submit"&&s&&s.stateNode===c){var d=_m((c[Ae]||null).action),y=l.submitter;y&&(i=(i=y[Ae]||null)?_m(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var b=new or("action","action",null,l,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zn!==0){var M=y?xm(c,y):new FormData(c);Ro(s,{pending:!0,data:M,method:c.method,action:d},null,M)}}else typeof d=="function"&&(b.preventDefault(),M=y?xm(c,y):new FormData(c),Ro(s,{pending:!0,data:M,method:c.method,action:d},d,M))},currentTarget:c}]})}}for(var bu=0;bu<hf.length;bu++){var Su=hf[bu],U_=Su.toLowerCase(),G_=Su[0].toUpperCase()+Su.slice(1);Ie(U_,"on"+G_)}Ie(rf,"onAnimationEnd"),Ie(lf,"onAnimationIteration"),Ie(of,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie($0,"onTransitionRun"),Ie(J0,"onTransitionStart"),Ie(t_,"onTransitionCancel"),Ie(uf,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function vm(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var b=l[y],M=b.instance,O=b.currentTarget;if(b=b.listener,M!==d&&c.isPropagationStopped())break t;d=b,c.currentTarget=O;try{d(c)}catch(V){zr(V)}c.currentTarget=null,d=M}else for(y=0;y<l.length;y++){if(b=l[y],M=b.instance,O=b.currentTarget,b=b.listener,M!==d&&c.isPropagationStopped())break t;d=b,c.currentTarget=O;try{d(c)}catch(V){zr(V)}c.currentTarget=null,d=M}}}}function St(e,i){var s=i[Hl];s===void 0&&(s=i[Hl]=new Set);var l=e+"__bubble";s.has(l)||(bm(i,e,2,!1),s.add(l))}function Au(e,i,s){var l=0;i&&(l|=4),bm(s,e,l,i)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[Fr]){e[Fr]=!0,Ah.forEach(function(s){s!=="selectionchange"&&(k_.has(s)||Au(s,!1,e),Au(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Fr]||(i[Fr]=!0,Au("selectionchange",!1,i))}}function bm(e,i,s,l){switch(Vm(i)){case 2:var c=ox;break;case 8:c=ux;break;default:c=Hu}s=c.bind(null,i,s,e),c=void 0,!Fl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function wu(e,i,s,l,c){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===c||b.nodeType===8&&b.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var M=y.tag;if((M===3||M===4)&&(M=y.stateNode.containerInfo,M===c||M.nodeType===8&&M.parentNode===c))return;y=y.return}for(;b!==null;){if(y=cn(b),y===null)return;if(M=y.tag,M===5||M===6||M===26||M===27){l=d=y;continue t}b=b.parentNode}}l=l.return}Gh(function(){var O=d,V=Xl(s),K=[];t:{var Y=cf.get(e);if(Y!==void 0){var X=or,st=e;switch(e){case"keypress":if(rr(s)===0)break t;case"keydown":case"keyup":X=R0;break;case"focusin":st="focus",X=Wl;break;case"focusout":st="blur",X=Wl;break;case"beforeblur":case"afterblur":X=Wl;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=O0;break;case rf:case lf:case of:X=v0;break;case uf:X=U0;break;case"scroll":case"scrollend":X=p0;break;case"wheel":X=k0;break;case"copy":case"cut":case"paste":X=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Yh;break;case"toggle":case"beforetoggle":X=L0}var ft=(i&4)!==0,Vt=!ft&&(e==="scroll"||e==="scrollend"),G=ft?Y!==null?Y+"Capture":null:Y;ft=[];for(var B=O,L;B!==null;){var Z=B;if(L=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||L===null||G===null||(Z=Ps(B,G),Z!=null&&ft.push(Aa(B,Z,L))),Vt)break;B=B.return}0<ft.length&&(Y=new X(Y,st,null,s,V),K.push({event:Y,listeners:ft}))}}if((i&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Y&&s!==jl&&(st=s.relatedTarget||s.fromElement)&&(cn(st)||st[Xn]))break t;if((X||Y)&&(Y=V.window===V?V:(Y=V.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(st=s.relatedTarget||s.toElement,X=O,st=st?cn(st):null,st!==null&&(Vt=E(st),ft=st.tag,st!==Vt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(X=null,st=O),X!==st)){if(ft=Lh,Z="onMouseLeave",G="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Yh,Z="onPointerLeave",G="onPointerEnter",B="pointer"),Vt=X==null?Y:Ys(X),L=st==null?Y:Ys(st),Y=new ft(Z,B+"leave",X,s,V),Y.target=Vt,Y.relatedTarget=L,Z=null,cn(V)===O&&(ft=new ft(G,B+"enter",st,s,V),ft.target=L,ft.relatedTarget=Vt,Z=ft),Vt=Z,X&&st)e:{for(ft=X,G=st,B=0,L=ft;L;L=vs(L))B++;for(L=0,Z=G;Z;Z=vs(Z))L++;for(;0<B-L;)ft=vs(ft),B--;for(;0<L-B;)G=vs(G),L--;for(;B--;){if(ft===G||G!==null&&ft===G.alternate)break e;ft=vs(ft),G=vs(G)}ft=null}else ft=null;X!==null&&Sm(K,Y,X,ft,!1),st!==null&&Vt!==null&&Sm(K,Vt,st,ft,!0)}}t:{if(Y=O?Ys(O):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var nt=Zh;else if(qh(Y))if(Wh)nt=Z0;else{nt=q0;var vt=F0}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?O&&Pl(O.elementType)&&(nt=Zh):nt=Q0;if(nt&&(nt=nt(e,O))){Qh(K,nt,s,V);break t}vt&&vt(e,Y,O),e==="focusout"&&O&&Y.type==="number"&&O.memoizedProps.value!=null&&Yl(Y,"number",Y.value)}switch(vt=O?Ys(O):window,e){case"focusin":(qh(vt)||vt.contentEditable==="true")&&($n=vt,eo=O,Ws=null);break;case"focusout":Ws=eo=$n=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,sf(K,s,V);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":sf(K,s,V)}var lt;if(Il)t:{switch(e){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else In?Vh(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(Ph&&s.locale!=="ko"&&(In||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&In&&(lt=kh()):(Ni=V,ql="value"in Ni?Ni.value:Ni.textContent,In=!0)),vt=qr(O,ct),0<vt.length&&(ct=new Nh(ct,e,null,s,V),K.push({event:ct,listeners:vt}),lt?ct.data=lt:(lt=Fh(s),lt!==null&&(ct.data=lt)))),(lt=Y0?P0(e,s):j0(e,s))&&(ct=qr(O,"onBeforeInput"),0<ct.length&&(vt=new Nh("onBeforeInput","beforeinput",null,s,V),K.push({event:vt,listeners:ct}),vt.data=lt)),D_(K,e,O,s,V)}vm(K,i)})}function Aa(e,i,s){return{instance:e,listener:i,currentTarget:s}}function qr(e,i){for(var s=i+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ps(e,s),c!=null&&l.unshift(Aa(e,c,d)),c=Ps(e,i),c!=null&&l.push(Aa(e,c,d))),e=e.return}return l}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,i,s,l,c){for(var d=i._reactName,y=[];s!==null&&s!==l;){var b=s,M=b.alternate,O=b.stateNode;if(b=b.tag,M!==null&&M===l)break;b!==5&&b!==26&&b!==27||O===null||(M=O,c?(O=Ps(s,d),O!=null&&y.unshift(Aa(s,O,M))):c||(O=Ps(s,d),O!=null&&y.push(Aa(s,O,M)))),s=s.return}y.length!==0&&e.push({event:i,listeners:y})}var H_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(H_,`
`).replace(L_,"")}function Tm(e,i){return i=Am(i),Am(e)===i}function Qr(){}function Ot(e,i,s,l,c,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Zn(e,""+l);break;case"className":er(e,"class",l);break;case"tabIndex":er(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,s,l);break;case"style":Dh(e,l,d);break;case"data":if(i!=="object"){er(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ot(e,i,"name",c.name,c,null),Ot(e,i,"formEncType",c.formEncType,c,null),Ot(e,i,"formMethod",c.formMethod,c,null),Ot(e,i,"formTarget",c.formTarget,c,null)):(Ot(e,i,"encType",c.encType,c,null),Ot(e,i,"method",c.method,c,null),Ot(e,i,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Qr);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=sr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":St("beforetoggle",e),St("toggle",e),tr(e,"popover",l);break;case"xlinkActuate":yi(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yi(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yi(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yi(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yi(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yi(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yi(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=d0.get(s)||s,tr(e,s,l))}}function Mu(e,i,s,l,c,d){switch(s){case"style":Dh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&Zn(e,""+l);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Th.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),d=e[Ae]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):tr(e,s,l)}}}function de(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",e),St("load",e);var l=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ot(e,i,d,y,s,null)}}c&&Ot(e,i,"srcSet",s.srcSet,s,null),l&&Ot(e,i,"src",s.src,s,null);return;case"input":St("invalid",e);var b=d=y=c=null,M=null,O=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":c=V;break;case"type":y=V;break;case"checked":M=V;break;case"defaultChecked":O=V;break;case"value":d=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,i));break;default:Ot(e,i,l,V,s,null)}}Rh(e,d,b,M,O,y,c,!1),ir(e);return;case"select":St("invalid",e),l=y=d=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:Ot(e,i,c,b,s,null)}i=d,s=y,e.multiple=!!l,i!=null?Qn(e,!!l,i,!1):s!=null&&Qn(e,!!l,s,!0);return;case"textarea":St("invalid",e),d=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":c=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Ot(e,i,y,b,s,null)}Bh(e,l,c,d),ir(e);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ot(e,i,M,l,s,null)}return;case"dialog":St("cancel",e),St("close",e);break;case"iframe":case"object":St("load",e);break;case"video":case"audio":for(l=0;l<Sa.length;l++)St(Sa[l],e);break;case"image":St("error",e),St("load",e);break;case"details":St("toggle",e);break;case"embed":case"source":case"link":St("error",e),St("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ot(e,i,O,l,s,null)}return;default:if(Pl(i)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&Mu(e,i,V,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&Ot(e,i,b,l,s,null))}function N_(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,b=null,M=null,O=null,V=null;for(X in s){var K=s[X];if(s.hasOwnProperty(X)&&K!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=K;default:l.hasOwnProperty(X)||Ot(e,i,X,null,l,K)}}for(var Y in l){var X=l[Y];if(K=s[Y],l.hasOwnProperty(Y)&&(X!=null||K!=null))switch(Y){case"type":d=X;break;case"name":c=X;break;case"checked":O=X;break;case"defaultChecked":V=X;break;case"value":y=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==K&&Ot(e,i,Y,X,l,K)}}Nl(e,y,b,M,O,V,d,c);return;case"select":X=y=b=Y=null;for(d in s)if(M=s[d],s.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(d)||Ot(e,i,d,null,l,M)}for(c in l)if(d=l[c],M=s[c],l.hasOwnProperty(c)&&(d!=null||M!=null))switch(c){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==M&&Ot(e,i,c,d,l,M)}i=b,s=y,l=X,Y!=null?Qn(e,!!s,Y,!1):!!l!=!!s&&(i!=null?Qn(e,!!s,i,!0):Qn(e,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ot(e,i,b,null,l,c)}for(y in l)if(c=l[y],d=s[y],l.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":Y=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Ot(e,i,y,c,l,d)}zh(e,Y,X);return;case"option":for(var st in s)if(Y=s[st],s.hasOwnProperty(st)&&Y!=null&&!l.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Ot(e,i,st,null,l,Y)}for(M in l)if(Y=l[M],X=s[M],l.hasOwnProperty(M)&&Y!==X&&(Y!=null||X!=null))switch(M){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ot(e,i,M,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)Y=s[ft],s.hasOwnProperty(ft)&&Y!=null&&!l.hasOwnProperty(ft)&&Ot(e,i,ft,null,l,Y);for(O in l)if(Y=l[O],X=s[O],l.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Ot(e,i,O,Y,l,X)}return;default:if(Pl(i)){for(var Vt in s)Y=s[Vt],s.hasOwnProperty(Vt)&&Y!==void 0&&!l.hasOwnProperty(Vt)&&Mu(e,i,Vt,void 0,l,Y);for(V in l)Y=l[V],X=s[V],!l.hasOwnProperty(V)||Y===X||Y===void 0&&X===void 0||Mu(e,i,V,Y,l,X);return}}for(var G in s)Y=s[G],s.hasOwnProperty(G)&&Y!=null&&!l.hasOwnProperty(G)&&Ot(e,i,G,null,l,Y);for(K in l)Y=l[K],X=s[K],!l.hasOwnProperty(K)||Y===X||Y==null&&X==null||Ot(e,i,K,Y,l,X)}var Cu=null,Eu=null;function Zr(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ru(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zu=null;function Y_(){var e=window.event;return e&&e.type==="popstate"?e===zu?!1:(zu=e,!0):(zu=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,P_=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(e){return Em.resolve(null).then(e).catch(X_)}:Cm;function X_(e){setTimeout(function(){throw e})}function Bu(e,i){var s=i,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),Ba(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Ba(i)}function Ou(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ou(s),Ll(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function V_(e,i,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ns])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function F_(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ti(e.nextSibling),e===null))return null;return e}function ti(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Rm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function zm(e,i,s){switch(i=Zr(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var Ze=new Map,Bm=new Set;function Wr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Oi=F.d;F.d={f:q_,r:Q_,D:Z_,C:W_,L:K_,m:I_,X:J_,S:$_,M:tx};function q_(){var e=Oi.f(),i=Pr();return e||i}function Q_(e){var i=Vn(e);i!==null&&i.tag===5&&i.type==="form"?sd(i):Oi.r(e)}var bs=typeof document>"u"?null:document;function Om(e,i,s){var l=bs;if(l&&typeof i=="string"&&i){var c=Le(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Bm.has(c)||(Bm.add(c),e={rel:e,crossOrigin:s,href:i},l.querySelector(c)===null&&(i=l.createElement("link"),de(i,"link",e),re(i),l.head.appendChild(i)))}}function Z_(e){Oi.D(e),Om("dns-prefetch",e,null)}function W_(e,i){Oi.C(e,i),Om("preconnect",e,i)}function K_(e,i,s){Oi.L(e,i,s);var l=bs;if(l&&e&&i){var c='link[rel="preload"][as="'+Le(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Le(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Le(s.imageSizes)+'"]')):c+='[href="'+Le(e)+'"]';var d=c;switch(i){case"style":d=Ss(e);break;case"script":d=As(e)}Ze.has(d)||(e=$({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Ze.set(d,e),l.querySelector(c)!==null||i==="style"&&l.querySelector(Ta(d))||i==="script"&&l.querySelector(wa(d))||(i=l.createElement("link"),de(i,"link",e),re(i),l.head.appendChild(i)))}}function I_(e,i){Oi.m(e,i);var s=bs;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+Le(l)+'"][href="'+Le(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(e)}if(!Ze.has(d)&&(e=$({rel:"modulepreload",href:e},i),Ze.set(d,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wa(d)))return}l=s.createElement("link"),de(l,"link",e),re(l),s.head.appendChild(l)}}}function $_(e,i,s){Oi.S(e,i,s);var l=bs;if(l&&e){var c=Fn(l).hoistableStyles,d=Ss(e);i=i||"default";var y=c.get(d);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(Ta(d)))b.loading=5;else{e=$({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Ze.get(d))&&Du(e,s);var M=y=l.createElement("link");re(M),de(M,"link",e),M._p=new Promise(function(O,V){M.onload=O,M.onerror=V}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Kr(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(d,y)}}}function J_(e,i){Oi.X(e,i);var s=bs;if(s&&e){var l=Fn(s).hoistableScripts,c=As(e),d=l.get(c);d||(d=s.querySelector(wa(c)),d||(e=$({src:e,async:!0},i),(i=Ze.get(c))&&Uu(e,i),d=s.createElement("script"),re(d),de(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function tx(e,i){Oi.M(e,i);var s=bs;if(s&&e){var l=Fn(s).hoistableScripts,c=As(e),d=l.get(c);d||(d=s.querySelector(wa(c)),d||(e=$({src:e,async:!0,type:"module"},i),(i=Ze.get(c))&&Uu(e,i),d=s.createElement("script"),re(d),de(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Dm(e,i,s,l){var c=(c=ne.current)?Wr(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ss(s.href),s=Fn(c).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ss(s.href);var d=Fn(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(Ta(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Ze.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ze.set(e,s),d||ex(c,e,s,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=As(s),s=Fn(c).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ss(e){return'href="'+Le(e)+'"'}function Ta(e){return'link[rel="stylesheet"]['+e+"]"}function Um(e){return $({},e,{"data-precedence":e.precedence,precedence:null})}function ex(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),de(i,"link",s),re(i),e.head.appendChild(i))}function As(e){return'[src="'+Le(e)+'"]'}function wa(e){return"script[async]"+e}function Gm(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Le(s.href)+'"]');if(l)return i.instance=l,re(l),l;var c=$({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),re(l),de(l,"style",c),Kr(l,s.precedence,e),i.instance=l;case"stylesheet":c=Ss(s.href);var d=e.querySelector(Ta(c));if(d)return i.state.loading|=4,i.instance=d,re(d),d;l=Um(s),(c=Ze.get(c))&&Du(l,c),d=(e.ownerDocument||e).createElement("link"),re(d);var y=d;return y._p=new Promise(function(b,M){y.onload=b,y.onerror=M}),de(d,"link",l),i.state.loading|=4,Kr(d,s.precedence,e),i.instance=d;case"script":return d=As(s.src),(c=e.querySelector(wa(d)))?(i.instance=c,re(c),c):(l=s,(c=Ze.get(d))&&(l=$({},s),Uu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),re(c),de(c,"link",l),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kr(l,s.precedence,e));return i.instance}function Kr(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===i)d=b;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Du(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Uu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ir=null;function km(e,i,s){if(Ir===null){var l=new Map,c=Ir=new Map;c.set(s,l)}else c=Ir,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[Ns]||d[ge]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var b=l.get(y);b?b.push(d):l.set(y,[d])}}return l}function Hm(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function ix(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ma=null;function nx(){}function sx(e,i,s){if(Ma===null)throw Error(r(475));var l=Ma;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Ss(s.href),d=e.querySelector(Ta(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=$r.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,re(d);return}d=e.ownerDocument||e,s=Um(s),(c=Ze.get(c))&&Du(s,c),d=d.createElement("link"),re(d);var y=d;y._p=new Promise(function(b,M){y.onload=b,y.onerror=M}),de(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$r.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function ax(){if(Ma===null)throw Error(r(475));var e=Ma;return e.stylesheets&&e.count===0&&Gu(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Gu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function $r(){if(this.count--,this.count===0){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jr=null;function Gu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jr=new Map,i.forEach(rx,e),Jr=null,$r.call(e))}function rx(e,i){if(!(i.state.loading&4)){var s=Jr.get(e);if(s)var l=s.get(null);else{s=new Map,Jr.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=i.instance,y=c.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,c),s.set(y,c),this.count++,l=$r.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var Ca={$$typeof:x,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function lx(e,i,s,l,c,d,y,b){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.hiddenUpdates=kl(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Nm(e,i,s,l,c,d,y,b,M,O,V,K){return e=new lx(e,i,s,y,b,M,O,K),i=1,d===!0&&(i|=24),d=qe(3,null,null,i),e.current=d,d.stateNode=e,i=fo(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Qo(d),e}function Ym(e){return e?(e=es,e):es}function Pm(e,i,s,l,c,d){c=Ym(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Zi(e,l,i),s!==null&&(be(s,e,i),ca(s,e,i))}function jm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function ku(e,i){jm(e,i),(e=e.alternate)&&jm(e,i)}function Xm(e){if(e.tag===13){var i=Yi(e,67108864);i!==null&&be(i,e,67108864),ku(e,67108864)}}var tl=!0;function ox(e,i,s,l){var c=I.T;I.T=null;var d=F.p;try{F.p=2,Hu(e,i,s,l)}finally{F.p=d,I.T=c}}function ux(e,i,s,l){var c=I.T;I.T=null;var d=F.p;try{F.p=8,Hu(e,i,s,l)}finally{F.p=d,I.T=c}}function Hu(e,i,s,l){if(tl){var c=Lu(l);if(c===null)wu(e,i,l,el,s),Fm(e,l);else if(hx(c,e,i,s,l))l.stopPropagation();else if(Fm(e,l),i&4&&-1<cx.indexOf(e)){for(;c!==null;){var d=Vn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=un(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var M=1<<31-Ee(y);b.entanglements[1]|=M,y&=~M}fi(d),(Nt&6)===0&&(Lr=li()+500,ba(0))}}break;case 13:b=Yi(d,2),b!==null&&be(b,d,2),Pr(),ku(d,2)}if(d=Lu(l),d===null&&wu(e,i,l,el,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else wu(e,i,l,null,s)}}function Lu(e){return e=Xl(e),Nu(e)}var el=null;function Nu(e){if(el=null,e=cn(e),e!==null){var i=E(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=H(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return el=e,null}function Vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wy()){case dh:return 2;case mh:return 8;case Ka:case Ky:return 32;case ph:return 268435456;default:return 32}default:return 32}}var Yu=!1,en=null,nn=null,sn=null,Ea=new Map,Ra=new Map,an=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fm(e,i){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(i.pointerId)}}function za(e,i,s,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Vn(i),i!==null&&Xm(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function hx(e,i,s,l,c){switch(i){case"focusin":return en=za(en,e,i,s,l,c),!0;case"dragenter":return nn=za(nn,e,i,s,l,c),!0;case"mouseover":return sn=za(sn,e,i,s,l,c),!0;case"pointerover":var d=c.pointerId;return Ea.set(d,za(Ea.get(d)||null,e,i,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Ra.set(d,za(Ra.get(d)||null,e,i,s,l,c)),!0}return!1}function qm(e){var i=cn(e.target);if(i!==null){var s=E(i);if(s!==null){if(i=s.tag,i===13){if(i=H(s),i!==null){e.blockedOn=i,a0(e.priority,function(){if(s.tag===13){var l=De(),c=Yi(s,l);c!==null&&be(c,s,l),ku(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Lu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);jl=l,s.target.dispatchEvent(l),jl=null}else return i=Vn(s),i!==null&&Xm(i),e.blockedOn=s,!1;i.shift()}return!0}function Qm(e,i,s){il(e)&&s.delete(i)}function fx(){Yu=!1,en!==null&&il(en)&&(en=null),nn!==null&&il(nn)&&(nn=null),sn!==null&&il(sn)&&(sn=null),Ea.forEach(Qm),Ra.forEach(Qm)}function nl(e,i){e.blockedOn===i&&(e.blockedOn=null,Yu||(Yu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,fx)))}var sl=null;function Zm(e){sl!==e&&(sl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){sl===e&&(sl=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],c=e[i+2];if(typeof l!="function"){if(Nu(l||s)===null)continue;break}var d=Vn(s);d!==null&&(e.splice(i,3),i-=3,Ro(d,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ba(e){function i(M){return nl(M,e)}en!==null&&nl(en,e),nn!==null&&nl(nn,e),sn!==null&&nl(sn,e),Ea.forEach(i),Ra.forEach(i);for(var s=0;s<an.length;s++){var l=an[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<an.length&&(s=an[0],s.blockedOn===null);)qm(s),s.blockedOn===null&&an.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],d=s[l+1],y=c[Ae]||null;if(typeof d=="function")y||Zm(s);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[Ae]||null)b=y.formAction;else if(Nu(c)!==null)continue}else b=y.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Zm(s)}}}function Pu(e){this._internalRoot=e}al.prototype.render=Pu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=De();Pm(s,l,e,i,null,null)},al.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&_s(),Pm(e.current,2,null,e,null,null),Pr(),i[Xn]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var i=bh();e={blockedOn:null,target:e,priority:i};for(var s=0;s<an.length&&i!==0&&i<an[s].priority;s++);an.splice(s,0,e),s===0&&qm(e)}};var Wm=t.version;if(Wm!=="19.0.0")throw Error(r(527,Wm,"19.0.0"));F.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=z(i),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var dx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:cn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ks=rl.inject(dx),Ce=rl}catch{}}return Da.createRoot=function(e,i){if(!o(e))throw Error(r(299));var s=!1,l="",c=fd,d=dd,y=md,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Nm(e,1,!1,null,null,s,l,c,d,y,b,null),e[Xn]=i.current,Tu(e.nodeType===8?e.parentNode:e),new Pu(i)},Da.hydrateRoot=function(e,i,s){if(!o(e))throw Error(r(299));var l=!1,c="",d=fd,y=dd,b=md,M=null,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(O=s.formState)),i=Nm(e,1,!0,i,s??null,l,c,d,y,b,M,O),i.context=Ym(null),s=i.current,l=De(),c=Qi(l),c.callback=null,Zi(s,c,l),i.current.lanes=l,Ls(i,l),fi(i),e[Xn]=i.current,Tu(e),new al(i)},Da.version="19.0.0",Da}var up;function wx(){if(up)return Xu.exports;up=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Xu.exports=Tx(),Xu.exports}var Mx=wx(),ni=Ic();const Cx="_container_x55mx_1",Ex={container:Cx},Rx="_topLeft_1e9fv_1",zx={topLeft:Rx};class Bx{constructor(t){ll(this,"game");ll(this,"euro",0);this.game=t,this.loadData()}addEuros(t){this.euro+=t,this.saveData(),this.game.notifyUpdate()}saveData(){const t={euro:this.euro};localStorage.setItem("ResourceMangerData",JSON.stringify(t))}loadData(){const t=localStorage.getItem("ResourceMangerData");if(t){const n=JSON.parse(t);this.euro=n.euro||0}}}var Ln;class Ox{constructor(){ll(this,"resourceManager");$m(this,Ln,[]);this.resourceManager=new Bx(this)}subscribe(t){return ol(this,Ln).push(t),()=>{Jm(this,Ln,ol(this,Ln).filter(n=>n!==t))}}notifyUpdate(){ol(this,Ln).forEach(t=>t())}}Ln=new WeakMap;const kn=new Ox,Dx=()=>{const a=ni.useSyncExternalStore(kn.subscribe.bind(kn),()=>kn.resourceManager.euro);return Mt.jsxs("div",{className:zx.topLeft,children:[Mt.jsxs("p",{children:["Euro: ",a,""]}),Mt.jsx("p",{children:"Prestige: 0"})]})},Ux="_customButton_bqunp_1",Gx={customButton:Ux},Zu=({label:a,onClick:t})=>{function n(){t()}return Mt.jsx("button",{className:Gx.customButton,onClick:n,children:a})},kx="_bottomLeft_n3rx4_1",Hx={bottomLeft:kx},Lx=()=>Mt.jsxs("div",{className:Hx.bottomLeft,children:[Mt.jsx(Zu,{label:"Button 1"}),Mt.jsx(Zu,{label:"Button 2"}),Mt.jsx(Zu,{label:"Button 3"})]}),Nx="_leftSection_1nv9d_1",Yx={leftSection:Nx},Px=()=>Mt.jsxs("div",{className:Yx.leftSection,children:[Mt.jsx(Dx,{}),Mt.jsx(Lx,{})]}),jx="_rightSection_e1pm1_1",Xx={rightSection:jx},Vx="modulepreload",Fx=function(a){return"/EngineerClicker/"+a},cp={},wl=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(n.map(m=>{if(m=Fx(m),m in cp)return;cp[m]=!0;const p=m.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":Vx,p||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),p)return new Promise((v,x)=>{_.addEventListener("load",v),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return o.then(h=>{for(const f of h||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var ot=(a=>(a.Application="application",a.WebGLPipes="webgl-pipes",a.WebGLPipesAdaptor="webgl-pipes-adaptor",a.WebGLSystem="webgl-system",a.WebGPUPipes="webgpu-pipes",a.WebGPUPipesAdaptor="webgpu-pipes-adaptor",a.WebGPUSystem="webgpu-system",a.CanvasSystem="canvas-system",a.CanvasPipesAdaptor="canvas-pipes-adaptor",a.CanvasPipes="canvas-pipes",a.Asset="asset",a.LoadParser="load-parser",a.ResolveParser="resolve-parser",a.CacheParser="cache-parser",a.DetectionParser="detection-parser",a.MaskEffect="mask-effect",a.BlendMode="blend-mode",a.TextureSource="texture-source",a.Environment="environment",a.ShapeBuilder="shape-builder",a.Batcher="batcher",a))(ot||{});const Rc=a=>{if(typeof a=="function"||typeof a=="object"&&a.extension){if(!a.extension)throw new Error("Extension class must have an extension object");a={...typeof a.extension!="object"?{type:a.extension}:a.extension,ref:a}}if(typeof a=="object")a={...a};else throw new Error("Invalid extension type");return typeof a.type=="string"&&(a.type=[a.type]),a},ul=(a,t)=>Rc(a).priority??t,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...a){return a.map(Rc).forEach(t=>{t.type.forEach(n=>{var r,o;return(o=(r=this._removeHandlers)[n])==null?void 0:o.call(r,t)})}),this},add(...a){return a.map(Rc).forEach(t=>{t.type.forEach(n=>{var u,h;const r=this._addHandlers,o=this._queue;r[n]?(h=r[n])==null||h.call(r,t):(o[n]=o[n]||[],(u=o[n])==null||u.push(t))})}),this},handle(a,t,n){var h;const r=this._addHandlers,o=this._removeHandlers;if(r[a]||o[a])throw new Error(`Extension type ${a} already has a handler`);r[a]=t,o[a]=n;const u=this._queue;return u[a]&&((h=u[a])==null||h.forEach(f=>t(f)),delete u[a]),this},handleByMap(a,t){return this.handle(a,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(a,t,n=-1){return this.handle(a,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,h)=>ul(h.value,n)-ul(u.value,n)))},r=>{const o=t.findIndex(u=>u.name===r.name);o!==-1&&t.splice(o,1)})},handleByList(a,t,n=-1){return this.handle(a,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((o,u)=>ul(u,n)-ul(o,n)))},r=>{const o=t.indexOf(r.ref);o!==-1&&t.splice(o,1)})},mixin(a,...t){for(const n of t)Object.defineProperties(a.prototype,Object.getOwnPropertyDescriptors(n))}},qx={extension:{type:ot.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await wl(()=>import("./browserAll-mfSjeF-J.js"),__vite__mapDeps([0,1,2]))}},Qx={extension:{type:ot.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await wl(()=>import("./webworkerAll-CtpPJD6n.js"),__vite__mapDeps([1,2]))}};class Ge{constructor(t,n,r){this._x=n||0,this._y=r||0,this._observer=t}clone(t){return new Ge(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Wu={exports:{}},hp;function Zx(){return hp||(hp=1,function(a){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(m,p,g){this.fn=m,this.context=p,this.once=g||!1}function u(m,p,g,_,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new o(g,_||m,v),w=n?n+p:p;return m._events[w]?m._events[w].fn?m._events[w]=[m._events[w],x]:m._events[w].push(x):(m._events[w]=x,m._eventsCount++),m}function h(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],g,_;if(this._eventsCount===0)return p;for(_ in g=this._events)t.call(g,_)&&p.push(n?_.slice(1):_);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},f.prototype.listeners=function(p){var g=n?n+p:p,_=this._events[g];if(!_)return[];if(_.fn)return[_.fn];for(var v=0,x=_.length,w=new Array(x);v<x;v++)w[v]=_[v].fn;return w},f.prototype.listenerCount=function(p){var g=n?n+p:p,_=this._events[g];return _?_.fn?1:_.length:0},f.prototype.emit=function(p,g,_,v,x,w){var R=n?n+p:p;if(!this._events[R])return!1;var T=this._events[R],D=arguments.length,U,k;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),D){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,_),!0;case 4:return T.fn.call(T.context,g,_,v),!0;case 5:return T.fn.call(T.context,g,_,v,x),!0;case 6:return T.fn.call(T.context,g,_,v,x,w),!0}for(k=1,U=new Array(D-1);k<D;k++)U[k-1]=arguments[k];T.fn.apply(T.context,U)}else{var j=T.length,Q;for(k=0;k<j;k++)switch(T[k].once&&this.removeListener(p,T[k].fn,void 0,!0),D){case 1:T[k].fn.call(T[k].context);break;case 2:T[k].fn.call(T[k].context,g);break;case 3:T[k].fn.call(T[k].context,g,_);break;case 4:T[k].fn.call(T[k].context,g,_,v);break;default:if(!U)for(Q=1,U=new Array(D-1);Q<D;Q++)U[Q-1]=arguments[Q];T[k].fn.apply(T[k].context,U)}}return!0},f.prototype.on=function(p,g,_){return u(this,p,g,_,!1)},f.prototype.once=function(p,g,_){return u(this,p,g,_,!0)},f.prototype.removeListener=function(p,g,_,v){var x=n?n+p:p;if(!this._events[x])return this;if(!g)return h(this,x),this;var w=this._events[x];if(w.fn)w.fn===g&&(!v||w.once)&&(!_||w.context===_)&&h(this,x);else{for(var R=0,T=[],D=w.length;R<D;R++)(w[R].fn!==g||v&&!w[R].once||_&&w[R].context!==_)&&T.push(w[R]);T.length?this._events[x]=T.length===1?T[0]:T:h(this,x)}return this},f.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,a.exports=f}(Wu)),Wu.exports}var Wx=Zx();const ai=Kc(Wx),Kx=Math.PI*2,Ix=180/Math.PI,$x=Math.PI/180;class me{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new me(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Ku.x=0,Ku.y=0,Ku}}const Ku=new me;class At{constructor(t=1,n=0,r=0,o=1,u=0,h=0){this.array=null,this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,r,o,u,h){return this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,n){n=n||new me;const r=t.x,o=t.y;return n.x=this.a*r+this.c*o+this.tx,n.y=this.b*r+this.d*o+this.ty,n}applyInverse(t,n){n=n||new me;const r=this.a,o=this.b,u=this.c,h=this.d,f=this.tx,m=this.ty,p=1/(r*h+u*-o),g=t.x,_=t.y;return n.x=h*p*g+-u*p*_+(m*u-f*h)*p,n.y=r*p*_+-o*p*g+(-m*r+f*o)*p,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),o=this.a,u=this.c,h=this.tx;return this.a=o*n-this.b*r,this.b=o*r+this.b*n,this.c=u*n-this.d*r,this.d=u*r+this.d*n,this.tx=h*n-this.ty*r,this.ty=h*r+this.ty*n,this}append(t){const n=this.a,r=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*r+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*r+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,n){const r=t.a,o=t.b,u=t.c,h=t.d,f=t.tx,m=t.ty,p=n.a,g=n.b,_=n.c,v=n.d;return this.a=r*p+o*_,this.b=r*g+o*v,this.c=u*p+h*_,this.d=u*g+h*v,this.tx=f*p+m*_+n.tx,this.ty=f*g+m*v+n.ty,this}setTransform(t,n,r,o,u,h,f,m,p){return this.a=Math.cos(f+p)*u,this.b=Math.sin(f+p)*u,this.c=-Math.sin(f-m)*h,this.d=Math.cos(f-m)*h,this.tx=t-(r*this.a+o*this.c),this.ty=n-(r*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,o=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,r=this.b,o=this.c,u=this.d,h=t.pivot,f=-Math.atan2(-o,u),m=Math.atan2(r,n),p=Math.abs(f+m);return p<1e-5||Math.abs(Kx-p)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=m),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(h.x*n+h.y*o),t.position.y=this.ty+(h.x*r+h.y*u),t}invert(){const t=this.a,n=this.b,r=this.c,o=this.d,u=this.tx,h=t*o-n*r;return this.a=o/h,this.b=-n/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-o*u)/h,this.ty=-(t*this.ty-n*u)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new At;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return tv.identity()}static get shared(){return Jx.identity()}}const Jx=new At,tv=new At,On=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Dn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Un=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],zc=[],wg=[],cl=Math.sign;function ev(){for(let a=0;a<16;a++){const t=[];zc.push(t);for(let n=0;n<16;n++){const r=cl(On[a]*On[n]+Un[a]*Dn[n]),o=cl(Dn[a]*On[n]+Gn[a]*Dn[n]),u=cl(On[a]*Un[n]+Un[a]*Gn[n]),h=cl(Dn[a]*Un[n]+Gn[a]*Gn[n]);for(let f=0;f<16;f++)if(On[f]===r&&Dn[f]===o&&Un[f]===u&&Gn[f]===h){t.push(f);break}}}for(let a=0;a<16;a++){const t=new At;t.set(On[a],Dn[a],Un[a],Gn[a],0,0),wg.push(t)}}ev();const Yt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:a=>On[a],uY:a=>Dn[a],vX:a=>Un[a],vY:a=>Gn[a],inv:a=>a&8?a&15:-a&7,add:(a,t)=>zc[a][t],sub:(a,t)=>zc[a][Yt.inv(t)],rotate180:a=>a^4,isVertical:a=>(a&3)===2,byDirection:(a,t)=>Math.abs(a)*2<=Math.abs(t)?t>=0?Yt.S:Yt.N:Math.abs(t)*2<=Math.abs(a)?a>0?Yt.E:Yt.W:t>0?a>0?Yt.SE:Yt.SW:a>0?Yt.NE:Yt.NW,matrixAppendRotationInv:(a,t,n=0,r=0)=>{const o=wg[Yt.inv(t)];o.tx=n,o.ty=r,a.append(o)}},hl=[new me,new me,new me,new me];class Jt{constructor(t=0,n=0,r=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Jt(0,0,0,0)}clone(){return new Jt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,r,o=.5){const{width:u,height:h}=this;if(u<=0||h<=0)return!1;const f=this.x,m=this.y,p=r*(1-o),g=r-p,_=f-p,v=f+u+p,x=m-p,w=m+h+p,R=f+g,T=f+u-g,D=m+g,U=m+h-g;return t>=_&&t<=v&&n>=x&&n<=w&&!(t>R&&t<T&&n>D&&n<U)}intersects(t,n){if(!n){const ut=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=ut)return!1;const $=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>$}const r=this.left,o=this.right,u=this.top,h=this.bottom;if(o<=r||h<=u)return!1;const f=hl[0].set(t.left,t.top),m=hl[1].set(t.left,t.bottom),p=hl[2].set(t.right,t.top),g=hl[3].set(t.right,t.bottom);if(p.x<=f.x||m.y<=f.y)return!1;const _=Math.sign(n.a*n.d-n.b*n.c);if(_===0||(n.apply(f,f),n.apply(m,m),n.apply(p,p),n.apply(g,g),Math.max(f.x,m.x,p.x,g.x)<=r||Math.min(f.x,m.x,p.x,g.x)>=o||Math.max(f.y,m.y,p.y,g.y)<=u||Math.min(f.y,m.y,p.y,g.y)>=h))return!1;const v=_*(m.y-f.y),x=_*(f.x-m.x),w=v*r+x*u,R=v*o+x*u,T=v*r+x*h,D=v*o+x*h;if(Math.max(w,R,T,D)<=v*f.x+x*f.y||Math.min(w,R,T,D)>=v*g.x+x*g.y)return!1;const U=_*(f.y-p.y),k=_*(p.x-f.x),j=U*r+k*u,Q=U*o+k*u,q=U*r+k*h,W=U*o+k*h;return!(Math.max(j,Q,q,W)<=U*f.x+k*f.y||Math.min(j,Q,q,W)>=U*g.x+k*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const r=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=o-this.y,this}enlarge(t){const n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=o,this.height=u-o,this}getBounds(t){return t||(t=new Jt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,r=t.y,o=t.x+t.width,u=t.y+t.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&o>=this.x&&o<this.x+this.width&&u>=this.y&&u<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Iu={default:-1};function te(a="default"){return Iu[a]===void 0&&(Iu[a]=-1),++Iu[a]}const fp={},Dt="8.0.0",iv="8.3.4";function Ct(a,t,n=3){if(fp[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${a}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`),console.warn(r))),fp[t]=!0}const Mg=()=>{};function Ml(a){return a+=a===0?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1}function dp(a){return!(a&a-1)&&!!a}function Cg(a){const t={};for(const n in a)a[n]!==void 0&&(t[n]=a[n]);return t}const mp=Object.create(null);function nv(a){const t=mp[a];return t===void 0&&(mp[a]=te("resource")),t}const Eg=class Rg extends ai{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Rg.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Ct(Dt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=nv(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Eg.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let sv=Eg;const zg=class Bg extends ai{constructor(t={}){super(),this.options=t,this.uid=te("textureSource"),this._resourceType="textureSource",this._resourceId=te("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Bg.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new sv(Cg(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var n,r;this.style!==t&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=te("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,r){r||(r=this._resolution),t||(t=this.width),n||(n=this.height);const o=Math.round(t*r),u=Math.round(n*r);return this.width=o/r,this.height=u/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=te("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=dp(this.pixelWidth)&&dp(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};zg.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let pi=zg;class $c extends pi{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...t,resource:n,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}$c.extension=ot.TextureSource;const pp=new At;class av{constructor(t,n){this.mapCoord=new At,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var n;this.texture!==t&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const r=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],h=t[o+1];n[o]=u*r.a+h*r.c+r.tx,n[o+1]=u*r.b+h*r.d+r.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,o=t.trim;o&&(pp.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(pp));const u=t.source,h=this.uClampFrame,f=this.clampMargin/u._resolution,m=this.clampOffset/u._resolution;return h[0]=(t.frame.x+f+m)/u.width,h[1]=(t.frame.y+f+m)/u.height,h[2]=(t.frame.x+t.frame.width-f+m)/u.width,h[3]=(t.frame.y+t.frame.height-f+m)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class wt extends ai{constructor({source:t,label:n,frame:r,orig:o,trim:u,defaultAnchor:h,defaultBorders:f,rotate:m,dynamic:p}={}){if(super(),this.uid=te("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Jt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(t==null?void 0:t.source)??new pi,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:_}=this._source;this.frame.width=g,this.frame.height=_}this.orig=o||this.frame,this.trim=u,this.rotate=m??0,this.defaultAnchor=h,this.defaultBorders=f,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new av(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:r,height:o}=this._source,u=n.x/r,h=n.y/o,f=n.width/r,m=n.height/o;let p=this.rotate;if(p){const g=f/2,_=m/2,v=u+g,x=h+_;p=Yt.add(p,Yt.NW),t.x0=v+g*Yt.uX(p),t.y0=x+_*Yt.uY(p),p=Yt.add(p,2),t.x1=v+g*Yt.uX(p),t.y1=x+_*Yt.uY(p),p=Yt.add(p,2),t.x2=v+g*Yt.uX(p),t.y2=x+_*Yt.uY(p),p=Yt.add(p,2),t.x3=v+g*Yt.uX(p),t.y3=x+_*Yt.uY(p)}else t.x0=u,t.y0=h,t.x1=u+f,t.y1=h,t.x2=u+f,t.y2=h+m,t.x3=u,t.y3=h+m}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ct(Dt,"Texture.baseTexture is now Texture.source"),this._source}}wt.EMPTY=new wt({label:"EMPTY",source:new pi({label:"EMPTY"})});wt.EMPTY.destroy=Mg;wt.WHITE=new wt({source:new $c({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});wt.WHITE.destroy=Mg;function rv(a,t,n){const{width:r,height:o}=n.orig,u=n.trim;if(u){const h=u.width,f=u.height;a.minX=u.x-t._x*r,a.maxX=a.minX+h,a.minY=u.y-t._y*o,a.maxY=a.minY+f}else a.minX=-t._x*r,a.maxX=a.minX+r,a.minY=-t._y*o,a.maxY=a.minY+o}const gp=new At;class si{constructor(t=1/0,n=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=gp,this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Jt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=gp,this}set(t,n,r,o){this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}addFrame(t,n,r,o,u){u||(u=this.matrix);const h=u.a,f=u.b,m=u.c,p=u.d,g=u.tx,_=u.ty;let v=this.minX,x=this.minY,w=this.maxX,R=this.maxY,T=h*t+m*n+g,D=f*t+p*n+_;T<v&&(v=T),D<x&&(x=D),T>w&&(w=T),D>R&&(R=D),T=h*r+m*n+g,D=f*r+p*n+_,T<v&&(v=T),D<x&&(x=D),T>w&&(w=T),D>R&&(R=D),T=h*t+m*o+g,D=f*t+p*o+_,T<v&&(v=T),D<x&&(x=D),T>w&&(w=T),D>R&&(R=D),T=h*r+m*o+g,D=f*r+p*o+_,T<v&&(v=T),D<x&&(x=D),T>w&&(w=T),D>R&&(R=D),this.minX=v,this.minY=x,this.maxX=w,this.maxY=R}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,r=this.minY,o=this.maxX,u=this.maxY,{a:h,b:f,c:m,d:p,tx:g,ty:_}=t;let v=h*n+m*r+g,x=f*n+p*r+_;this.minX=v,this.minY=x,this.maxX=v,this.maxY=x,v=h*o+m*r+g,x=f*o+p*r+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY,v=h*n+m*u+g,x=f*n+p*u+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY,v=h*o+m*u+g,x=f*o+p*u+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,r,o){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new si(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,r,o){let u=this.minX,h=this.minY,f=this.maxX,m=this.maxY;o||(o=this.matrix);const p=o.a,g=o.b,_=o.c,v=o.d,x=o.tx,w=o.ty;for(let R=n;R<r;R+=2){const T=t[R],D=t[R+1],U=p*T+_*D+x,k=g*T+v*D+w;u=U<u?U:u,h=k<h?k:h,f=U>f?U:f,m=k>m?k:m}this.minX=u,this.minY=h,this.maxX=f,this.maxY=m}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var lv={grad:.9,turn:360,rad:360/(2*Math.PI)},Di=function(a){return typeof a=="string"?a.length>0:typeof a=="number"},ce=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*a)/n+0},Ke=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),a>n?n:a>t?a:t},Og=function(a){return(a=isFinite(a)?a%360:0)>0?a:a+360},yp=function(a){return{r:Ke(a.r,0,255),g:Ke(a.g,0,255),b:Ke(a.b,0,255),a:Ke(a.a)}},$u=function(a){return{r:ce(a.r),g:ce(a.g),b:ce(a.b),a:ce(a.a,3)}},ov=/^#([0-9a-f]{3,8})$/i,fl=function(a){var t=a.toString(16);return t.length<2?"0"+t:t},Dg=function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=Math.max(t,n,r),h=u-Math.min(t,n,r),f=h?u===t?(n-r)/h:u===n?2+(r-t)/h:4+(t-n)/h:0;return{h:60*(f<0?f+6:f),s:u?h/u*100:0,v:u/255*100,a:o}},Ug=function(a){var t=a.h,n=a.s,r=a.v,o=a.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),h=r*(1-n),f=r*(1-(t-u)*n),m=r*(1-(1-t+u)*n),p=u%6;return{r:255*[r,f,h,h,m,r][p],g:255*[m,r,r,f,h,h][p],b:255*[h,h,m,r,r,f][p],a:o}},_p=function(a){return{h:Og(a.h),s:Ke(a.s,0,100),l:Ke(a.l,0,100),a:Ke(a.a)}},xp=function(a){return{h:ce(a.h),s:ce(a.s),l:ce(a.l),a:ce(a.a,3)}},vp=function(a){return Ug((n=(t=a).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ja=function(a){return{h:(t=Dg(a)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},uv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bc={string:[[function(a){var t=ov.exec(a);return t?(a=t[1]).length<=4?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?ce(parseInt(a[3]+a[3],16)/255,2):1}:a.length===6||a.length===8?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16),a:a.length===8?ce(parseInt(a.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(a){var t=hv.exec(a)||fv.exec(a);return t?t[2]!==t[4]||t[4]!==t[6]?null:yp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(a){var t=uv.exec(a)||cv.exec(a);if(!t)return null;var n,r,o=_p({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(lv[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return vp(o)},"hsl"]],object:[[function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=o===void 0?1:o;return Di(t)&&Di(n)&&Di(r)?yp({r:Number(t),g:Number(n),b:Number(r),a:Number(u)}):null},"rgb"],[function(a){var t=a.h,n=a.s,r=a.l,o=a.a,u=o===void 0?1:o;if(!Di(t)||!Di(n)||!Di(r))return null;var h=_p({h:Number(t),s:Number(n),l:Number(r),a:Number(u)});return vp(h)},"hsl"],[function(a){var t=a.h,n=a.s,r=a.v,o=a.a,u=o===void 0?1:o;if(!Di(t)||!Di(n)||!Di(r))return null;var h=function(f){return{h:Og(f.h),s:Ke(f.s,0,100),v:Ke(f.v,0,100),a:Ke(f.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(u)});return Ug(h)},"hsv"]]},bp=function(a,t){for(var n=0;n<t.length;n++){var r=t[n][0](a);if(r)return[r,t[n][1]]}return[null,void 0]},dv=function(a){return typeof a=="string"?bp(a.trim(),Bc.string):typeof a=="object"&&a!==null?bp(a,Bc.object):[null,void 0]},Ju=function(a,t){var n=ja(a);return{h:n.h,s:Ke(n.s+100*t,0,100),l:n.l,a:n.a}},tc=function(a){return(299*a.r+587*a.g+114*a.b)/1e3/255},Sp=function(a,t){var n=ja(a);return{h:n.h,s:n.s,l:Ke(n.l+100*t,0,100),a:n.a}},Oc=function(){function a(t){this.parsed=dv(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return a.prototype.isValid=function(){return this.parsed!==null},a.prototype.brightness=function(){return ce(tc(this.rgba),2)},a.prototype.isDark=function(){return tc(this.rgba)<.5},a.prototype.isLight=function(){return tc(this.rgba)>=.5},a.prototype.toHex=function(){return t=$u(this.rgba),n=t.r,r=t.g,o=t.b,h=(u=t.a)<1?fl(ce(255*u)):"","#"+fl(n)+fl(r)+fl(o)+h;var t,n,r,o,u,h},a.prototype.toRgb=function(){return $u(this.rgba)},a.prototype.toRgbString=function(){return t=$u(this.rgba),n=t.r,r=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+r+", "+o+", "+u+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,u},a.prototype.toHsl=function(){return xp(ja(this.rgba))},a.prototype.toHslString=function(){return t=xp(ja(this.rgba)),n=t.h,r=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+u+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,u},a.prototype.toHsv=function(){return t=Dg(this.rgba),{h:ce(t.h),s:ce(t.s),v:ce(t.v),a:ce(t.a,3)};var t},a.prototype.invert=function(){return di({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},a.prototype.saturate=function(t){return t===void 0&&(t=.1),di(Ju(this.rgba,t))},a.prototype.desaturate=function(t){return t===void 0&&(t=.1),di(Ju(this.rgba,-t))},a.prototype.grayscale=function(){return di(Ju(this.rgba,-1))},a.prototype.lighten=function(t){return t===void 0&&(t=.1),di(Sp(this.rgba,t))},a.prototype.darken=function(t){return t===void 0&&(t=.1),di(Sp(this.rgba,-t))},a.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},a.prototype.alpha=function(t){return typeof t=="number"?di({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ce(this.rgba.a,3);var n},a.prototype.hue=function(t){var n=ja(this.rgba);return typeof t=="number"?di({h:t,s:n.s,l:n.l,a:n.a}):ce(n.h)},a.prototype.isEqual=function(t){return this.toHex()===di(t).toHex()},a}(),di=function(a){return a instanceof Oc?a:new Oc(a)},Ap=[],mv=function(a){a.forEach(function(t){Ap.indexOf(t)<0&&(t(Oc,Bc),Ap.push(t))})};function pv(a,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var u={};a.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,m,p=r[this.toHex()];if(p)return p;if(h!=null&&h.closest){var g=this.toRgb(),_=1/0,v="black";if(!u.length)for(var x in n)u[x]=new a(n[x]).toRgb();for(var w in n){var R=(f=g,m=u[w],Math.pow(f.r-m.r,2)+Math.pow(f.g-m.g,2)+Math.pow(f.b-m.b,2));R<_&&(_=R,v=w)}return v}},t.string.push([function(h){var f=h.toLowerCase(),m=f==="transparent"?"#0000":n[f];return m?new a(m).toRgb():null},"name"])}mv([pv]);const Rs=class La{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof La)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const r=typeof t;if(r!==typeof n)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,h)=>u===n[h]);if(t!==null&&n!==null){const u=Object.keys(t),h=Object.keys(n);return u.length!==h.length?!1:u.every(f=>t[f]===n[f])}return t===n}toRgba(){const[t,n,r,o]=this._components;return{r:t,g:n,b:r,a:o}}toRgb(){const[t,n,r]=this._components;return{r:t,g:n,b:r}}toRgbaString(){const[t,n,r]=this.toUint8RgbArray();return`rgba(${t},${n},${r},${this.alpha})`}toUint8RgbArray(t){const[n,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(r*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,r,o,u]=this._components;return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,r,o]=this._components;return t[0]=n,t[1]=r,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,r,o,u]=La._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(r=r*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,r,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;n=(h>>16&255)/255,r=(h>>8&255)/255,o=(h&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,o,u=255]=t,n/=255,r/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=La.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const h=di(t);h.isValid()&&({r:n,g:r,b:o,a:u}=h.rgba,n/=255,r/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,r]=this._components;this._int=(t*255<<16)+(n*255<<8)+(r*255|0)}_clamp(t,n=0,r=1){return typeof t=="number"?Math.min(Math.max(t,n),r):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof La||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Rs.shared=new Rs;Rs._temp=new Rs;Rs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ee=Rs;const gv={cullArea:null,cullable:!1,cullableChildren:!0};class Jc{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,(r=n.init)==null||r.call(n,t),n}return(t){var n;(n=t.reset)==null||n.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class yv{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Jc(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const r=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}}const Ui=new yv,_v={get isCachedAsTexture(){var a;return!!((a=this.renderGroup)!=null&&a.isCachedAsTexture)},cacheAsTexture(a){typeof a=="boolean"&&a===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(a===!0?{}:a))},updateCacheTexture(){var a;(a=this.renderGroup)==null||a.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(a){Ct("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(a)}};function xv(a,t,n){const r=a.length;let o;if(t>=r||n===0)return;n=t+n>r?r-t:n;const u=r-n;for(o=t;o<u;++o)a[o]=a[o+n];a.length=u}const vv={allowChildren:!0,removeChildren(a=0,t){const n=t??this.children.length,r=n-a,o=[];if(r>0&&r<=n){for(let h=n-1;h>=a;h--){const f=this.children[h];f&&(o.push(f),f.parent=null)}xv(this.children,a,n);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(o);for(let h=0;h<o.length;++h)this.emit("childRemoved",o[h],this,h),o[h].emit("removed",this);return o.length>0&&this._didViewChangeTick++,o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(a){const t=this.getChildAt(a);return this.removeChild(t)},getChildAt(a){if(a<0||a>=this.children.length)throw new Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]},setChildIndex(a,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(a),this.addChildAt(a,t)},getChildIndex(a){const t=this.children.indexOf(a);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(a,t){this.allowChildren||Ct(Dt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${a}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(a.parent){const o=a.parent.children.indexOf(a);if(a.parent===this&&o===t)return a;o!==-1&&a.parent.children.splice(o,1)}t===n.length?n.push(a):n.splice(t,0,a),a.parent=this,a.didChange=!0,a._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(a),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",a,this,t),a.emit("added",this),a},swapChildren(a,t){if(a===t)return;const n=this.getChildIndex(a),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=a;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var a;(a=this.parent)==null||a.removeChild(this)},reparentChild(...a){return a.length===1?this.reparentChildAt(a[0],this.children.length):(a.forEach(t=>this.reparentChildAt(t,this.children.length)),a[0])},reparentChildAt(a,t){if(a.parent===this)return this.setChildIndex(a,t),a;const n=a.worldTransform.clone();a.removeFromParent(),this.addChildAt(a,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),a.setFromMatrix(n),a}},bv={collectRenderables(a,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(a,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,a):this.collectRenderablesWithEffects(a,t,n))},collectRenderablesSimple(a,t,n){const r=this.children,o=r.length;for(let u=0;u<o;u++)r[u].collectRenderables(a,t,n)},collectRenderablesWithEffects(a,t,n){const{renderPipes:r}=t;for(let o=0;o<this.effects.length;o++){const u=this.effects[o];r[u.pipe].push(u,this,a)}this.collectRenderablesSimple(a,t,n);for(let o=this.effects.length-1;o>=0;o--){const u=this.effects[o];r[u.pipe].pop(u,this,a)}}};class Tp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class Sv{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(t))return Ui.get(r.maskClass,t)}return t}returnMaskEffect(t){Ui.return(t)}}const Dc=new Sv;pe.handleByList(ot.MaskEffect,Dc._effectClasses);const Av={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0)},addEffect(a){this.effects.indexOf(a)===-1&&(this.effects.push(a),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(a){const t=this.effects.indexOf(a);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(a){const t=this._maskEffect;(t==null?void 0:t.mask)!==a&&(t&&(this.removeEffect(t),Dc.returnMaskEffect(t),this._maskEffect=null),a!=null&&(this._maskEffect=Dc.getMaskEffect(a),this.addEffect(this._maskEffect)))},setMask(a){this._maskOptions={...this._maskOptions,...a},a.mask&&(this.mask=a.mask),this._markStructureAsChanged()},get mask(){var a;return(a=this._maskEffect)==null?void 0:a.mask},set filters(a){var u;!Array.isArray(a)&&a&&(a=[a]);const t=this._filterEffect||(this._filterEffect=new Tp);a=a;const n=(a==null?void 0:a.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,o=n!==r;a=Array.isArray(a)?a.slice(0):a,t.filters=Object.freeze(a),o&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=a??null))},get filters(){var a;return(a=this._filterEffect)==null?void 0:a.filters},set filterArea(a){this._filterEffect||(this._filterEffect=new Tp),this._filterEffect.filterArea=a},get filterArea(){var a;return(a=this._filterEffect)==null?void 0:a.filterArea}},Tv={label:null,get name(){return Ct(Dt,"Container.name property has been removed, use Container.label instead"),this.label},set name(a){Ct(Dt,"Container.name property has been removed, use Container.label instead"),this.label=a},getChildByName(a,t=!1){return this.getChildByLabel(a,t)},getChildByLabel(a,t=!1){const n=this.children;for(let r=0;r<n.length;r++){const o=n[r];if(o.label===a||a instanceof RegExp&&a.test(o.label))return o}if(t)for(let r=0;r<n.length;r++){const u=n[r].getChildByLabel(a,!0);if(u)return u}return null},getChildrenByLabel(a,t=!1,n=[]){const r=this.children;for(let o=0;o<r.length;o++){const u=r[o];(u.label===a||a instanceof RegExp&&a.test(u.label))&&n.push(u)}if(t)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(a,!0,n);return n}},Se=new Jc(At),Gi=new Jc(si),wv=new At,Mv={getFastGlobalBounds(a,t){t||(t=new si),t.clear(),this._getGlobalBoundsRecursive(!!a,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(a,t,n){let r=t;if(a&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(r=Gi.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const h=this.bounds;r.addFrame(h.minX,h.minY,h.maxX,h.maxY,this.groupTransform)}const u=this.children;for(let h=0;h<u.length;h++)u[h]._getGlobalBoundsRecursive(a,r,n)}if(o){let u=!1;const h=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(h.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(h.worldTransform.copyTo(wv).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),Gi.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Gi.return(r))}};function Gg(a,t,n){n.clear();let r,o;return a.parent?t?r=a.parent.worldTransform:(o=Se.get().identity(),r=th(a,o)):r=At.IDENTITY,kg(a,n,r,t),o&&Se.return(o),n.isValid||n.set(0,0,0,0),n}function kg(a,t,n,r){var f,m;if(!a.visible||!a.measurable)return;let o;r?o=a.worldTransform:(a.updateLocalTransform(),o=Se.get(),o.appendFrom(a.localTransform,n));const u=t,h=!!a.effects.length;if(h&&(t=Gi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,o);else{a.bounds&&(t.matrix=o,t.addBounds(a.bounds));for(let p=0;p<a.children.length;p++)kg(a.children[p],t,o,r)}if(h){for(let p=0;p<a.effects.length;p++)(m=(f=a.effects[p]).addBounds)==null||m.call(f,t);u.addBounds(t,At.IDENTITY),Gi.return(t)}r||Se.return(o)}function th(a,t){const n=a.parent;return n&&(th(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function Hg(a,t){if(a===16777215||!t)return t;if(t===16777215||!a)return a;const n=a>>16&255,r=a>>8&255,o=a&255,u=t>>16&255,h=t>>8&255,f=t&255,m=n*u/255|0,p=r*h/255|0,g=o*f/255|0;return(m<<16)+(p<<8)+g}const wp=16777215;function Mp(a,t){return a===wp?t:t===wp?a:Hg(a,t)}function bl(a){return((a&255)<<16)+(a&65280)+(a>>16&255)}const Cv={getGlobalAlpha(a){if(a)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(a,t){if(t)return a.copyFrom(this.worldTransform);this.updateLocalTransform();const n=th(this,Se.get().identity());return a.appendFrom(this.localTransform,n),Se.return(n),a},getGlobalTint(a){if(a)return this.renderGroup?bl(this.renderGroup.worldColor):this.parentRenderGroup?bl(Mp(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Mp(t,n.localColor),n=n.parent;return bl(t)}};let ec=0;const Cp=500;function Pt(...a){ec!==Cp&&(ec++,ec===Cp?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...a))}function Lg(a,t,n){return t.clear(),n||(n=At.IDENTITY),Ng(a,t,n,a,!0),t.isValid||t.set(0,0,0,0),t}function Ng(a,t,n,r,o){var m,p;let u;if(o)u=Se.get(),u=n.copyTo(u);else{if(!a.visible||!a.measurable)return;a.updateLocalTransform();const g=a.localTransform;u=Se.get(),u.appendFrom(g,n)}const h=t,f=!!a.effects.length;if(f&&(t=Gi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,u);else{a.renderPipeId&&(t.matrix=u,t.addBounds(a.bounds));const g=a.children;for(let _=0;_<g.length;_++)Ng(g[_],t,u,r,!1)}if(f){for(let g=0;g<a.effects.length;g++)(p=(m=a.effects[g]).addLocalBounds)==null||p.call(m,t,r);h.addBounds(t,At.IDENTITY),Gi.return(t)}Se.return(u)}function Yg(a,t){const n=a.children;for(let r=0;r<n.length;r++){const o=n[r],u=o.uid,h=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==h)&&(t.data[t.index]=u,t.data[t.index+1]=h,t.didChange=!0),t.index=f+2,o.children.length&&Yg(o,t)}return t.didChange}const Ev=new At,Rv={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(a,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=a/t*n:this.scale.x=n},_setHeight(a,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=a/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new si});const a=this._localBoundsCacheData;return a.index=1,a.didChange=!1,a.data[0]!==this._didViewChangeTick&&(a.didChange=!0,a.data[0]=this._didViewChangeTick),Yg(this,a),a.didChange&&Lg(this,a.localBounds,Ev),a.localBounds},getBounds(a,t){return Gg(this,a,t||new si)}},zv={_onRender:null,set onRender(a){const t=this.renderGroup||this.parentRenderGroup;if(!a){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=a},get onRender(){return this._onRender}},Bv={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(a){this._zIndex!==a&&(this._zIndex=a,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Ov))}};function Ov(a,t){return a._zIndex-t._zIndex}const Dv={getGlobalPosition(a=new me,t=!1){return this.parent?this.parent.toGlobal(this._position,a,t):(a.x=this._position.x,a.y=this._position.y),a},toGlobal(a,t,n=!1){const r=this.getGlobalTransform(Se.get(),n);return t=r.apply(a,t),Se.return(r),t},toLocal(a,t,n,r){t&&(a=t.toGlobal(a,n,r));const o=this.getGlobalTransform(Se.get(),r);return n=o.applyInverse(a,n),Se.return(o),n}};class Pg{constructor(){this.uid=te("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Uv=0;class Gv{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,n,r){const o=new pi({...this.textureOptions,width:t,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new wt({source:o,label:`texturePool_${Uv++}`})}getOptimalTexture(t,n,r=1,o){let u=Math.ceil(t*r-1e-6),h=Math.ceil(n*r-1e-6);u=Ml(u),h=Ml(h);const f=(u<<17)+(h<<1)+(o?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let m=this._texturePool[f].pop();return m||(m=this.createTexture(u,h,o)),m.source._resolution=r,m.source.width=u/r,m.source.height=h/r,m.source.pixelWidth=u,m.source.pixelHeight=h,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=n,m.updateUvs(),this._poolKeyHash[m.uid]=f,m}getSameSizeTexture(t,n=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,n)}returnTexture(t){const n=this._poolKeyHash[t.uid];this._texturePool[n].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const kv=new Gv;class Hv{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new At,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Pg,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let r=0;r<n.length;r++){const o=n[r];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(kv.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const r=t.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new At),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new At),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new At),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Lv(a,t,n={}){for(const r in t)!n[r]&&t[r]!==void 0&&(a[r]=t[r])}const ic=new Ge(null),nc=new Ge(null),sc=new Ge(null,1,1),Ep=1,Nv=2,ac=4;class Yn extends ai{constructor(t={}){var n,r;super(),this.uid=te("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new At,this.relativeGroupTransform=new At,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ge(this,0,0),this._scale=sc,this._pivot=nc,this._skew=ic,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Lv(this,t,{children:!0,parent:!0,effects:!0}),(n=t.children)==null||n.forEach(o=>this.addChild(o)),(r=t.parent)==null||r.addChild(this)}static mixin(t){Ct("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),pe.mixin(Yn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Ct(Dt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let o=0;o<t.length;o++)this.addChild(t[o]);return t[0]}const n=t[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Ui.get(Hv,this),this.groupTransform=At.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Ui.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new At),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Ix}set angle(t){this.rotation=t*$x}get pivot(){return this._pivot===nc&&(this._pivot=new Ge(this,0,0)),this._pivot}set pivot(t){this._pivot===nc&&(this._pivot=new Ge(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===ic&&(this._skew=new Ge(this,0,0)),this._skew}set skew(t){this._skew===ic&&(this._skew=new Ge(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===sc&&(this._scale=new Ge(this,1,1)),this._scale}set scale(t){this._scale===sc&&(this._scale=new Ge(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const r=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,r=this._scale,o=this._pivot,u=this._position,h=r._x,f=r._y,m=o._x,p=o._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=u._x-(m*n.a+p*n.c),n.ty=u._y-(m*n.b+p*n.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Ep,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=ee.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Ep,this._onUpdate())}get tint(){return bl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Nv,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ac,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ac,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=ac,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var o;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&n)for(let u=0;u<n.length;++u)n[u].destroy(t);(o=this.renderGroup)==null||o.destroy(),this.renderGroup=null}}pe.mixin(Yn,vv,Mv,Dv,zv,Rv,Av,Tv,Bv,gv,_v,Cv,bv);class jg extends Yn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new si(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:r,y:o}=t;return r>=n.minX&&r<=n.maxX&&o>=n.minY&&o<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}collectRenderablesSimple(t,n,r){const{renderPipes:o,renderableGC:u}=n;o.blendMode.setBlendMode(this,this.groupBlendMode,t),o[this.renderPipeId].addRenderable(this,t),u.addRenderable(this),this.didViewUpdate=!1;const f=this.children,m=f.length;for(let p=0;p<m;p++)f[p].collectRenderables(t,n,r)}}class zs extends jg{constructor(t=wt.EMPTY){t instanceof wt&&(t={texture:t});const{texture:n=wt.EMPTY,anchor:r,roundPixels:o,width:u,height:h,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Ge({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u!==void 0&&(this.width=u),h!==void 0&&(this.height=h)}static from(t,n=!1){return t instanceof wt?new zs(t):new zs(wt.from(t,n))}set texture(t){t||(t=wt.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return rv(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Ct("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,r=this._bounds,{width:o,height:u}=n.orig;r.minX=-t._x*o,r.maxX=r.minX+o,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Yv=new si;function Xg(a,t,n){const r=Yv;a.measurable=!0,Gg(a,n,r),t.addBoundsMask(r),a.measurable=!1}function Vg(a,t,n){const r=Gi.get();a.measurable=!0;const o=Se.get().identity(),u=Fg(a,n,o);Lg(a,r,u),a.measurable=!1,t.addBoundsMask(r),Se.return(o),Gi.return(r)}function Fg(a,t,n){return a?(a!==t&&(Fg(a.parent,t,n),a.updateLocalTransform(),n.append(a.localTransform)),n):(Pt("Mask bounds, renderable is not inside the root container"),n)}class qg{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof zs),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,n){this.inverse||Xg(this.mask,t,n)}addLocalBounds(t,n){Vg(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof zs}}qg.extension=ot.MaskEffect;class Qg{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}Qg.extension=ot.MaskEffect;class Zg{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,n){Xg(this.mask,t,n)}addLocalBounds(t,n){Vg(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof Yn}}Zg.extension=ot.MaskEffect;const Pv={createCanvas:(a,t)=>{const n=document.createElement("canvas");return n.width=a,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(a,t)=>fetch(a,t),parseXML:a=>new DOMParser().parseFromString(a,"text/xml")};let Rp=Pv;const Qt={get(){return Rp},set(a){Rp=a}};class Wg extends pi{constructor(t){t.resource||(t.resource=Qt.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,r=this._resolution){const o=super.resize(t,n,r);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Wg.extension=ot.TextureSource;class Nn extends pi{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const n=Qt.get().createCanvas(t.resource.width,t.resource.height);n.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=n,Pt("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Nn.extension=ot.TextureSource;var Uc=(a=>(a[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",a))(Uc||{});class rc{constructor(t,n=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=r,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const Kg=class Ue{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new rc(null,null,1/0),this.deltaMS=1/Ue.targetFPMS,this.elapsedMS=1/Ue.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,r=Uc.NORMAL){return this._addListener(new rc(t,n,r))}addOnce(t,n,r=Uc.NORMAL){return this._addListener(new rc(t,n,r,!0))}_addListener(t){let n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,n){let r=this._head.next;for(;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Ue.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,Ue.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Ue._shared){const t=Ue._shared=new Ue;t.autoStart=!0,t._protected=!0}return Ue._shared}static get system(){if(!Ue._system){const t=Ue._system=new Ue;t.autoStart=!0,t._protected=!0}return Ue._system}};Kg.targetFPMS=.06;let dl=Kg,lc;async function Ig(){return lc??(lc=(async()=>{var h;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(f=>{const m=document.createElement("video");m.onloadeddata=()=>f(m),m.onerror=()=>f(null),m.autoplay=!1,m.crossOrigin="anonymous",m.preload="auto",m.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",m.load()});if(!n)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(r),(h=t.getExtension("WEBGL_lose_context"))==null||h.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),lc}const Rl=class $g extends pi{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...$g.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=dl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await Ig(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(dl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(dl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(dl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Rl.extension=ot.TextureSource;Rl.defaultOptions={...pi.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Rl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Sl=Rl;const ii=(a,t,n=!1)=>(Array.isArray(a)||(a=[a]),t?a.map(r=>typeof r=="string"||n?t(r):r):a);class jv{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Pt(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const r=ii(t);let o;for(let m=0;m<this.parsers.length;m++){const p=this.parsers[m];if(p.test(n)){o=p.getCacheableAssets(r,n);break}}const u=new Map(Object.entries(o||{}));o||r.forEach(m=>{u.set(m,n)});const h=[...u.keys()],f={cacheKeys:h,keys:r};r.forEach(m=>{this._cacheMap.set(m,f)}),h.forEach(m=>{const p=o?o[m]:n;this._cache.has(m)&&this._cache.get(m)!==p&&Pt("[Cache] already has key:",m),this._cache.set(m,u.get(m))})}remove(t){if(!this._cacheMap.has(t)){Pt(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const qt=new jv,Gc=[];pe.handleByList(ot.TextureSource,Gc);function Jg(a={}){const t=a&&a.resource,n=t?a.resource:a,r=t?a:{resource:a};for(let o=0;o<Gc.length;o++){const u=Gc[o];if(u.test(n))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function Xv(a={},t=!1){const n=a&&a.resource,r=n?a.resource:a,o=n?a:{resource:a};if(!t&&qt.has(r))return qt.get(r);const u=new wt({source:Jg(o)});return u.on("destroy",()=>{qt.has(r)&&qt.remove(r)}),t||qt.set(r,u),u}function Vv(a,t=!1){return typeof a=="string"?qt.get(a):a instanceof pi?new wt({source:a}):Xv(a,t)}wt.from=Vv;pi.from=Jg;pe.add(qg,Qg,Zg,Sl,Nn,Wg,$c);var on=(a=>(a[a.Low=0]="Low",a[a.Normal=1]="Normal",a[a.High=2]="High",a))(on||{});function ei(a){if(typeof a!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)}function Ua(a){return a.split("?")[0].split("#")[0]}function Fv(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qv(a,t,n){return a.replace(new RegExp(Fv(t),"g"),n)}function Qv(a,t){let n="",r=0,o=-1,u=0,h=-1;for(let f=0;f<=a.length;++f){if(f<a.length)h=a.charCodeAt(f);else{if(h===47)break;h=47}if(h===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=f,u=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=f,u=0;continue}}}else n.length>0?n+=`/${a.slice(o+1,f)}`:n=a.slice(o+1,f),r=f-o-1;o=f,u=0}else h===46&&u!==-1?++u:u=-1}return n}const ke={toPosix(a){return qv(a,"\\","/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},isBlobUrl(a){return a.startsWith("blob:")},hasProtocol(a){return/^[^/:]+:/.test(this.toPosix(a))},getProtocol(a){ei(a),a=this.toPosix(a);const t=/^file:\/\/\//.exec(a);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(a);return n?n[0]:""},toAbsolute(a,t,n){if(ei(a),this.isDataUrl(a)||this.isBlobUrl(a))return a;const r=Ua(this.toPosix(t??Qt.get().getBaseUrl())),o=Ua(this.toPosix(n??this.rootname(r)));return a=this.toPosix(a),a.startsWith("/")?ke.join(o,a.slice(1)):this.isAbsolute(a)?a:this.join(r,a)},normalize(a){if(ei(a),a.length===0)return".";if(this.isDataUrl(a)||this.isBlobUrl(a))return a;a=this.toPosix(a);let t="";const n=a.startsWith("/");this.hasProtocol(a)&&(t=this.rootname(a),a=a.slice(t.length));const r=a.endsWith("/");return a=Qv(a),a.length>0&&r&&(a+="/"),n?`/${a}`:t+a},isAbsolute(a){return ei(a),a=this.toPosix(a),this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(a.length===0)return".";let t;for(let n=0;n<a.length;++n){const r=a[n];if(ei(r),r.length>0)if(t===void 0)t=r;else{const o=a[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(a){if(ei(a),a.length===0)return".";a=this.toPosix(a);let t=a.charCodeAt(0);const n=t===47;let r=-1,o=!0;const u=this.getProtocol(a),h=a;a=a.slice(u.length);for(let f=a.length-1;f>=1;--f)if(t=a.charCodeAt(f),t===47){if(!o){r=f;break}}else o=!1;return r===-1?n?"/":this.isUrl(h)?u+a:u:n&&r===1?"//":u+a.slice(0,r)},rootname(a){ei(a),a=this.toPosix(a);let t="";if(a.startsWith("/")?t="/":t=this.getProtocol(a),this.isUrl(a)){const n=a.indexOf("/",t.length);n!==-1?t=a.slice(0,n):t=a,t.endsWith("/")||(t+="/")}return t},basename(a,t){ei(a),t&&ei(t),a=Ua(this.toPosix(a));let n=0,r=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=a.length){if(t.length===a.length&&t===a)return"";let h=t.length-1,f=-1;for(u=a.length-1;u>=0;--u){const m=a.charCodeAt(u);if(m===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),h>=0&&(m===t.charCodeAt(h)?--h===-1&&(r=u):(h=-1,r=f))}return n===r?r=f:r===-1&&(r=a.length),a.slice(n,r)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!o){n=u+1;break}}else r===-1&&(o=!1,r=u+1);return r===-1?"":a.slice(n,r)},extname(a){ei(a),a=Ua(this.toPosix(a));let t=-1,n=0,r=-1,o=!0,u=0;for(let h=a.length-1;h>=0;--h){const f=a.charCodeAt(h);if(f===47){if(!o){n=h+1;break}continue}r===-1&&(o=!1,r=h+1),f===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===n+1?"":a.slice(t,r)},parse(a){ei(a);const t={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return t;a=Ua(this.toPosix(a));let n=a.charCodeAt(0);const r=this.isAbsolute(a);let o;t.root=this.rootname(a),r||this.hasProtocol(a)?o=1:o=0;let u=-1,h=0,f=-1,m=!0,p=a.length-1,g=0;for(;p>=o;--p){if(n=a.charCodeAt(p),n===47){if(!m){h=p+1;break}continue}f===-1&&(m=!1,f=p+1),n===46?u===-1?u=p:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===h+1?f!==-1&&(h===0&&r?t.base=t.name=a.slice(1,f):t.base=t.name=a.slice(h,f)):(h===0&&r?(t.name=a.slice(1,u),t.base=a.slice(1,f)):(t.name=a.slice(h,u),t.base=a.slice(h,f)),t.ext=a.slice(u,f)),t.dir=this.dirname(a),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function ty(a,t,n,r,o){const u=t[n];for(let h=0;h<u.length;h++){const f=u[h];n<t.length-1?ty(a.replace(r[n],f),t,n+1,r,o):o.push(a.replace(r[n],f))}}function Zv(a){const t=/\{(.*?)\}/g,n=a.match(t),r=[];if(n){const o=[];n.forEach(u=>{const h=u.substring(1,u.length-1).split(",");o.push(h)}),ty(a,o,0,n,r)}else r.push(a);return r}const Cl=a=>!Array.isArray(a);class Os{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(t){const{alias:n,src:r}=t;return ii(n||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(h=>(h==null?void 0:h.src)??h):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Pt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const r=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,h])=>typeof h=="string"||Array.isArray(h)?{alias:u,src:h}:{alias:u,...h})),o.forEach(u=>{const h=u.src,f=u.alias;let m;if(typeof f=="string"){const p=this._createBundleAssetId(t,f);r.push(p),m=[f,p]}else{const p=f.map(g=>this._createBundleAssetId(t,g));r.push(...p),m=[...f,...p]}this.add({...u,alias:m,src:h})}),this._bundles[t]=r}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let r;r=u=>{this.hasKey(u)&&Pt(`[Resolver] already has key: ${u} overwriting`)},ii(n).forEach(u=>{const{src:h}=u;let{data:f,format:m,loadParser:p}=u;const g=ii(h).map(x=>typeof x=="string"?Zv(x):Array.isArray(x)?x:[x]),_=this.getAlias(u);Array.isArray(_)?_.forEach(r):r(_);const v=[];g.forEach(x=>{x.forEach(w=>{let R={};if(typeof w!="object"){R.src=w;for(let T=0;T<this._parsers.length;T++){const D=this._parsers[T];if(D.test(w)){R=D.parse(w);break}}}else f=w.data??f,m=w.format??m,p=w.loadParser??p,R={...R,...w};if(!_)throw new Error(`[Resolver] alias is undefined for this asset: ${R.src}`);R=this._buildResolvedAsset(R,{aliases:_,data:f,format:m,loadParser:p}),v.push(R)})}),_.forEach(x=>{this._assetMap[x]=v})})}resolveBundle(t){const n=Cl(t);t=ii(t);const r={};return t.forEach(o=>{const u=this._bundles[o];if(u){const h=this.resolve(u),f={};for(const m in h){const p=h[m];f[this._extractAssetIdFromBundle(o,m)]=p}r[o]=f}}),n?r[t[0]]:r}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const r={};for(const o in n)r[o]=n[o].src;return r}return n.src}resolve(t){const n=Cl(t);t=ii(t);const r={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const h=this._getPreferredOrder(u);h==null||h.priority.forEach(f=>{h.params[f].forEach(m=>{const p=u.filter(g=>g[f]?g[f]===m:!1);p.length&&(u=p)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),n?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const r=t[n],o=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:r,data:o,loadParser:u,format:h}=n;return(this._basePath||this._rootPath)&&(t.src=ke.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.format=h??t.format??Wv(t.src),t}}Os.RETINA_PREFIX=/@([0-9\.]+)x/;function Wv(a){return a.split(".").pop().split("?").shift().split("#").shift()}const kc=(a,t)=>{const n=t.split("?")[1];return n&&(a+=`?${n}`),a},ey=class Na{constructor(t,n){this.linkedSheets=[],this._texture=t instanceof wt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=n;const r=parseFloat(n.meta.scale);r?(this.resolution=r,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Na.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=Na.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],h=u.frame;if(h){let f=null,m=null;const p=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new Jt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);u.rotated?f=new Jt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):f=new Jt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(m=new Jt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new wt({source:this.textureSource,frame:f,orig:g,trim:m,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let r=0;r<t[n].length;r++){const o=t[n][r];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Na.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Na.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var n;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};ey.BATCH_SIZE=1e3;let zp=ey;const Kv=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function iy(a,t,n){const r={};if(a.forEach(o=>{r[o]=t}),Object.keys(t.textures).forEach(o=>{r[o]=t.textures[o]}),!n){const o=ke.dirname(a[0]);t.linkedSheets.forEach((u,h)=>{const f=iy([`${o}/${t.data.meta.related_multi_packs[h]}`],u,!0);Object.assign(r,f)})}return r}const Iv={extension:ot.Asset,cache:{test:a=>a instanceof zp,getCacheableAssets:(a,t)=>iy(a,t,!1)},resolver:{extension:{type:ot.ResolveParser,name:"resolveSpritesheet"},test:a=>{const n=a.split("?")[0].split("."),r=n.pop(),o=n.pop();return r==="json"&&Kv.includes(o)},parse:a=>{var n;const t=a.split(".");return{resolution:parseFloat(((n=Os.RETINA_PREFIX.exec(a))==null?void 0:n[1])??"1"),format:t[t.length-2],src:a}}},loader:{name:"spritesheetLoader",extension:{type:ot.LoadParser,priority:on.Normal,name:"spritesheetLoader"},async testParse(a,t){return ke.extname(t.src).toLowerCase()===".json"&&!!a.frames},async parse(a,t,n){var g,_;const{texture:r,imageFilename:o,textureOptions:u}=(t==null?void 0:t.data)??{};let h=ke.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(r instanceof wt)f=r;else{const v=kc(h+(o??a.meta.image),t.src);f=(await n.load([{src:v,data:u}]))[v]}const m=new zp(f.source,a);await m.parse();const p=(g=a==null?void 0:a.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(p)){const v=[];for(const w of p){if(typeof w!="string")continue;let R=h+w;(_=t.data)!=null&&_.ignoreMultiPack||(R=kc(R,t.src),v.push(n.load({src:R,data:{textureOptions:u,ignoreMultiPack:!0}})))}const x=await Promise.all(v);m.linkedSheets=x,x.forEach(w=>{w.linkedSheets=[m].concat(m.linkedSheets.filter(R=>R!==w))})}return m},async unload(a,t,n){await n.unload(a.textureSource._sourceOrigin),a.destroy(!1)}}};pe.add(Iv);const oc=Object.create(null),Bp=Object.create(null);function eh(a,t){let n=Bp[a];return n===void 0&&(oc[t]===void 0&&(oc[t]=1),Bp[a]=n=oc[t]++),n}let Ts;function ny(){return(!Ts||Ts!=null&&Ts.isContextLost())&&(Ts=Qt.get().createCanvas().getContext("webgl",{})),Ts}let ml;function $v(){if(!ml){ml="mediump";const a=ny();a&&a.getShaderPrecisionFormat&&(ml=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision?"highp":"mediump")}return ml}function Jv(a,t,n){return t?a:n?(a=a.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${a}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${a}
        `}function tb(a,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(a.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${a}`}else if(r!=="highp"&&a.substring(0,15)==="precision highp")return a.replace("precision highp","precision mediump");return a}function eb(a,t){return t?`#version 300 es
${a}`:a}const ib={},nb={};function sb(a,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const r=n?ib:nb;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,a.indexOf("#define SHADER_NAME")!==-1?a:`${`#define SHADER_NAME ${t}`}
${a}`}function ab(a,t){return t?a.replace("#version 300 es",""):a}const uc={stripVersion:ab,ensurePrecision:tb,addProgramDefines:Jv,setProgramName:sb,insertVersion:eb},cc=Object.create(null),sy=class Hc{constructor(t){t={...Hc.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:$v()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(uc).forEach(h=>{const f=r[h];o=uc[h](o,f,!0),u=uc[h](u,f,!1)}),this.fragment=o,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=eh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return cc[n]||(cc[n]=new Hc(t)),cc[n]}};sy.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let zl=sy;const Op={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function rb(a){return Op[a]??Op.float32}const lb={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function ob({source:a,entryPoint:t}){const n={},r=a.indexOf(`fn ${t}`);if(r!==-1){const o=a.indexOf("->",r);if(o!==-1){const u=a.substring(r,o),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=h.exec(u))!==null;){const m=lb[f[3]]??"float32";n[f[2]]={location:parseInt(f[1],10),format:m,stride:rb(m).stride,offset:0,instance:!1,start:0}}}}return n}function hc(a){var _,v;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,p=(_=a.match(t))==null?void 0:_.map(x=>({group:parseInt(x.match(n)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(o)[2],isUniform:x.match(o)[1]==="<uniform>",type:x.match(u)[1]}));if(!p)return{groups:[],structs:[]};const g=((v=a.match(h))==null?void 0:v.map(x=>{const w=x.match(m)[1],R=x.match(f).reduce((T,D)=>{const[U,k]=D.split(":");return T[U.trim()]=k.trim(),T},{});return R?{name:w,members:R}:null}).filter(({name:x})=>p.some(w=>w.type===x)))??[];return{groups:p,structs:g}}var Ya=(a=>(a[a.VERTEX=1]="VERTEX",a[a.FRAGMENT=2]="FRAGMENT",a[a.COMPUTE=4]="COMPUTE",a))(Ya||{});function ub({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:Ya.VERTEX|Ya.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:Ya.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:Ya.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function cb({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function hb(a,t){const n=new Set,r=new Set,o=[...a.structs,...t.structs].filter(h=>n.has(h.name)?!1:(n.add(h.name),!0)),u=[...a.groups,...t.groups].filter(h=>{const f=`${h.name}-${h.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:o,groups:u}}const fc=Object.create(null);class Ds{constructor(t){var f,m;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:o,gpuLayout:u,name:h}=t;if(this.name=h,this.fragment=n,this.vertex=r,n.source===r.source){const p=hc(n.source);this.structsAndGroups=p}else{const p=hc(r.source),g=hc(n.source);this.structsAndGroups=hb(p,g)}this.layout=o??cb(this.structsAndGroups),this.gpuLayout=u??ub(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((m=this.layout[1])==null?void 0:m.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,r=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=eh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=ob(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return fc[n]||(fc[n]=new Ds(t)),fc[n]}}const ay=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],fb=ay.reduce((a,t)=>(a[t]=!0,a),{});function db(a,t){switch(a){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ry=class ly{constructor(t,n){this._touched=0,this.uid=te("uniform"),this._resourceType="uniformGroup",this._resourceId=te("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...ly.defaultOptions,...n},this.uniformStructures=t;const r={};for(const o in t){const u=t[o];if(u.name=o,u.size=u.size??1,!fb[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${ay.join(", ")}`);u.value??(u.value=db(u.type,u.size)),r[o]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=eh(Object.keys(r).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};ry.defaultOptions={ubo:!1,isStatic:!1};let oy=ry;class Al{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in t){const o=t[r];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const r in this.resources)t[n++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,n){var o,u;const r=this.resources[n];t!==r&&(r&&((o=t.off)==null||o.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const r in n)n[r]._touched=t}destroy(){var n;const t=this.resources;for(const r in t){const o=t[r];(n=o.off)==null||n.call(o,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const r in n)n[r]===t&&(n[r]=null)}else this._updateKey()}}var Lc=(a=>(a[a.WEBGL=1]="WEBGL",a[a.WEBGPU=2]="WEBGPU",a[a.BOTH=3]="BOTH",a))(Lc||{});class Bl extends ai{constructor(t){super(),this.uid=te("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:o,resources:u,compatibleRenderers:h,groupMap:f}=t;this.gpuProgram=n,this.glProgram=r,h===void 0&&(h=0,n&&(h|=Lc.WEBGPU),r&&(h|=Lc.WEBGL)),this.compatibleRenderers=h;const m={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&f)for(const p in f)for(const g in f[p]){const _=f[p][g];m[_]={group:p,binding:g,name:_}}else if(n&&o&&!f){const p=n.structsAndGroups.groups;f={},p.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,m[g.name]=g})}else if(u){o={},f={},n&&n.structsAndGroups.groups.forEach(_=>{f[_.group]=f[_.group]||{},f[_.group][_.binding]=_.name,m[_.name]=_});let p=0;for(const g in u)m[g]||(o[99]||(o[99]=new Al,this._ownedBindGroups.push(o[99])),m[g]={group:99,binding:p,name:g},f[99]=f[99]||{},f[99][p]=g,p++);for(const g in u){const _=g;let v=u[g];!v.source&&!v._resourceType&&(v=new oy(v));const x=m[_];x&&(o[x.group]||(o[x.group]=new Al,this._ownedBindGroups.push(o[x.group])),o[x.group].setResource(v,x.binding))}}this.groups=o,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(o,m)}addResource(t,n,r){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[r]||(u[r]=t),this.groups[n]||(this.groups[n]=new Al,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const r={};for(const o in n){const u=n[o];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(h){t[u.group].setResource(h,u.binding)}})}return r}destroy(t=!1){var n,r;this.emit("destroy",this),t&&((n=this.gpuProgram)==null||n.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:r,...o}=t;let u,h;return n&&(u=Ds.from(n)),r&&(h=zl.from(r)),new Bl({gpuProgram:u,glProgram:h,...o})}}const mb={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},dc=0,mc=1,pc=2,gc=3,yc=4,_c=5,Nc=class uy{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<dc)}set blend(t){!!(this.data&1<<dc)!==t&&(this.data^=1<<dc)}get offsets(){return!!(this.data&1<<mc)}set offsets(t){!!(this.data&1<<mc)!==t&&(this.data^=1<<mc)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<pc)}set culling(t){!!(this.data&1<<pc)!==t&&(this.data^=1<<pc)}get depthTest(){return!!(this.data&1<<gc)}set depthTest(t){!!(this.data&1<<gc)!==t&&(this.data^=1<<gc)}get depthMask(){return!!(this.data&1<<_c)}set depthMask(t){!!(this.data&1<<_c)!==t&&(this.data^=1<<_c)}get clockwiseFrontFace(){return!!(this.data&1<<yc)}set clockwiseFrontFace(t){!!(this.data&1<<yc)!==t&&(this.data^=1<<yc)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=mb[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new uy;return t.depthTest=!1,t.blend=!0,t}};Nc.default2d=Nc.for2d();let pb=Nc;const cy=class Yc extends Bl{constructor(t){t={...Yc.defaultOptions,...t},super(t),this.enabled=!0,this._state=pb.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,n,r,o){t.applyFilter(this,n,r,o)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:n,gl:r,...o}=t;let u,h;return n&&(u=Ds.from(n)),r&&(h=zl.from(r)),new Yc({gpuProgram:u,glProgram:h,...o})}};cy.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let gb=cy;const Pc=[];pe.handleByNamedList(ot.Environment,Pc);async function yb(a){if(!a)for(let t=0;t<Pc.length;t++){const n=Pc[t];if(n.value.test()){await n.value.load();return}}}let Ga;function _b(){if(typeof Ga=="boolean")return Ga;try{Ga=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ga=!1}return Ga}var pl={exports:{}},Dp;function xb(){if(Dp)return pl.exports;Dp=1,pl.exports=a,pl.exports.default=a;function a(S,C,E){E=E||2;var H=C&&C.length,A=H?C[0]*E:S.length,z=t(S,0,A,E,!0),N=[];if(!z||z.next===z.prev)return N;var P,F,J,et,ht,it,mt;if(H&&(z=m(S,C,z,E)),S.length>80*E){P=J=S[0],F=et=S[1];for(var rt=E;rt<A;rt+=E)ht=S[rt],it=S[rt+1],ht<P&&(P=ht),it<F&&(F=it),ht>J&&(J=ht),it>et&&(et=it);mt=Math.max(J-P,et-F),mt=mt!==0?32767/mt:0}return r(z,N,E,P,F,mt,0),N}function t(S,C,E,H,A){var z,N;if(A===Ht(S,C,E,H)>0)for(z=C;z<E;z+=H)N=xt(z,S[z],S[z+1],N);else for(z=E-H;z>=C;z-=H)N=xt(z,S[z],S[z+1],N);return N&&j(N,N.next)&&(pt(N),N=N.next),N}function n(S,C){if(!S)return S;C||(C=S);var E=S,H;do if(H=!1,!E.steiner&&(j(E,E.next)||k(E.prev,E,E.next)===0)){if(pt(E),E=C=E.prev,E===E.next)break;H=!0}else E=E.next;while(H||E!==C);return C}function r(S,C,E,H,A,z,N){if(S){!N&&z&&x(S,H,A,z);for(var P=S,F,J;S.prev!==S.next;){if(F=S.prev,J=S.next,z?u(S,H,A,z):o(S)){C.push(F.i/E|0),C.push(S.i/E|0),C.push(J.i/E|0),pt(S),S=J.next,P=J.next;continue}if(S=J,S===P){N?N===1?(S=h(n(S),C,E),r(S,C,E,H,A,z,2)):N===2&&f(S,C,E,H,A,z):r(n(S),C,E,H,A,z,1);break}}}}function o(S){var C=S.prev,E=S,H=S.next;if(k(C,E,H)>=0)return!1;for(var A=C.x,z=E.x,N=H.x,P=C.y,F=E.y,J=H.y,et=A<z?A<N?A:N:z<N?z:N,ht=P<F?P<J?P:J:F<J?F:J,it=A>z?A>N?A:N:z>N?z:N,mt=P>F?P>J?P:J:F>J?F:J,rt=H.next;rt!==C;){if(rt.x>=et&&rt.x<=it&&rt.y>=ht&&rt.y<=mt&&D(A,P,z,F,N,J,rt.x,rt.y)&&k(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function u(S,C,E,H){var A=S.prev,z=S,N=S.next;if(k(A,z,N)>=0)return!1;for(var P=A.x,F=z.x,J=N.x,et=A.y,ht=z.y,it=N.y,mt=P<F?P<J?P:J:F<J?F:J,rt=et<ht?et<it?et:it:ht<it?ht:it,Wt=P>F?P>J?P:J:F>J?F:J,ie=et>ht?et>it?et:it:ht>it?ht:it,ne=R(mt,rt,C,E,H),xe=R(Wt,ie,C,E,H),dt=S.prevZ,yt=S.nextZ;dt&&dt.z>=ne&&yt&&yt.z<=xe;){if(dt.x>=mt&&dt.x<=Wt&&dt.y>=rt&&dt.y<=ie&&dt!==A&&dt!==N&&D(P,et,F,ht,J,it,dt.x,dt.y)&&k(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,yt.x>=mt&&yt.x<=Wt&&yt.y>=rt&&yt.y<=ie&&yt!==A&&yt!==N&&D(P,et,F,ht,J,it,yt.x,yt.y)&&k(yt.prev,yt,yt.next)>=0))return!1;yt=yt.nextZ}for(;dt&&dt.z>=ne;){if(dt.x>=mt&&dt.x<=Wt&&dt.y>=rt&&dt.y<=ie&&dt!==A&&dt!==N&&D(P,et,F,ht,J,it,dt.x,dt.y)&&k(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;yt&&yt.z<=xe;){if(yt.x>=mt&&yt.x<=Wt&&yt.y>=rt&&yt.y<=ie&&yt!==A&&yt!==N&&D(P,et,F,ht,J,it,yt.x,yt.y)&&k(yt.prev,yt,yt.next)>=0)return!1;yt=yt.nextZ}return!0}function h(S,C,E){var H=S;do{var A=H.prev,z=H.next.next;!j(A,z)&&Q(A,H,H.next,z)&&I(A,z)&&I(z,A)&&(C.push(A.i/E|0),C.push(H.i/E|0),C.push(z.i/E|0),pt(H),pt(H.next),H=S=z),H=H.next}while(H!==S);return n(H)}function f(S,C,E,H,A,z){var N=S;do{for(var P=N.next.next;P!==N.prev;){if(N.i!==P.i&&U(N,P)){var F=tt(N,P);N=n(N,N.next),F=n(F,F.next),r(N,C,E,H,A,z,0),r(F,C,E,H,A,z,0);return}P=P.next}N=N.next}while(N!==S)}function m(S,C,E,H){var A=[],z,N,P,F,J;for(z=0,N=C.length;z<N;z++)P=C[z]*H,F=z<N-1?C[z+1]*H:S.length,J=t(S,P,F,H,!1),J===J.next&&(J.steiner=!0),A.push(T(J));for(A.sort(p),z=0;z<A.length;z++)E=g(A[z],E);return E}function p(S,C){return S.x-C.x}function g(S,C){var E=_(S,C);if(!E)return C;var H=tt(E,S);return n(H,H.next),n(E,E.next)}function _(S,C){var E=C,H=S.x,A=S.y,z=-1/0,N;do{if(A<=E.y&&A>=E.next.y&&E.next.y!==E.y){var P=E.x+(A-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(P<=H&&P>z&&(z=P,N=E.x<E.next.x?E:E.next,P===H))return N}E=E.next}while(E!==C);if(!N)return null;var F=N,J=N.x,et=N.y,ht=1/0,it;E=N;do H>=E.x&&E.x>=J&&H!==E.x&&D(A<et?H:z,A,J,et,A<et?z:H,A,E.x,E.y)&&(it=Math.abs(A-E.y)/(H-E.x),I(E,S)&&(it<ht||it===ht&&(E.x>N.x||E.x===N.x&&v(N,E)))&&(N=E,ht=it)),E=E.next;while(E!==F);return N}function v(S,C){return k(S.prev,S,C.prev)<0&&k(C.next,S,S.next)<0}function x(S,C,E,H){var A=S;do A.z===0&&(A.z=R(A.x,A.y,C,E,H)),A.prevZ=A.prev,A.nextZ=A.next,A=A.next;while(A!==S);A.prevZ.nextZ=null,A.prevZ=null,w(A)}function w(S){var C,E,H,A,z,N,P,F,J=1;do{for(E=S,S=null,z=null,N=0;E;){for(N++,H=E,P=0,C=0;C<J&&(P++,H=H.nextZ,!!H);C++);for(F=J;P>0||F>0&&H;)P!==0&&(F===0||!H||E.z<=H.z)?(A=E,E=E.nextZ,P--):(A=H,H=H.nextZ,F--),z?z.nextZ=A:S=A,A.prevZ=z,z=A;E=H}z.nextZ=null,J*=2}while(N>1);return S}function R(S,C,E,H,A){return S=(S-E)*A|0,C=(C-H)*A|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,S|C<<1}function T(S){var C=S,E=S;do(C.x<E.x||C.x===E.x&&C.y<E.y)&&(E=C),C=C.next;while(C!==S);return E}function D(S,C,E,H,A,z,N,P){return(A-N)*(C-P)>=(S-N)*(z-P)&&(S-N)*(H-P)>=(E-N)*(C-P)&&(E-N)*(z-P)>=(A-N)*(H-P)}function U(S,C){return S.next.i!==C.i&&S.prev.i!==C.i&&!ut(S,C)&&(I(S,C)&&I(C,S)&&$(S,C)&&(k(S.prev,S,C.prev)||k(S,C.prev,C))||j(S,C)&&k(S.prev,S,S.next)>0&&k(C.prev,C,C.next)>0)}function k(S,C,E){return(C.y-S.y)*(E.x-C.x)-(C.x-S.x)*(E.y-C.y)}function j(S,C){return S.x===C.x&&S.y===C.y}function Q(S,C,E,H){var A=W(k(S,C,E)),z=W(k(S,C,H)),N=W(k(E,H,S)),P=W(k(E,H,C));return!!(A!==z&&N!==P||A===0&&q(S,E,C)||z===0&&q(S,H,C)||N===0&&q(E,S,H)||P===0&&q(E,C,H))}function q(S,C,E){return C.x<=Math.max(S.x,E.x)&&C.x>=Math.min(S.x,E.x)&&C.y<=Math.max(S.y,E.y)&&C.y>=Math.min(S.y,E.y)}function W(S){return S>0?1:S<0?-1:0}function ut(S,C){var E=S;do{if(E.i!==S.i&&E.next.i!==S.i&&E.i!==C.i&&E.next.i!==C.i&&Q(E,E.next,S,C))return!0;E=E.next}while(E!==S);return!1}function I(S,C){return k(S.prev,S,S.next)<0?k(S,C,S.next)>=0&&k(S,S.prev,C)>=0:k(S,C,S.prev)<0||k(S,S.next,C)<0}function $(S,C){var E=S,H=!1,A=(S.x+C.x)/2,z=(S.y+C.y)/2;do E.y>z!=E.next.y>z&&E.next.y!==E.y&&A<(E.next.x-E.x)*(z-E.y)/(E.next.y-E.y)+E.x&&(H=!H),E=E.next;while(E!==S);return H}function tt(S,C){var E=new zt(S.i,S.x,S.y),H=new zt(C.i,C.x,C.y),A=S.next,z=C.prev;return S.next=C,C.prev=S,E.next=A,A.prev=E,H.next=E,E.prev=H,z.next=H,H.prev=z,H}function xt(S,C,E,H){var A=new zt(S,C,E);return H?(A.next=H.next,A.prev=H,H.next.prev=A,H.next=A):(A.prev=A,A.next=A),A}function pt(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function zt(S,C,E){this.i=S,this.x=C,this.y=E,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}a.deviation=function(S,C,E,H){var A=C&&C.length,z=A?C[0]*E:S.length,N=Math.abs(Ht(S,0,z,E));if(A)for(var P=0,F=C.length;P<F;P++){var J=C[P]*E,et=P<F-1?C[P+1]*E:S.length;N-=Math.abs(Ht(S,J,et,E))}var ht=0;for(P=0;P<H.length;P+=3){var it=H[P]*E,mt=H[P+1]*E,rt=H[P+2]*E;ht+=Math.abs((S[it]-S[rt])*(S[mt+1]-S[it+1])-(S[it]-S[mt])*(S[rt+1]-S[it+1]))}return N===0&&ht===0?0:Math.abs((ht-N)/N)};function Ht(S,C,E,H){for(var A=0,z=C,N=E-H;z<E;z+=H)A+=(S[N]-S[z])*(S[z+1]+S[N+1]),N=z;return A}return a.flatten=function(S){for(var C=S[0][0].length,E={vertices:[],holes:[],dimensions:C},H=0,A=0;A<S.length;A++){for(var z=0;z<S[A].length;z++)for(var N=0;N<C;N++)E.vertices.push(S[A][z][N]);A>0&&(H+=S[A-1].length,E.holes.push(H))}return E},pl.exports}var vb=xb();const bb=Kc(vb);var hy=(a=>(a[a.NONE=0]="NONE",a[a.COLOR=16384]="COLOR",a[a.STENCIL=1024]="STENCIL",a[a.DEPTH=256]="DEPTH",a[a.COLOR_DEPTH=16640]="COLOR_DEPTH",a[a.COLOR_STENCIL=17408]="COLOR_STENCIL",a[a.DEPTH_STENCIL=1280]="DEPTH_STENCIL",a[a.ALL=17664]="ALL",a))(hy||{});class Sb{constructor(t){this.items=[],this._name=t}emit(t,n,r,o,u,h,f,m){const{name:p,items:g}=this;for(let _=0,v=g.length;_<v;_++)g[_][p](t,n,r,o,u,h,f,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Ab=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],fy=class dy extends ai{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...Ab,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await yb(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...dy.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,n){let r=t;if(r instanceof Yn&&(r={container:r},n&&(Ct(Dt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:ee.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,n,r){const o=this.view.resolution;this.view.resize(t,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=hy.ALL);const{clear:r,clearColor:o,target:u}=t;ee.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,r,ee.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new Sb(n)})}_addSystems(t){let n;for(n in t){const r=t[n];this._addSystem(r.value,r.name)}}_addSystem(t,n){const r=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(t,n){const r=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,h=o.name,f=r[h];this.renderPipes[h]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!_b())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};fy.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let my=fy,gl;function Tb(a){return gl!==void 0||(gl=(()=>{var n;const t={stencil:!0,failIfMajorPerformanceCaveat:a??my.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Qt.get().getWebGLRenderingContext())return!1;let o=Qt.get().createCanvas().getContext("webgl",t);const u=!!((n=o==null?void 0:o.getContextAttributes())!=null&&n.stencil);if(o){const h=o.getExtension("WEBGL_lose_context");h&&h.loseContext()}return o=null,u}catch{return!1}})()),gl}let yl;async function wb(a={}){return yl!==void 0||(yl=await(async()=>{const t=Qt.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(a)).requestDevice(),!0}catch{return!1}})()),yl}const Up=["webgl","webgpu","canvas"];async function Mb(a){let t=[];a.preference?(t.push(a.preference),Up.forEach(u=>{u!==a.preference&&t.push(u)})):t=Up.slice();let n,r={};for(let u=0;u<t.length;u++){const h=t[u];if(h==="webgpu"&&await wb()){const{WebGPURenderer:f}=await wl(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-lgVW96Gs.js");return{WebGPURenderer:m}},__vite__mapDeps([3,2,4]));n=f,r={...a,...a.webgpu};break}else if(h==="webgl"&&Tb(a.failIfMajorPerformanceCaveat??my.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await wl(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-C9SeyyJg.js");return{WebGLRenderer:m}},__vite__mapDeps([5,2,4]));n=f,r={...a,...a.webgl};break}else if(h==="canvas")throw r={...a},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const o=new n;return await o.init(r),o}const py="8.8.1";class gy{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,py)}static destroy(){}}gy.extension=ot.Application;class Cb{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,py)}destroy(){this._renderer=null}}Cb.extension={type:[ot.WebGLSystem,ot.WebGPUSystem],name:"initHook",priority:-10};const yy=class jc{constructor(...t){this.stage=new Yn,t[0]!==void 0&&Ct(Dt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await Mb(t),jc._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Ct(Dt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const r=jc._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};yy._plugins=[];let ih=yy;pe.handleByList(ot.Application,ih._plugins);pe.add(gy);class _y extends ai{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Ct(Dt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Ct(Dt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Ct(Dt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Ct(Dt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Ct(Dt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){var n;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(n=this.chars[r].texture)==null||n.destroy();this.chars=null,t&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const Gp=[{offset:0,color:"white"},{offset:1,color:"black"}],nh=class Xc{constructor(...t){this.uid=te("fillGradient"),this.type="linear",this.colorStops=[];let n=Eb(t);n={...n.type==="radial"?Xc.defaultRadialOptions:Xc.defaultLinearOptions,...Cg(n)},this._textureSize=n.textureSize,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:ee.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Gp,n=this._textureSize,{canvas:r,context:o}=Hp(n,1),u=o.createLinearGradient(0,0,this._textureSize,0);kp(u,t),o.fillStyle=u,o.fillRect(0,0,n,1),this.texture=new wt({source:new Nn({resource:r})});const{x:h,y:f}=this.start,{x:m,y:p}=this.end,g=new At,_=m-h,v=p-f,x=Math.sqrt(_*_+v*v),w=Math.atan2(v,_);g.scale(x/n,1),g.rotate(w),g.translate(h,f),this.textureSpace==="local"&&g.scale(n,n),this.transform=g}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Gp,n=this._textureSize,{canvas:r,context:o}=Hp(n,n),{x:u,y:h}=this.center,{x:f,y:m}=this.outerCenter,p=this.innerRadius,g=this.outerRadius,_=f-g,v=m-g,x=n/(g*2),w=(u-_)*x,R=(h-v)*x,T=o.createRadialGradient(w,R,p*x,(f-_)*x,(m-v)*x,g*x);kp(T,t),o.fillStyle=t[t.length-1].color,o.fillRect(0,0,n,n),o.fillStyle=T,o.translate(w,R),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-w,-R),o.fillRect(0,0,n,n),this.texture=new wt({source:new Nn({resource:r,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const D=new At;D.scale(1/x,1/x),D.translate(_,v),this.textureSpace==="local"&&D.scale(n,n),this.transform=D}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null}};nh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};nh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let ki=nh;function kp(a,t){for(let n=0;n<t.length;n++){const r=t[n];a.addColorStop(r.offset,r.color)}}function Hp(a,t){const n=Qt.get().createCanvas(a,t),r=n.getContext("2d");return{canvas:n,context:r}}function Eb(a){let t=a[0]??{};return(typeof t=="number"||a[1])&&(Ct("8.5.2","use options object instead"),t={type:"linear",start:{x:a[0],y:a[1]},end:{x:a[2],y:a[3]},textureSpace:a[4],textureSize:a[5]??ki.defaultLinearOptions.textureSize}),t}const Lp={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Ol{constructor(t,n){this.uid=te("fillPattern"),this.transform=new At,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Lp[n].addressModeU,t.source.style.addressModeV=Lp[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var xc,Np;function Rb(){if(Np)return xc;Np=1,xc=n;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var h=[];return u.replace(t,function(f,m,p){var g=m.toLowerCase();for(p=o(p),g=="m"&&p.length>2&&(h.push([m].concat(p.splice(0,2))),g="l",m=m=="m"?"l":"L");;){if(p.length==a[g])return p.unshift(m),h.push(p);if(p.length<a[g])throw new Error("malformed path data");h.push([m].concat(p.splice(0,a[g])))}}),h}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var h=u.match(r);return h?h.map(Number):[]}return xc}var zb=Rb();const Bb=Kc(zb);function Ob(a,t){const n=Bb(a),r=[];let o=null,u=0,h=0;for(let f=0;f<n.length;f++){const m=n[f],p=m[0],g=m;switch(p){case"M":u=g[1],h=g[2],t.moveTo(u,h);break;case"m":u+=g[1],h+=g[2],t.moveTo(u,h);break;case"H":u=g[1],t.lineTo(u,h);break;case"h":u+=g[1],t.lineTo(u,h);break;case"V":h=g[1],t.lineTo(u,h);break;case"v":h+=g[1],t.lineTo(u,h);break;case"L":u=g[1],h=g[2],t.lineTo(u,h);break;case"l":u+=g[1],h+=g[2],t.lineTo(u,h);break;case"C":u=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,h);break;case"c":t.bezierCurveTo(u+g[1],h+g[2],u+g[3],h+g[4],u+g[5],h+g[6]),u+=g[5],h+=g[6];break;case"S":u=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],u,h);break;case"s":t.bezierCurveToShort(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"Q":u=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],u,h);break;case"q":t.quadraticCurveTo(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"T":u=g[1],h=g[2],t.quadraticCurveToShort(u,h);break;case"t":u+=g[1],h+=g[2],t.quadraticCurveToShort(u,h);break;case"A":u=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"a":u+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"Z":case"z":t.closePath(),r.length>0&&(o=r.pop(),o?(u=o.startX,h=o.startY):(u=0,h=0)),o=null;break;default:Pt(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&o===null&&(o={startX:u,startY:h},r.push(o))}return t}class sh{constructor(t=0,n=0,r=0){this.type="circle",this.x=t,this.y=n,this.radius=r}clone(){return new sh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=r}strokeContains(t,n,r,o=.5){if(this.radius===0)return!1;const u=this.x-t,h=this.y-n,f=this.radius,m=(1-o)*r,p=Math.sqrt(u*u+h*h);return p<=f+m&&p>f-(r-m)}getBounds(t){return t||(t=new Jt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ah{constructor(t=0,n=0,r=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=r,this.halfHeight=o}clone(){return new ah(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(t,n,r,o=.5){const{halfWidth:u,halfHeight:h}=this;if(u<=0||h<=0)return!1;const f=r*(1-o),m=r-f,p=u-m,g=h-m,_=u+f,v=h+f,x=t-this.x,w=n-this.y,R=x*x/(p*p)+w*w/(g*g),T=x*x/(_*_)+w*w/(v*v);return R>1&&T<=1}getBounds(t){return t||(t=new Jt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Db(a,t,n,r,o,u){const h=a-n,f=t-r,m=o-n,p=u-r,g=h*m+f*p,_=m*m+p*p;let v=-1;_!==0&&(v=g/_);let x,w;v<0?(x=n,w=r):v>1?(x=o,w=u):(x=n+v*m,w=r+v*p);const R=a-x,T=t-w;return R*R+T*T}let Ub,Gb;class Xa{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const r=[];for(let o=0,u=n.length;o<u;o++)r.push(n[o].x,n[o].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,r=n.length;for(let o=0;o<r;o+=2){const u=n[o],h=n[o+1],f=n[(o+2)%r],m=n[(o+3)%r];t+=(f-u)*(m+h)}return t<0}containsPolygon(t){const n=this.getBounds(Ub),r=t.getBounds(Gb);if(!n.containsRect(r))return!1;const o=t.points;for(let u=0;u<o.length;u+=2){const h=o[u],f=o[u+1];if(!this.contains(h,f))return!1}return!0}clone(){const t=this.points.slice(),n=new Xa(t);return n.closePath=this.closePath,n}contains(t,n){let r=!1;const o=this.points.length/2;for(let u=0,h=o-1;u<o;h=u++){const f=this.points[u*2],m=this.points[u*2+1],p=this.points[h*2],g=this.points[h*2+1];m>n!=g>n&&t<(p-f)*((n-m)/(g-m))+f&&(r=!r)}return r}strokeContains(t,n,r,o=.5){const u=r*r,h=u*(1-o),f=u-h,{points:m}=this,p=m.length-(this.closePath?0:2);for(let g=0;g<p;g+=2){const _=m[g],v=m[g+1],x=m[(g+2)%m.length],w=m[(g+3)%m.length],R=Db(t,n,_,v,x,w),T=Math.sign((x-_)*(n-v)-(w-v)*(t-_));if(R<=(T<0?f:h))return!0}return!1}getBounds(t){t||(t=new Jt);const n=this.points;let r=1/0,o=-1/0,u=1/0,h=-1/0;for(let f=0,m=n.length;f<m;f+=2){const p=n[f],g=n[f+1];r=p<r?p:r,o=p>o?p:o,u=g<u?g:u,h=g>h?g:h}return t.x=r,t.width=o-r,t.y=u,t.height=h-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const _l=(a,t,n,r,o,u,h)=>{const f=a-n,m=t-r,p=Math.sqrt(f*f+m*m);return p>=o-u&&p<=o+h};class rh{constructor(t=0,n=0,r=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=r,this.height=o,this.radius=u}getBounds(t){return t||(t=new Jt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new rh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let o=t-(this.x+r),u=n-(this.y+r);const h=r*r;if(o*o+u*u<=h||(o=t-(this.x+this.width-r),o*o+u*u<=h)||(u=n-(this.y+this.height-r),o*o+u*u<=h)||(o=t-(this.x+r),o*o+u*u<=h))return!0}return!1}strokeContains(t,n,r,o=.5){const{x:u,y:h,width:f,height:m,radius:p}=this,g=r*(1-o),_=r-g,v=u+p,x=h+p,w=f-p*2,R=m-p*2,T=u+f,D=h+m;return(t>=u-g&&t<=u+_||t>=T-_&&t<=T+g)&&n>=x&&n<=x+R||(n>=h-g&&n<=h+_||n>=D-_&&n<=D+g)&&t>=v&&t<=v+w?!0:t<v&&n<x&&_l(t,n,v,x,p,_,g)||t>T-p&&n<x&&_l(t,n,T-p,x,p,_,g)||t>T-p&&n>D-p&&_l(t,n,T-p,D-p,p,_,g)||t<v&&n>D-p&&_l(t,n,v,D-p,p,_,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const kb=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Hb(a){let t="";for(let n=0;n<a;++n)n>0&&(t+=`
else `),n<a-1&&(t+=`if(test == ${n}.0){}`);return t}function Lb(a,t){if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=kb.replace(/%forloop%/gi,Hb(a));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))a=a/2|0;else break}}finally{t.deleteShader(n)}return a}let ws=null;function xy(){var t;if(ws)return ws;const a=ny();return ws=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),ws=Lb(ws,a),(t=a.getExtension("WEBGL_lose_context"))==null||t.loseContext(),ws}const vy={};function Nb(a,t){let n=2166136261;for(let r=0;r<t;r++)n^=a[r].uid,n=Math.imul(n,16777619),n>>>=0;return vy[n]||Yb(a,t,n)}let vc=0;function Yb(a,t,n){const r={};let o=0;vc||(vc=xy());for(let h=0;h<vc;h++){const f=h<t?a[h]:wt.EMPTY.source;r[o++]=f.source,r[o++]=f.style}const u=new Al(r);return vy[n]=u,u}class Yp{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Pp(a,t){const n=a.byteLength/8|0,r=new Float64Array(a,0,n);new Float64Array(t,0,n).set(r);const u=a.byteLength-n*8;if(u>0){const h=new Uint8Array(a,n*8,u);new Uint8Array(t,n*8,u).set(h)}}const Pb={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var jb=(a=>(a[a.DISABLED=0]="DISABLED",a[a.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",a[a.MASK_ACTIVE=2]="MASK_ACTIVE",a[a.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",a[a.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",a[a.NONE=5]="NONE",a))(jb||{});function jp(a,t){return t.alphaMode==="no-premultiply-alpha"&&Pb[a]||a}class Xb{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class Vb{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Xb,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const by=[];let Vc=0;function Xp(){return Vc>0?by[--Vc]:new Vb}function Vp(a){by[Vc++]=a}let ka=0;const Sy=class Tl{constructor(t={}){this.uid=te("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Tl.defaultOptions.maxTextures=Tl.defaultOptions.maxTextures??xy(),t={...Tl.defaultOptions,...t};const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=t;this.attributeBuffer=new Yp(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Vp(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const r=t._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let r=Xp(),o=r.textures;o.clear();const u=n[this.elementStart];let h=jp(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,g=this.indexBuffer;let _=this._batchIndexSize,v=this._batchIndexStart,x="startBatch";const w=this.maxTextures;for(let R=this.elementStart;R<this.elementSize;++R){const T=n[R];n[R]=null;const U=T.texture._source,k=jp(T.blendMode,U),j=h!==k||f!==T.topology;if(U._batchTick===ka&&!j){T._textureId=U._textureBindLocation,_+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,m,p,T._attributeStart,T._textureId),this.packQuadIndex(g,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,m,p,T._attributeStart,T._textureId),this.packIndex(T,g,T._indexStart,T._attributeStart/this.vertexSize)),T._batch=r;continue}U._batchTick=ka,(o.count>=w||j)&&(this._finishBatch(r,v,_-v,o,h,f,t,x),x="renderBatch",v=_,h=k,f=T.topology,r=Xp(),o=r.textures,o.clear(),++ka),T._textureId=U._textureBindLocation=o.count,o.ids[U.uid]=o.count,o.textures[o.count++]=U,T._batch=r,_+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,m,p,T._attributeStart,T._textureId),this.packQuadIndex(g,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,m,p,T._attributeStart,T._textureId),this.packIndex(T,g,T._indexStart,T._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,v,_-v,o,h,f,t,x),v=_,++ka),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=_}_finishBatch(t,n,r,o,u,h,f,m){t.gpuBindGroup=null,t.bindGroup=null,t.action=m,t.batcher=this,t.textures=o,t.blendMode=u,t.topology=h,t.start=n,t.size=r,++ka,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),r=new Yp(n);Pp(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const n=this.indexBuffer;let r=Math.max(t,n.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else Pp(n.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(t,n,r){t[n]=r+0,t[n+1]=r+1,t[n+2]=r+2,t[n+3]=r+0,t[n+4]=r+2,t[n+5]=r+3}packIndex(t,n,r,o){const u=t.indices,h=t.indexSize,f=t.indexOffset,m=t.attributeOffset;for(let p=0;p<h;p++)n[r++]=o+u[p+f]-m}destroy(){for(let t=0;t<this.batches.length;t++)Vp(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Sy.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Fb=Sy;var Me=(a=>(a[a.MAP_READ=1]="MAP_READ",a[a.MAP_WRITE=2]="MAP_WRITE",a[a.COPY_SRC=4]="COPY_SRC",a[a.COPY_DST=8]="COPY_DST",a[a.INDEX=16]="INDEX",a[a.VERTEX=32]="VERTEX",a[a.UNIFORM=64]="UNIFORM",a[a.STORAGE=128]="STORAGE",a[a.INDIRECT=256]="INDIRECT",a[a.QUERY_RESOLVE=512]="QUERY_RESOLVE",a[a.STATIC=1024]="STATIC",a))(Me||{});class Fa extends ai{constructor(t){let{data:n,size:r}=t;const{usage:o,label:u,shrinkToFit:h}=t;super(),this.uid=te("buffer"),this._resourceType="buffer",this._resourceId=te("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n==null?void 0:n.byteLength);const f=!!n;this.descriptor={size:r,usage:o,mappedAtCreation:f,label:u},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Me.STATIC)}set static(t){t?this.descriptor.usage|=Me.STATIC:this.descriptor.usage&=~Me.STATIC}setDataWithSize(t,n,r){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const o=this._data;if(this._data=t,this._dataInt32=null,!o||o.length!==t.length){!this.shrinkToFit&&o&&t.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=te("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Ay(a,t){if(!(a instanceof Fa)){let n=t?Me.INDEX:Me.VERTEX;a instanceof Array&&(t?(a=new Uint32Array(a),n=Me.INDEX|Me.COPY_DST):(a=new Float32Array(a),n=Me.VERTEX|Me.COPY_DST)),a=new Fa({data:a,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return a}function qb(a,t,n){const r=a.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=r.buffer.data;let u=1/0,h=1/0,f=-1/0,m=-1/0;const p=o.BYTES_PER_ELEMENT,g=(r.offset||0)/p,_=(r.stride||2*4)/p;for(let v=g;v<o.length;v+=_){const x=o[v],w=o[v+1];x>f&&(f=x),w>m&&(m=w),x<u&&(u=x),w<h&&(h=w)}return n.minX=u,n.minY=h,n.maxX=f,n.maxY=m,n}function Qb(a){return(a instanceof Fa||Array.isArray(a)||a.BYTES_PER_ELEMENT)&&(a={buffer:a}),a.buffer=Ay(a.buffer,!1),a}class Zb extends ai{constructor(t={}){super(),this.uid=te("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new si,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:o}=t;if(this.buffers=[],this.attributes={},n)for(const u in n)this.addAttribute(u,n[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const r=Qb(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=Ay(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,qb(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Wb=new Float32Array(1),Kb=new Uint32Array(1);class Ib extends Zb{constructor(){const n=new Fa({data:Wb,label:"attribute-batch-buffer",usage:Me.VERTEX|Me.COPY_DST,shrinkToFit:!1}),r=new Fa({data:Kb,label:"index-batch-buffer",usage:Me.INDEX|Me.COPY_DST,shrinkToFit:!1}),o=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0},aUV:{buffer:n,format:"float32x2",stride:o,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:5*4}},indexBuffer:r})}}function Fp(a,t,n){if(a)for(const r in a){const o=r.toLocaleLowerCase(),u=t[o];if(u){let h=a[r];r==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&u.push(`//----${n}----//`),u.push(h)}else Pt(`${r} placement hook does not exist in shader`)}}const $b=/\{\{(.*?)\}\}/g;function qp(a){var r;const t={};return(((r=a.match($b))==null?void 0:r.map(o=>o.replace(/[{()}]/g,"")))??[]).forEach(o=>{t[o]=[]}),t}function Qp(a,t){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function Zp(a,t,n=!1){const r=[];Qp(t,r),a.forEach(f=>{f.header&&Qp(f.header,r)});const o=r;n&&o.sort();const u=o.map((f,m)=>`       @location(${m}) ${f},`).join(`
`);let h=t.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${u}
`),h}function Wp(a,t){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function Jb(a){const n=/\b(\w+)\s*:/g.exec(a);return n?n[1]:""}function t1(a){const t=/@.*?\s+/g;return a.replace(t,"")}function e1(a,t){const n=[];Wp(t,n),a.forEach(m=>{m.header&&Wp(m.header,n)});let r=0;const o=n.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${r++}) ${m}`).join(`,
`),u=n.sort().map(m=>`       var ${t1(m)};`).join(`
`),h=`return VSOutput(
            ${n.sort().map(m=>` ${Jb(m)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${o}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${h}
`),f}function Kp(a,t){let n=a;for(const r in t){const o=t[r];o.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const ln=Object.create(null),bc=new Map;let i1=0;function n1({template:a,bits:t}){const n=Ty(a,t);if(ln[n])return ln[n];const{vertex:r,fragment:o}=a1(a,t);return ln[n]=wy(r,o,t),ln[n]}function s1({template:a,bits:t}){const n=Ty(a,t);return ln[n]||(ln[n]=wy(a.vertex,a.fragment,t)),ln[n]}function a1(a,t){const n=t.map(h=>h.vertex).filter(h=>!!h),r=t.map(h=>h.fragment).filter(h=>!!h);let o=Zp(n,a.vertex,!0);o=e1(n,o);const u=Zp(r,a.fragment,!0);return{vertex:o,fragment:u}}function Ty(a,t){return t.map(n=>(bc.has(n)||bc.set(n,i1++),bc.get(n))).sort((n,r)=>n-r).join("-")+a.vertex+a.fragment}function wy(a,t,n){const r=qp(a),o=qp(t);return n.forEach(u=>{Fp(u.vertex,r,u.name),Fp(u.fragment,o,u.name)}),{vertex:Kp(a,r),fragment:Kp(t,o)}}const r1=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,l1=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,o1=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,u1=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,c1={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},h1={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function f1({bits:a,name:t}){const n=n1({template:{fragment:l1,vertex:r1},bits:[c1,...a]});return Ds.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function d1({bits:a,name:t}){return new zl({name:t,...s1({template:{vertex:o1,fragment:u1},bits:[h1,...a]})})}const m1={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},p1={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Sc={};function g1(a){const t=[];if(a===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<a;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function y1(a){const t=[];if(a===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<a;n++)n===a-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function _1(a){return Sc[a]||(Sc[a]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${g1(a)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${y1(a)}
            `}}),Sc[a]}const Ac={};function x1(a){const t=[];for(let n=0;n<a;n++)n>0&&t.push("else"),n<a-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function v1(a){return Ac[a]||(Ac[a]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${a}];

            `,main:`

                ${x1(a)}
            `}}),Ac[a]}const b1={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},S1={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ip={};function A1(a){let t=Ip[a];if(t)return t;const n=new Int32Array(a);for(let r=0;r<a;r++)n[r]=r;return t=Ip[a]=new oy({uTextures:{value:n,type:"i32",size:a}},{isStatic:!0}),t}class T1 extends Bl{constructor(t){const n=d1({name:"batch",bits:[p1,v1(t),S1]}),r=f1({name:"batch",bits:[m1,_1(t),b1]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:A1(t)}})}}let $p=null;const My=class Cy extends Fb{constructor(){super(...arguments),this.geometry=new Ib,this.shader=$p||($p=new T1(this.maxTextures)),this.name=Cy.extension.name,this.vertexSize=6}packAttributes(t,n,r,o,u){const h=u<<16|t.roundPixels&65535,f=t.transform,m=f.a,p=f.b,g=f.c,_=f.d,v=f.tx,x=f.ty,{positions:w,uvs:R}=t,T=t.color,D=t.attributeOffset,U=D+t.attributeSize;for(let k=D;k<U;k++){const j=k*2,Q=w[j],q=w[j+1];n[o++]=m*Q+g*q+v,n[o++]=_*q+p*Q+x,n[o++]=R[j],n[o++]=R[j+1],r[o++]=T,r[o++]=h}}packQuadAttributes(t,n,r,o,u){const h=t.texture,f=t.transform,m=f.a,p=f.b,g=f.c,_=f.d,v=f.tx,x=f.ty,w=t.bounds,R=w.maxX,T=w.minX,D=w.maxY,U=w.minY,k=h.uvs,j=t.color,Q=u<<16|t.roundPixels&65535;n[o+0]=m*T+g*U+v,n[o+1]=_*U+p*T+x,n[o+2]=k.x0,n[o+3]=k.y0,r[o+4]=j,r[o+5]=Q,n[o+6]=m*R+g*U+v,n[o+7]=_*U+p*R+x,n[o+8]=k.x1,n[o+9]=k.y1,r[o+10]=j,r[o+11]=Q,n[o+12]=m*R+g*D+v,n[o+13]=_*D+p*R+x,n[o+14]=k.x2,n[o+15]=k.y2,r[o+16]=j,r[o+17]=Q,n[o+18]=m*T+g*D+v,n[o+19]=_*D+p*T+x,n[o+20]=k.x3,n[o+21]=k.y3,r[o+22]=j,r[o+23]=Q}};My.extension={type:[ot.Batcher],name:"default"};let w1=My;function M1(a,t,n,r,o,u,h,f=null){let m=0;n*=t,o*=u;const p=f.a,g=f.b,_=f.c,v=f.d,x=f.tx,w=f.ty;for(;m<h;){const R=a[n],T=a[n+1];r[o]=p*R+_*T+x,r[o+1]=g*R+v*T+w,o+=u,n+=t,m++}}function C1(a,t,n,r){let o=0;for(t*=n;o<r;)a[t]=0,a[t+1]=0,t+=n,o++}function Ey(a,t,n,r,o){const u=t.a,h=t.b,f=t.c,m=t.d,p=t.tx,g=t.ty;n||(n=0),r||(r=2),o||(o=a.length/r-n);let _=n*r;for(let v=0;v<o;v++){const x=a[_],w=a[_+1];a[_]=u*x+f*w+p,a[_+1]=h*x+m*w+g,_+=r}}const E1=new At;class Ry{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?Hg(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||E1}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const qa={extension:{type:ot.ShapeBuilder,name:"circle"},build(a,t){let n,r,o,u,h,f;if(a.type==="circle"){const j=a;n=j.x,r=j.y,h=f=j.radius,o=u=0}else if(a.type==="ellipse"){const j=a;n=j.x,r=j.y,h=j.halfWidth,f=j.halfHeight,o=u=0}else{const j=a,Q=j.width/2,q=j.height/2;n=j.x+Q,r=j.y+q,h=f=Math.max(0,Math.min(j.radius,Math.min(Q,q))),o=Q-h,u=q-f}if(!(h>=0&&f>=0&&o>=0&&u>=0))return t;const m=Math.ceil(2.3*Math.sqrt(h+f)),p=m*8+(o?4:0)+(u?4:0);if(p===0)return t;if(m===0)return t[0]=t[6]=n+o,t[1]=t[3]=r+u,t[2]=t[4]=n-o,t[5]=t[7]=r-u,t;let g=0,_=m*4+(o?2:0)+2,v=_,x=p,w=o+h,R=u,T=n+w,D=n-w,U=r+R;if(t[g++]=T,t[g++]=U,t[--_]=U,t[--_]=D,u){const j=r-R;t[v++]=D,t[v++]=j,t[--x]=j,t[--x]=T}for(let j=1;j<m;j++){const Q=Math.PI/2*(j/m),q=o+Math.cos(Q)*h,W=u+Math.sin(Q)*f,ut=n+q,I=n-q,$=r+W,tt=r-W;t[g++]=ut,t[g++]=$,t[--_]=$,t[--_]=I,t[v++]=I,t[v++]=tt,t[--x]=tt,t[--x]=ut}w=o,R=u+f,T=n+w,D=n-w,U=r+R;const k=r-R;return t[g++]=T,t[g++]=U,t[--x]=k,t[--x]=T,o&&(t[g++]=D,t[g++]=U,t[--x]=k,t[--x]=D),t},triangulate(a,t,n,r,o,u){if(a.length===0)return;let h=0,f=0;for(let g=0;g<a.length;g+=2)h+=a[g],f+=a[g+1];h/=a.length/2,f/=a.length/2;let m=r;t[m*n]=h,t[m*n+1]=f;const p=m++;for(let g=0;g<a.length;g+=2)t[m*n]=a[g],t[m*n+1]=a[g+1],g>0&&(o[u++]=m,o[u++]=p,o[u++]=m-1),m++;o[u++]=p+1,o[u++]=p,o[u++]=m-1}},R1={...qa,extension:{...qa.extension,name:"ellipse"}},z1={...qa,extension:{...qa.extension,name:"roundedRectangle"}},zy=1e-4,Jp=1e-4;function B1(a){const t=a.length;if(t<6)return 1;let n=0;for(let r=0,o=a[t-2],u=a[t-1];r<t;r+=2){const h=a[r],f=a[r+1];n+=(h-o)*(f+u),o=h,u=f}return n<0?-1:1}function tg(a,t,n,r,o,u,h,f){const m=a-n*o,p=t-r*o,g=a+n*u,_=t+r*u;let v,x;h?(v=r,x=-n):(v=-r,x=n);const w=m+v,R=p+x,T=g+v,D=_+x;return f.push(w,R),f.push(T,D),2}function Bn(a,t,n,r,o,u,h,f){const m=n-a,p=r-t;let g=Math.atan2(m,p),_=Math.atan2(o-a,u-t);f&&g<_?g+=Math.PI*2:!f&&g>_&&(_+=Math.PI*2);let v=g;const x=_-g,w=Math.abs(x),R=Math.sqrt(m*m+p*p),T=(15*w*Math.sqrt(R)/Math.PI>>0)+1,D=x/T;if(v+=D,f){h.push(a,t),h.push(n,r);for(let U=1,k=v;U<T;U++,k+=D)h.push(a,t),h.push(a+Math.sin(k)*R,t+Math.cos(k)*R);h.push(a,t),h.push(o,u)}else{h.push(n,r),h.push(a,t);for(let U=1,k=v;U<T;U++,k+=D)h.push(a+Math.sin(k)*R,t+Math.cos(k)*R),h.push(a,t);h.push(o,u),h.push(a,t)}return T*2}function O1(a,t,n,r,o,u){const h=zy;if(a.length===0)return;const f=t;let m=f.alignment;if(t.alignment!==.5){let H=B1(a);m=(m-.5)*H+.5}const p=new me(a[0],a[1]),g=new me(a[a.length-2],a[a.length-1]),_=r,v=Math.abs(p.x-g.x)<h&&Math.abs(p.y-g.y)<h;if(_){a=a.slice(),v&&(a.pop(),a.pop(),g.set(a[a.length-2],a[a.length-1]));const H=(p.x+g.x)*.5,A=(g.y+p.y)*.5;a.unshift(H,A),a.push(H,A)}const x=o,w=a.length/2;let R=a.length;const T=x.length/2,D=f.width/2,U=D*D,k=f.miterLimit*f.miterLimit;let j=a[0],Q=a[1],q=a[2],W=a[3],ut=0,I=0,$=-(Q-W),tt=j-q,xt=0,pt=0,zt=Math.sqrt($*$+tt*tt);$/=zt,tt/=zt,$*=D,tt*=D;const Ht=m,S=(1-Ht)*2,C=Ht*2;_||(f.cap==="round"?R+=Bn(j-$*(S-C)*.5,Q-tt*(S-C)*.5,j-$*S,Q-tt*S,j+$*C,Q+tt*C,x,!0)+2:f.cap==="square"&&(R+=tg(j,Q,$,tt,S,C,!0,x))),x.push(j-$*S,Q-tt*S),x.push(j+$*C,Q+tt*C);for(let H=1;H<w-1;++H){j=a[(H-1)*2],Q=a[(H-1)*2+1],q=a[H*2],W=a[H*2+1],ut=a[(H+1)*2],I=a[(H+1)*2+1],$=-(Q-W),tt=j-q,zt=Math.sqrt($*$+tt*tt),$/=zt,tt/=zt,$*=D,tt*=D,xt=-(W-I),pt=q-ut,zt=Math.sqrt(xt*xt+pt*pt),xt/=zt,pt/=zt,xt*=D,pt*=D;const A=q-j,z=Q-W,N=q-ut,P=I-W,F=A*N+z*P,J=z*N-P*A,et=J<0;if(Math.abs(J)<.001*Math.abs(F)){x.push(q-$*S,W-tt*S),x.push(q+$*C,W+tt*C),F>=0&&(f.join==="round"?R+=Bn(q,W,q-$*S,W-tt*S,q-xt*S,W-pt*S,x,!1)+4:R+=2,x.push(q-xt*C,W-pt*C),x.push(q+xt*S,W+pt*S));continue}const ht=(-$+j)*(-tt+W)-(-$+q)*(-tt+Q),it=(-xt+ut)*(-pt+W)-(-xt+q)*(-pt+I),mt=(A*it-N*ht)/J,rt=(P*ht-z*it)/J,Wt=(mt-q)*(mt-q)+(rt-W)*(rt-W),ie=q+(mt-q)*S,ne=W+(rt-W)*S,xe=q-(mt-q)*C,dt=W-(rt-W)*C,yt=Math.min(A*A+z*z,N*N+P*P),Pn=et?S:C,jn=yt+Pn*Pn*U;Wt<=jn?f.join==="bevel"||Wt/U>k?(et?(x.push(ie,ne),x.push(q+$*C,W+tt*C),x.push(ie,ne),x.push(q+xt*C,W+pt*C)):(x.push(q-$*S,W-tt*S),x.push(xe,dt),x.push(q-xt*S,W-pt*S),x.push(xe,dt)),R+=2):f.join==="round"?et?(x.push(ie,ne),x.push(q+$*C,W+tt*C),R+=Bn(q,W,q+$*C,W+tt*C,q+xt*C,W+pt*C,x,!0)+4,x.push(ie,ne),x.push(q+xt*C,W+pt*C)):(x.push(q-$*S,W-tt*S),x.push(xe,dt),R+=Bn(q,W,q-$*S,W-tt*S,q-xt*S,W-pt*S,x,!1)+4,x.push(q-xt*S,W-pt*S),x.push(xe,dt)):(x.push(ie,ne),x.push(xe,dt)):(x.push(q-$*S,W-tt*S),x.push(q+$*C,W+tt*C),f.join==="round"?et?R+=Bn(q,W,q+$*C,W+tt*C,q+xt*C,W+pt*C,x,!0)+2:R+=Bn(q,W,q-$*S,W-tt*S,q-xt*S,W-pt*S,x,!1)+2:f.join==="miter"&&Wt/U<=k&&(et?(x.push(xe,dt),x.push(xe,dt)):(x.push(ie,ne),x.push(ie,ne)),R+=2),x.push(q-xt*S,W-pt*S),x.push(q+xt*C,W+pt*C),R+=2)}j=a[(w-2)*2],Q=a[(w-2)*2+1],q=a[(w-1)*2],W=a[(w-1)*2+1],$=-(Q-W),tt=j-q,zt=Math.sqrt($*$+tt*tt),$/=zt,tt/=zt,$*=D,tt*=D,x.push(q-$*S,W-tt*S),x.push(q+$*C,W+tt*C),_||(f.cap==="round"?R+=Bn(q-$*(S-C)*.5,W-tt*(S-C)*.5,q-$*S,W-tt*S,q+$*C,W+tt*C,x,!1)+2:f.cap==="square"&&(R+=tg(q,W,$,tt,S,C,!1,x)));const E=Jp*Jp;for(let H=T;H<R+T-2;++H)j=x[H*2],Q=x[H*2+1],q=x[(H+1)*2],W=x[(H+1)*2+1],ut=x[(H+2)*2],I=x[(H+2)*2+1],!(Math.abs(j*(W-I)+q*(I-Q)+ut*(Q-W))<E)&&u.push(H,H+1,H+2)}function D1(a,t,n,r){const o=zy;if(a.length===0)return;const u=a[0],h=a[1],f=a[a.length-2],m=a[a.length-1],p=t||Math.abs(u-f)<o&&Math.abs(h-m)<o,g=n,_=a.length/2,v=g.length/2;for(let x=0;x<_;x++)g.push(a[x*2]),g.push(a[x*2+1]);for(let x=0;x<_-1;x++)r.push(v+x,v+x+1);p&&r.push(v+_-1,v)}function By(a,t,n,r,o,u,h){const f=bb(a,t,2);if(!f)return;for(let p=0;p<f.length;p+=3)u[h++]=f[p]+o,u[h++]=f[p+1]+o,u[h++]=f[p+2]+o;let m=o*r;for(let p=0;p<a.length;p+=2)n[m]=a[p],n[m+1]=a[p+1],m+=r}const U1=[],G1={extension:{type:ot.ShapeBuilder,name:"polygon"},build(a,t){for(let n=0;n<a.points.length;n++)t[n]=a.points[n];return t},triangulate(a,t,n,r,o,u){By(a,U1,t,n,r,o,u)}},k1={extension:{type:ot.ShapeBuilder,name:"rectangle"},build(a,t){const n=a,r=n.x,o=n.y,u=n.width,h=n.height;return u>=0&&h>=0&&(t[0]=r,t[1]=o,t[2]=r+u,t[3]=o,t[4]=r+u,t[5]=o+h,t[6]=r,t[7]=o+h),t},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[6],t[r+h+1]=a[7],h+=n,t[r+h]=a[4],t[r+h+1]=a[5],h+=n;const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2,o[u++]=f+1,o[u++]=f+3,o[u++]=f+2}},H1={extension:{type:ot.ShapeBuilder,name:"triangle"},build(a,t){return t[0]=a.x,t[1]=a.y,t[2]=a.x2,t[3]=a.y2,t[4]=a.x3,t[5]=a.y3,t},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[4],t[r+h+1]=a[5];const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2}},L1=new At,N1=new Jt;function Y1(a,t,n,r){const o=t.matrix?a.copyFrom(t.matrix).invert():a.identity();if(t.textureSpace==="local"){const u=n.getBounds(N1);o.translate(-u.x,-u.y),o.scale(1/u.width,1/u.height)}else{o.translate(t.texture.frame.x,t.texture.frame.y),o.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update())}return r&&o.append(L1.copyFrom(r).invert()),o}const Dl={};pe.handleByMap(ot.ShapeBuilder,Dl);pe.add(k1,G1,H1,qa,R1,z1);const P1=new Jt,j1=new At;function X1(a,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let o=0;o<a.instructions.length;o++){const u=a.instructions[o];if(u.action==="texture")V1(u.data,r,n);else if(u.action==="fill"||u.action==="stroke"){const h=u.action==="stroke",f=u.data.path.shapePath,m=u.data.style,p=u.data.hole;h&&p&&eg(p.shapePath,m,!0,r,n),p&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),eg(f,m,h,r,n)}}}function V1(a,t,n){const{vertices:r,uvs:o,indices:u}=n,h=u.length,f=r.length/2,m=[],p=Dl.rectangle,g=P1,_=a.image;g.x=a.dx,g.y=a.dy,g.width=a.dw,g.height=a.dh;const v=a.transform;p.build(g,m),v&&Ey(m,v),p.triangulate(m,r,2,f,u,h);const x=_.uvs;o.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const w=Ui.get(Ry);w.indexOffset=h,w.indexSize=u.length-h,w.attributeOffset=f,w.attributeSize=r.length/2-f,w.baseColor=a.style,w.alpha=a.alpha,w.texture=_,w.geometryData=n,t.push(w)}function eg(a,t,n,r,o){const{vertices:u,uvs:h,indices:f}=o;a.shapePrimitives.forEach(({shape:m,transform:p,holes:g})=>{const _=f.length,v=u.length/2,x=[],w=Dl[m.type];let R="triangle-list";if(w.build(m,x),p&&Ey(x,p),n){const k=m.closePath??!0,j=t;j.pixelLine?(D1(x,k,u,f),R="line-list"):O1(x,j,!1,k,u,f)}else if(g){const k=[],j=x.slice();F1(g).forEach(q=>{k.push(j.length/2),j.push(...q)}),By(j,k,u,2,v,f,_)}else w.triangulate(x,u,2,v,f,_);const T=h.length/2,D=t.texture;if(D!==wt.WHITE){const k=Y1(j1,t,m,p);M1(u,2,v,h,T,2,u.length/2-v,k)}else C1(h,T,2,u.length/2-v);const U=Ui.get(Ry);U.indexOffset=_,U.indexSize=f.length-_,U.attributeOffset=v,U.attributeSize=u.length/2-v,U.baseColor=t.color,U.alpha=t.alpha,U.texture=D,U.geometryData=o,U.topology=R,r.push(U)})}function F1(a){const t=[];for(let n=0;n<a.length;n++){const r=a[n].shape,o=[];Dl[r.type].build(r,o),t.push(o)}return t}class q1{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Q1{constructor(){this.batcher=new w1,this.instructions=new Pg}init(){this.instructions.reset()}get geometry(){return Ct(iv,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const lh=class Fc{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Fc.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Fc.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),X1(t,n);const r=t.batchMode;t.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"&&(n.isBatchable=n.geometryData.vertices.length<400),t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=Ui.get(Q1),{batches:r,geometryData:o}=this._gpuContextHash[t.uid],u=o.vertices.length,h=o.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(h),f.begin();for(let g=0;g<r.length;g++){const _=r[g];f.add(_)}f.finish(n.instructions);const m=f.geometry;m.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),m.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const p=f.batches;for(let g=0;g<p.length;g++){const _=p[g];_.bindGroup=Nb(_.textures.textures,_.textures.count)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new q1;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(Ui.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(r=>{Ui.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};lh.extension={type:[ot.WebGLSystem,ot.WebGPUSystem,ot.CanvasSystem],name:"graphicsContext"};lh.defaultOptions={bezierSmoothness:.5};let Oy=lh;const Z1=8,xl=11920929e-14,W1=1;function Dy(a,t,n,r,o,u,h,f,m,p){const _=Math.min(.99,Math.max(0,p??Oy.defaultOptions.bezierSmoothness));let v=(W1-_)/1;return v*=v,K1(t,n,r,o,u,h,f,m,a,v),a}function K1(a,t,n,r,o,u,h,f,m,p){qc(a,t,n,r,o,u,h,f,m,p,0),m.push(h,f)}function qc(a,t,n,r,o,u,h,f,m,p,g){if(g>Z1)return;const _=(a+n)/2,v=(t+r)/2,x=(n+o)/2,w=(r+u)/2,R=(o+h)/2,T=(u+f)/2,D=(_+x)/2,U=(v+w)/2,k=(x+R)/2,j=(w+T)/2,Q=(D+k)/2,q=(U+j)/2;if(g>0){let W=h-a,ut=f-t;const I=Math.abs((n-h)*ut-(r-f)*W),$=Math.abs((o-h)*ut-(u-f)*W);if(I>xl&&$>xl){if((I+$)*(I+$)<=p*(W*W+ut*ut)){m.push(Q,q);return}}else if(I>xl){if(I*I<=p*(W*W+ut*ut)){m.push(Q,q);return}}else if($>xl){if($*$<=p*(W*W+ut*ut)){m.push(Q,q);return}}else if(W=Q-(a+h)/2,ut=q-(t+f)/2,W*W+ut*ut<=p){m.push(Q,q);return}}qc(a,t,_,v,D,U,Q,q,m,p,g+1),qc(Q,q,k,j,R,T,h,f,m,p,g+1)}const I1=8,$1=11920929e-14,J1=1;function tS(a,t,n,r,o,u,h,f){const p=Math.min(.99,Math.max(0,f??Oy.defaultOptions.bezierSmoothness));let g=(J1-p)/1;return g*=g,eS(t,n,r,o,u,h,a,g),a}function eS(a,t,n,r,o,u,h,f){Qc(h,a,t,n,r,o,u,f,0),h.push(o,u)}function Qc(a,t,n,r,o,u,h,f,m){if(m>I1)return;const p=(t+r)/2,g=(n+o)/2,_=(r+u)/2,v=(o+h)/2,x=(p+_)/2,w=(g+v)/2;let R=u-t,T=h-n;const D=Math.abs((r-u)*T-(o-h)*R);if(D>$1){if(D*D<=f*(R*R+T*T)){a.push(x,w);return}}else if(R=x-(t+u)/2,T=w-(n+h)/2,R*R+T*T<=f){a.push(x,w);return}Qc(a,t,n,p,g,x,w,f,m+1),Qc(a,x,w,_,v,u,h,f,m+1)}function Uy(a,t,n,r,o,u,h,f){let m=Math.abs(o-u);(!h&&o>u||h&&u>o)&&(m=2*Math.PI-m),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(m/Math.PI)))),f=Math.max(f,3);let p=m/f,g=o;p*=h?-1:1;for(let _=0;_<f+1;_++){const v=Math.cos(g),x=Math.sin(g),w=t+v*r,R=n+x*r;a.push(w,R),g+=p}}function iS(a,t,n,r,o,u){const h=a[a.length-2],m=a[a.length-1]-n,p=h-t,g=o-n,_=r-t,v=Math.abs(m*_-p*g);if(v<1e-8||u===0){(a[a.length-2]!==t||a[a.length-1]!==n)&&a.push(t,n);return}const x=m*m+p*p,w=g*g+_*_,R=m*g+p*_,T=u*Math.sqrt(x)/v,D=u*Math.sqrt(w)/v,U=T*R/x,k=D*R/w,j=T*_+D*p,Q=T*g+D*m,q=p*(D+U),W=m*(D+U),ut=_*(T+k),I=g*(T+k),$=Math.atan2(W-Q,q-j),tt=Math.atan2(I-Q,ut-j);Uy(a,j+t,Q+n,u,$,tt,p*g>_*m)}const Va=Math.PI*2,Tc={centerX:0,centerY:0,ang1:0,ang2:0},wc=({x:a,y:t},n,r,o,u,h,f,m)=>{a*=n,t*=r;const p=o*a-u*t,g=u*a+o*t;return m.x=p+h,m.y=g+f,m};function nS(a,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:n,o=Math.cos(a),u=Math.sin(a),h=Math.cos(a+t),f=Math.sin(a+t);return[{x:o-u*r,y:u+o*r},{x:h+f*r,y:f-h*r},{x:h,y:f}]}const ig=(a,t,n,r)=>{const o=a*r-t*n<0?-1:1;let u=a*n+t*r;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},sS=(a,t,n,r,o,u,h,f,m,p,g,_,v)=>{const x=Math.pow(o,2),w=Math.pow(u,2),R=Math.pow(g,2),T=Math.pow(_,2);let D=x*w-x*T-w*R;D<0&&(D=0),D/=x*T+w*R,D=Math.sqrt(D)*(h===f?-1:1);const U=D*o/u*_,k=D*-u/o*g,j=p*U-m*k+(a+n)/2,Q=m*U+p*k+(t+r)/2,q=(g-U)/o,W=(_-k)/u,ut=(-g-U)/o,I=(-_-k)/u,$=ig(1,0,q,W);let tt=ig(q,W,ut,I);f===0&&tt>0&&(tt-=Va),f===1&&tt<0&&(tt+=Va),v.centerX=j,v.centerY=Q,v.ang1=$,v.ang2=tt};function aS(a,t,n,r,o,u,h,f=0,m=0,p=0){if(u===0||h===0)return;const g=Math.sin(f*Va/360),_=Math.cos(f*Va/360),v=_*(t-r)/2+g*(n-o)/2,x=-g*(t-r)/2+_*(n-o)/2;if(v===0&&x===0)return;u=Math.abs(u),h=Math.abs(h);const w=Math.pow(v,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(h,2);w>1&&(u*=Math.sqrt(w),h*=Math.sqrt(w)),sS(t,n,r,o,u,h,m,p,g,_,v,x,Tc);let{ang1:R,ang2:T}=Tc;const{centerX:D,centerY:U}=Tc;let k=Math.abs(T)/(Va/4);Math.abs(1-k)<1e-7&&(k=1);const j=Math.max(Math.ceil(k),1);T/=j;let Q=a[a.length-2],q=a[a.length-1];const W={x:0,y:0};for(let ut=0;ut<j;ut++){const I=nS(R,T),{x:$,y:tt}=wc(I[0],u,h,_,g,D,U,W),{x:xt,y:pt}=wc(I[1],u,h,_,g,D,U,W),{x:zt,y:Ht}=wc(I[2],u,h,_,g,D,U,W);Dy(a,Q,q,$,tt,xt,pt,zt,Ht),Q=zt,q=Ht,R+=T}}function rS(a,t,n){const r=(h,f)=>{const m=f.x-h.x,p=f.y-h.y,g=Math.sqrt(m*m+p*p),_=m/g,v=p/g;return{len:g,nx:_,ny:v}},o=(h,f)=>{h===0?a.moveTo(f.x,f.y):a.lineTo(f.x,f.y)};let u=t[t.length-1];for(let h=0;h<t.length;h++){const f=t[h%t.length],m=f.radius??n;if(m<=0){o(h,f),u=f;continue}const p=t[(h+1)%t.length],g=r(f,u),_=r(f,p);if(g.len<1e-4||_.len<1e-4){o(h,f),u=f;continue}let v=Math.asin(g.nx*_.ny-g.ny*_.nx),x=1,w=!1;g.nx*_.nx-g.ny*-_.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,x=-1,w=!0):v>0&&(x=-1,w=!0);const R=v/2;let T,D=Math.abs(Math.cos(R)*m/Math.sin(R));D>Math.min(g.len/2,_.len/2)?(D=Math.min(g.len/2,_.len/2),T=Math.abs(D*Math.sin(R)/Math.cos(R))):T=m;const U=f.x+_.nx*D+-_.ny*T*x,k=f.y+_.ny*D+_.nx*T*x,j=Math.atan2(g.ny,g.nx)+Math.PI/2*x,Q=Math.atan2(_.ny,_.nx)-Math.PI/2*x;h===0&&a.moveTo(U+Math.cos(j)*T,k+Math.sin(j)*T),a.arc(U,k,T,j,Q,w),u=f}}function lS(a,t,n,r){const o=(f,m)=>Math.sqrt((f.x-m.x)**2+(f.y-m.y)**2),u=(f,m,p)=>({x:f.x+(m.x-f.x)*p,y:f.y+(m.y-f.y)*p}),h=t.length;for(let f=0;f<h;f++){const m=t[(f+1)%h],p=m.radius??n;if(p<=0){f===0?a.moveTo(m.x,m.y):a.lineTo(m.x,m.y);continue}const g=t[f],_=t[(f+2)%h],v=o(g,m);let x;if(v<1e-4)x=m;else{const T=Math.min(v/2,p);x=u(m,g,T/v)}const w=o(_,m);let R;if(w<1e-4)R=m;else{const T=Math.min(w/2,p);R=u(m,_,T/w)}f===0?a.moveTo(x.x,x.y):a.lineTo(x.x,x.y),a.quadraticCurveTo(m.x,m.y,R.x,R.y,r)}}const oS=new Jt;class uS{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new si,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],u=r[r.length-1];return(o!==t||u!==n)&&r.push(t,n),this}arc(t,n,r,o,u,h){this._ensurePoly(!1);const f=this._currentPoly.points;return Uy(f,t,n,r,o,u,h),this}arcTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly.points;return iS(h,t,n,r,o,u),this}arcToSvg(t,n,r,o,u,h,f){const m=this._currentPoly.points;return aS(m,this._currentPoly.lastX,this._currentPoly.lastY,h,f,t,n,r,o,u),this}bezierCurveTo(t,n,r,o,u,h,f){this._ensurePoly();const m=this._currentPoly;return Dy(this._currentPoly.points,m.lastX,m.lastY,t,n,r,o,u,h,f),this}quadraticCurveTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly;return tS(this._currentPoly.points,h.lastX,h.lastY,t,n,r,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const r=this.shapePrimitives,o=r.length;for(let u=0;u<t.instructions.length;u++){const h=t.instructions[u];this[h.action](...h.data)}if(t.checkForHoles&&r.length-o>1){let u=null;for(let h=o;h<r.length;h++){const f=r[h];if(f.shape.type==="polygon"){const m=f.shape,p=u==null?void 0:u.shape;p&&p.containsPolygon(m)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(h,h+1),r.length--,h--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,r,o,u){return this.drawShape(new Jt(t,n,r,o),u),this}circle(t,n,r,o){return this.drawShape(new sh(t,n,r),o),this}poly(t,n,r){const o=new Xa(t);return o.closePath=n,this.drawShape(o,r),this}regularPoly(t,n,r,o,u=0,h){o=Math.max(o|0,3);const f=-1*Math.PI/2+u,m=Math.PI*2/o,p=[];for(let g=0;g<o;g++){const _=f-g*m;p.push(t+r*Math.cos(_),n+r*Math.sin(_))}return this.poly(p,!0,h),this}roundPoly(t,n,r,o,u,h=0,f){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,r,o,h);const m=r*Math.sin(Math.PI/o)-.001;u=Math.min(u,m);const p=-1*Math.PI/2+h,g=Math.PI*2/o,_=(o-2)*Math.PI/o/2;for(let v=0;v<o;v++){const x=v*g+p,w=t+r*Math.cos(x),R=n+r*Math.sin(x),T=x+Math.PI+_,D=x-Math.PI-_,U=w+u*Math.cos(T),k=R+u*Math.sin(T),j=w+u*Math.cos(D),Q=R+u*Math.sin(D);v===0?this.moveTo(U,k):this.lineTo(U,k),this.quadraticCurveTo(w,R,j,Q,f)}return this.closePath()}roundShape(t,n,r=!1,o){return t.length<3?this:(r?lS(this,t,n,o):rS(this,t,n),this.closePath())}filletRect(t,n,r,o,u){if(u===0)return this.rect(t,n,r,o);const h=Math.min(r,o)/2,f=Math.min(h,Math.max(-h,u)),m=t+r,p=n+o,g=f<0?-f:0,_=Math.abs(f);return this.moveTo(t,n+_).arcTo(t+g,n+g,t+_,n,_).lineTo(m-_,n).arcTo(m-g,n+g,m,n+_,_).lineTo(m,p-_).arcTo(m-g,p-g,t+r-_,p,_).lineTo(t+_,p).arcTo(t+g,p-g,t,p-_,_).closePath()}chamferRect(t,n,r,o,u,h){if(u<=0)return this.rect(t,n,r,o);const f=Math.min(u,Math.min(r,o)/2),m=t+r,p=n+o,g=[t+f,n,m-f,n,m,n+f,m,p-f,m-f,p,t+f,p,t,p-f,t,n+f];for(let _=g.length-1;_>=2;_-=2)g[_]===g[_-2]&&g[_-1]===g[_-3]&&g.splice(_-1,2);return this.poly(g,!0,h)}ellipse(t,n,r,o,u){return this.drawShape(new ah(t,n,r,o),u),this}roundRect(t,n,r,o,u,h){return this.drawShape(new rh(t,n,r,o,u),h),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let r=this._currentPoly;return r&&this.endPoly(),r=new Xa,r.points.push(t,n),this._currentPoly=r,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Xa,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,o=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const u=n.transform,h=r;r=u.a*r+u.c*o+u.tx,o=u.b*h+u.d*o+u.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const r=t.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const o=n[r],u=o.shape.getBounds(oS);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class Bs{constructor(t,n=!1){this.instructions=[],this.uid=te("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?Ob(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new uS(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,r,o,u){const h=this.instructions[this.instructions.length-1],f=this.getLastPoint(me.shared);let m=0,p=0;if(!h||h.action!=="bezierCurveTo")m=f.x,p=f.y;else{m=h.data[2],p=h.data[3];const g=f.x,_=f.y;m=g+(g-m),p=_+(_-p)}return this.instructions.push({action:"bezierCurveTo",data:[m,p,t,n,r,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,r){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(me.shared);let h=0,f=0;if(!o||o.action!=="quadraticCurveTo")h=u.x,f=u.y;else{h=o.data[0],f=o.data[1];const m=u.x,p=u.y;h=m+(m-h),f=p+(p-f)}return this.instructions.push({action:"quadraticCurveTo",data:[h,f,t,n,r]}),this._dirty=!0,this}rect(t,n,r,o,u){return this.instructions.push({action:"rect",data:[t,n,r,o,u]}),this._dirty=!0,this}circle(t,n,r,o){return this.instructions.push({action:"circle",data:[t,n,r,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,r,o,u,h,f){u||(u=o/2);const m=-1*Math.PI/2+h,p=r*2,g=Math.PI*2/p,_=[];for(let v=0;v<p;v++){const x=v%2?u:o,w=v*g+m;_.push(t+x*Math.cos(w),n+x*Math.sin(w))}return this.poly(_,!0,f),this}clone(t=!1){const n=new Bs;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,r=t.b,o=t.c,u=t.d,h=t.tx,f=t.ty;let m=0,p=0,g=0,_=0,v=0,x=0,w=0,R=0;for(let T=0;T<this.instructions.length;T++){const D=this.instructions[T],U=D.data;switch(D.action){case"moveTo":case"lineTo":m=U[0],p=U[1],U[0]=n*m+o*p+h,U[1]=r*m+u*p+f;break;case"bezierCurveTo":g=U[0],_=U[1],v=U[2],x=U[3],m=U[4],p=U[5],U[0]=n*g+o*_+h,U[1]=r*g+u*_+f,U[2]=n*v+o*x+h,U[3]=r*v+u*x+f,U[4]=n*m+o*p+h,U[5]=r*m+u*p+f;break;case"quadraticCurveTo":g=U[0],_=U[1],m=U[2],p=U[3],U[0]=n*g+o*_+h,U[1]=r*g+u*_+f,U[2]=n*m+o*p+h,U[3]=r*m+u*p+f;break;case"arcToSvg":m=U[5],p=U[6],w=U[0],R=U[1],U[0]=n*w+o*R,U[1]=r*w+u*R,U[5]=n*m+o*p+h,U[6]=r*m+u*p+f;break;case"circle":U[4]=Ha(U[3],t);break;case"rect":U[4]=Ha(U[4],t);break;case"ellipse":U[8]=Ha(U[8],t);break;case"roundRect":U[5]=Ha(U[5],t);break;case"addPath":U[0].transform(t);break;case"poly":U[2]=Ha(U[2],t);break;default:Pt("unknown transform action",D.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Ha(a,t){return a?a.prepend(t):t.clone()}function Ft(a,t,n){const r=a.getAttribute(t);return r?Number(r):n}function cS(a,t){const n=a.querySelectorAll("defs");for(let r=0;r<n.length;r++){const o=n[r];for(let u=0;u<o.children.length;u++){const h=o.children[u];switch(h.nodeName.toLowerCase()){case"lineargradient":t.defs[h.id]=hS(h);break;case"radialgradient":t.defs[h.id]=fS();break}}}}function hS(a){const t=Ft(a,"x1",0),n=Ft(a,"y1",0),r=Ft(a,"x2",1),o=Ft(a,"y2",0),u=a.getAttribute("gradientUnits")||"objectBoundingBox",h=new ki(t,n,r,o,u==="objectBoundingBox"?"local":"global");for(let f=0;f<a.children.length;f++){const m=a.children[f],p=Ft(m,"offset",0),g=ee.shared.setValue(m.getAttribute("stop-color")).toNumber();h.addColorStop(p,g)}return h}function fS(a){return Pt("[SVG Parser] Radial gradients are not yet supported"),new ki(0,0,1,0)}function ng(a){const t=a.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const sg={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Gy(a,t){const n=a.getAttribute("style"),r={},o={},u={strokeStyle:r,fillStyle:o,useFill:!1,useStroke:!1};for(const h in sg){const f=a.getAttribute(h);f&&ag(t,u,h,f.trim())}if(n){const h=n.split(";");for(let f=0;f<h.length;f++){const m=h[f].trim(),[p,g]=m.split(":");sg[p]&&ag(t,u,p,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?o:null,useFill:u.useFill,useStroke:u.useStroke}}function ag(a,t,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const o=ng(r);t.strokeStyle.fill=a.defs[o]}else t.strokeStyle.color=ee.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const o=ng(r);t.fillStyle.fill=a.defs[o]}else t.fillStyle.color=ee.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function dS(a,t){if(typeof a=="string"){const h=document.createElement("div");h.innerHTML=a.trim(),a=h.querySelector("svg")}const n={context:t,defs:{},path:new Bs};cS(a,n);const r=a.children,{fillStyle:o,strokeStyle:u}=Gy(a,n);for(let h=0;h<r.length;h++){const f=r[h];f.nodeName.toLowerCase()!=="defs"&&ky(f,n,o,u)}return t}function ky(a,t,n,r){const o=a.children,{fillStyle:u,strokeStyle:h}=Gy(a,t);u&&n?n={...n,...u}:u&&(n=u),h&&r?r={...r,...h}:h&&(r=h);const f=!n&&!r;f&&(n={color:0});let m,p,g,_,v,x,w,R,T,D,U,k,j,Q,q,W,ut;switch(a.nodeName.toLowerCase()){case"path":Q=a.getAttribute("d"),a.getAttribute("fill-rule")==="evenodd"&&Pt("SVG Evenodd fill rule not supported, your svg may render incorrectly"),q=new Bs(Q,!0),t.context.path(q),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"circle":w=Ft(a,"cx",0),R=Ft(a,"cy",0),T=Ft(a,"r",0),t.context.ellipse(w,R,T,T),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"rect":m=Ft(a,"x",0),p=Ft(a,"y",0),W=Ft(a,"width",0),ut=Ft(a,"height",0),D=Ft(a,"rx",0),U=Ft(a,"ry",0),D||U?t.context.roundRect(m,p,W,ut,D||U):t.context.rect(m,p,W,ut),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"ellipse":w=Ft(a,"cx",0),R=Ft(a,"cy",0),D=Ft(a,"rx",0),U=Ft(a,"ry",0),t.context.beginPath(),t.context.ellipse(w,R,D,U),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"line":g=Ft(a,"x1",0),_=Ft(a,"y1",0),v=Ft(a,"x2",0),x=Ft(a,"y2",0),t.context.beginPath(),t.context.moveTo(g,_),t.context.lineTo(v,x),r&&t.context.stroke(r);break;case"polygon":j=a.getAttribute("points"),k=j.match(/\d+/g).map(I=>parseInt(I,10)),t.context.poly(k,!0),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"polyline":j=a.getAttribute("points"),k=j.match(/\d+/g).map(I=>parseInt(I,10)),t.context.poly(k,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Pt(`[SVG parser] <${a.nodeName}> elements unsupported`);break}}f&&(n=null);for(let I=0;I<o.length;I++)ky(o[I],t,n,r)}function mS(a){return ee.isColorLike(a)}function rg(a){return a instanceof Ol}function lg(a){return a instanceof ki}function pS(a){return a instanceof wt}function gS(a,t,n){const r=ee.shared.setValue(t??0);return a.color=r.toNumber(),a.alpha=r.alpha===1?n.alpha:r.alpha,a.texture=wt.WHITE,{...n,...a}}function yS(a,t,n){return a.texture=t,{...n,...a}}function og(a,t,n){return a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,{...n,...a}}function ug(a,t,n){return t.buildGradient(),a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,a.textureSpace=t.textureSpace,{...n,...a}}function _S(a,t){const n={...t,...a},r=ee.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function Hn(a,t){if(a==null)return null;const n={},r=a;return mS(a)?gS(n,a,t):pS(a)?yS(n,a,t):rg(a)?og(n,a,t):lg(a)?ug(n,a,t):r.fill&&rg(r.fill)?og(r,r.fill,t):r.fill&&lg(r.fill)?ug(r,r.fill,t):_S(r,t)}function El(a,t){const{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...m}=t,p=Hn(a,m);return p?{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...p}:null}const xS=new me,cg=new At,oh=class mi extends ai{constructor(){super(...arguments),this.uid=te("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Bs,this._transform=new At,this._fillStyle={...mi.defaultFillStyle},this._strokeStyle={...mi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new si,this._boundsDirty=!0}clone(){const t=new mi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Hn(t,mi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=El(t,mi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Hn(t,mi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Hn(t,mi.defaultStrokeStyle),this}texture(t,n,r,o,u,h){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:o||0,dw:u||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?ee.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Bs,this}fill(t,n){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(t!=null&&(n!==void 0&&typeof t=="number"&&(Ct(Dt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=Hn(t,mi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(me.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=El(t,mi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,n,r,o,u,h){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,r,o,u,h),this}arcTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}arcToSvg(t,n,r,o,u,h,f){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,n,r,o,u,m.a*h+m.c*f+m.tx,m.b*h+m.d*f+m.ty),this}bezierCurveTo(t,n,r,o,u,h,f){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*n+m.tx,m.b*t+m.d*n+m.ty,m.a*r+m.c*o+m.tx,m.b*r+m.d*o+m.ty,m.a*u+m.c*h+m.tx,m.b*u+m.d*h+m.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,n,r,o){return this._tick++,this._activePath.ellipse(t,n,r,o,this._transform.clone()),this}circle(t,n,r){return this._tick++,this._activePath.circle(t,n,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*n+r.tx,r.b*t+r.d*n+r.ty),this}moveTo(t,n){this._tick++;const r=this._transform,o=this._activePath.instructions,u=r.a*t+r.c*n+r.tx,h=r.b*t+r.d*n+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=h,this):(this._activePath.moveTo(u,h),this)}quadraticCurveTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}rect(t,n,r,o){return this._tick++,this._activePath.rect(t,n,r,o,this._transform.clone()),this}roundRect(t,n,r,o,u){return this._tick++,this._activePath.roundRect(t,n,r,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,r,o,u=0,h){return this._tick++,this._activePath.regularPoly(t,n,r,o,u,h),this}roundPoly(t,n,r,o,u,h){return this._tick++,this._activePath.roundPoly(t,n,r,o,u,h),this}roundShape(t,n,r,o){return this._tick++,this._activePath.roundShape(t,n,r,o),this}filletRect(t,n,r,o,u){return this._tick++,this._activePath.filletRect(t,n,r,o,u),this}chamferRect(t,n,r,o,u,h){return this._tick++,this._activePath.chamferRect(t,n,r,o,u,h),this}star(t,n,r,o,u=0,h=0){return this._tick++,this._activePath.star(t,n,r,o,u,h,this._transform.clone()),this}svg(t){return this._tick++,dS(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,r,o,u,h){return t instanceof At?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,r,o,u,h),this)}transform(t,n,r,o,u,h){return t instanceof At?(this._transform.append(t),this):(cg.set(t,n,r,o,u,h),this._transform.append(cg),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],o=r.action;if(o==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=r.data,h=u.style.alignment,f=u.style.width*(1-h),m=u.path.bounds;t.addFrame(m.minX-f,m.minY-f,m.maxX+f,m.maxY+f)}}return t}containsPoint(t){var o;if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let r=!1;for(let u=0;u<n.length;u++){const h=n[u],f=h.data,m=f.path;if(!h.action||!m)continue;const p=f.style,g=m.shapePath.shapePrimitives;for(let _=0;_<g.length;_++){const v=g[_].shape;if(!p||!v)continue;const x=g[_].transform,w=x?x.applyInverse(t,xS):t;if(h.action==="fill")r=v.contains(w.x,w.y);else{const T=p;r=v.strokeContains(w.x,w.y,T.width,T.alignment)}const R=f.hole;if(R){const T=(o=R.shapePath)==null?void 0:o.shapePrimitives;if(T)for(let D=0;D<T.length;D++)T[D].shape.contains(w.x,w.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};oh.defaultFillStyle={color:16777215,alpha:1,texture:wt.WHITE,matrix:null,fill:null,textureSpace:"local"};oh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:wt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let We=oh;const hg=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function vS(a){const t=[];let n=0;for(let r=0;r<hg.length;r++){const o=`_${hg[r]}`;t[n++]=a[o]}return n=Hy(a._fill,t,n),n=bS(a._stroke,t,n),n=SS(a.dropShadow,t,n),t.join("-")}function Hy(a,t,n){var r;return a&&(t[n++]=a.color,t[n++]=a.alpha,t[n++]=(r=a.fill)==null?void 0:r.styleKey),n}function bS(a,t,n){return a&&(n=Hy(a,t,n),t[n++]=a.width,t[n++]=a.alignment,t[n++]=a.cap,t[n++]=a.join,t[n++]=a.miterLimit),n}function SS(a,t,n){return a&&(t[n++]=a.alpha,t[n++]=a.angle,t[n++]=a.blur,t[n++]=a.distance,t[n++]=ee.shared.setValue(a.color).toNumber()),n}const uh=class Ms extends ai{constructor(t={}){super(),AS(t);const n={...Ms.defaultTextStyle,...t};for(const r in n){const o=r;this[o]=n[r]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Ms.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Ms.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...We.defaultFillStyle,...t},()=>{this._fill=Hn({...this._originalFill},We.defaultFillStyle)})),this._fill=Hn(t===0?"black":t,We.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...We.defaultStrokeStyle,...t},()=>{this._stroke=El({...this._originalStroke},We.defaultStrokeStyle)})),this._stroke=El(t,We.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=vS(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Ms.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Ms({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){var r,o,u,h;if(this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const f=typeof t=="boolean"?t:t==null?void 0:t.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(f),(o=this._originalFill)!=null&&o.texture&&this._originalFill.texture.destroy(f),(u=this._stroke)!=null&&u.texture&&this._stroke.texture.destroy(f),(h=this._originalStroke)!=null&&h.texture&&this._originalStroke.texture.destroy(f)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(r,o,u)=>(r[o]=u,n==null||n(o,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(ee.isColorLike(t)||t instanceof ki||t instanceof Ol)}};uh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};uh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Qa=uh;function AS(a){const t=a;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=Qa.defaultDropShadow;a.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){Ct(Dt,"strokeThickness is now a part of stroke");const n=t.stroke;let r={};if(ee.isColorLike(n))r.color=n;else if(n instanceof ki||n instanceof Ol)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");a.stroke={...r,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){Ct(Dt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let n;a.fontSize==null?a.fontSize=Qa.defaultTextStyle.fontSize:typeof a.fontSize=="string"?n=parseInt(a.fontSize,10):n=a.fontSize;const r=new ki({start:{x:0,y:0},end:{x:0,y:(n||0)*1.7}}),o=t.fillGradientStops.map(u=>ee.shared.setValue(u).toNumber());o.forEach((u,h)=>{const f=h/(o.length-1);r.addColorStop(f,u)}),a.fill={fill:r}}}class TS{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const r=Qt.get().createCanvas();r.width=t,r.height=n;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(t,n,r=1){t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),t=Ml(t),n=Ml(n);const o=(t<<17)+(n<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let u=this._canvasPool[o].pop();return u||(u=this._createCanvasAndContext(t,n)),u}returnCanvasAndContext(t){const n=t.canvas,{width:r,height:o}=n,u=(r<<17)+(o<<1);t.context.clearRect(0,0,r,o),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const fg=new TS,wS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Zc(a){const t=typeof a.fontSize=="number"?`${a.fontSize}px`:a.fontSize;let n=a.fontFamily;Array.isArray(a.fontFamily)||(n=a.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let o=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!wS.includes(o)&&(o=`"${o}"`),n[r]=o}return`${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${t} ${n.join(",")}`}const Mc={willReadFrequently:!0},ri=class at{static get experimentalLetterSpacingSupported(){let t=at._experimentalLetterSpacingSupported;if(t!==void 0){const n=Qt.get().getCanvasRenderingContext2D().prototype;t=at._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,r,o,u,h,f,m,p){this.text=t,this.style=n,this.width=r,this.height=o,this.lines=u,this.lineWidths=h,this.lineHeight=f,this.maxLineWidth=m,this.fontProperties=p}static measureText(t=" ",n,r=at._canvas,o=n.wordWrap){var U;const u=`${t}:${n.styleKey}`;if(at._measurementCache[u])return at._measurementCache[u];const h=Zc(n),f=at.measureFont(h);f.fontSize===0&&(f.fontSize=n.fontSize,f.ascent=n.fontSize);const m=at.__context;m.font=h;const g=(o?at._wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),_=new Array(g.length);let v=0;for(let k=0;k<g.length;k++){const j=at._measureText(g[k],n.letterSpacing,m);_[k]=j,v=Math.max(v,j)}const x=((U=n._stroke)==null?void 0:U.width)||0;let w=v+x;n.dropShadow&&(w+=n.dropShadow.distance);const R=n.lineHeight||f.fontSize;let T=Math.max(R,f.fontSize+x)+(g.length-1)*(R+n.leading);return n.dropShadow&&(T+=n.dropShadow.distance),new at(t,n,w,T,g,_,R+n.leading,v,f)}static _measureText(t,n,r){let o=!1;at.experimentalLetterSpacingSupported&&(at.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const u=r.measureText(t);let h=u.width;const f=-u.actualBoundingBoxLeft;let p=u.actualBoundingBoxRight-f;if(h>0)if(o)h-=n,p-=n;else{const g=(at.graphemeSegmenter(t).length-1)*n;h+=g,p+=g}return Math.max(h,p)}static _wordWrap(t,n,r=at._canvas){const o=r.getContext("2d",Mc);let u=0,h="",f="";const m=Object.create(null),{letterSpacing:p,whiteSpace:g}=n,_=at._collapseSpaces(g),v=at._collapseNewlines(g);let x=!_;const w=n.wordWrapWidth+p,R=at._tokenize(t);for(let T=0;T<R.length;T++){let D=R[T];if(at._isNewline(D)){if(!v){f+=at._addLine(h),x=!_,h="",u=0;continue}D=" "}if(_){const k=at.isBreakingSpace(D),j=at.isBreakingSpace(h[h.length-1]);if(k&&j)continue}const U=at._getFromCache(D,p,m,o);if(U>w)if(h!==""&&(f+=at._addLine(h),h="",u=0),at.canBreakWords(D,n.breakWords)){const k=at.wordWrapSplit(D);for(let j=0;j<k.length;j++){let Q=k[j],q=Q,W=1;for(;k[j+W];){const I=k[j+W];if(!at.canBreakChars(q,I,D,j,n.breakWords))Q+=I;else break;q=I,W++}j+=W-1;const ut=at._getFromCache(Q,p,m,o);ut+u>w&&(f+=at._addLine(h),x=!1,h="",u=0),h+=Q,u+=ut}}else{h.length>0&&(f+=at._addLine(h),h="",u=0);const k=T===R.length-1;f+=at._addLine(D,!k),x=!1,h="",u=0}else U+u>w&&(x=!1,f+=at._addLine(h),h="",u=0),(h.length>0||!at.isBreakingSpace(D)||x)&&(h+=D,u+=U)}return f+=at._addLine(h,!1),f}static _addLine(t,n=!0){return t=at._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,r,o){let u=r[t];return typeof u!="number"&&(u=at._measureText(t,n,o)+n,r[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!at.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:at._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:at._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],h=t[o+1];if(at.isBreakingSpace(u,h)||at._isNewline(u)){r!==""&&(n.push(r),r=""),n.push(u);continue}r+=u}return r!==""&&n.push(r),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,r,o,u){return!0}static wordWrapSplit(t){return at.graphemeSegmenter(t)}static measureFont(t){if(at._fonts[t])return at._fonts[t];const n=at._context;n.font=t;const r=n.measureText(at.METRICS_STRING+at.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return at._fonts[t]=o,o}static clearMetrics(t=""){t?delete at._fonts[t]:at._fonts={}}static get _canvas(){if(!at.__canvas){let t;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",Mc);if(r!=null&&r.measureText)return at.__canvas=n,n;t=Qt.get().createCanvas()}catch{t=Qt.get().createCanvas()}t.width=t.height=10,at.__canvas=t}return at.__canvas}static get _context(){return at.__context||(at.__context=at._canvas.getContext("2d",Mc)),at.__context}};ri.METRICS_STRING="|q";ri.BASELINE_SYMBOL="M";ri.BASELINE_MULTIPLIER=1.4;ri.HEIGHT_MULTIPLIER=2;ri.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const a=new Intl.Segmenter;return t=>[...a.segment(t)].map(n=>n.segment)}return a=>[...a]})();ri.experimentalLetterSpacing=!1;ri._fonts={};ri._newlines=[10,13];ri._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];ri._measurementCache={};let dg=ri;const mg=1e5;function pg(a,t,n,r=0){if(a.texture===wt.WHITE&&!a.fill)return ee.shared.setValue(a.color).setAlpha(a.alpha??1).toHexa();if(a.fill){if(a.fill instanceof Ol){const o=a.fill,u=t.createPattern(o.texture.source.resource,"repeat"),h=o.transform.copyTo(At.shared);return h.scale(o.texture.frame.width,o.texture.frame.height),u.setTransform(h),u}else if(a.fill instanceof ki){const o=a.fill,u=o.type==="linear",h=o.textureSpace==="local";let f=1,m=1;h&&n&&(f=n.width+r,m=n.height+r);let p,g=!1;if(u){const{start:_,end:v}=o;p=t.createLinearGradient(_.x*f,_.y*m,v.x*f,v.y*m),g=Math.abs(v.x-_.x)<Math.abs((v.y-_.y)*.1)}else{const{center:_,innerRadius:v,outerCenter:x,outerRadius:w}=o;p=t.createRadialGradient(_.x*f,_.y*m,v*f,x.x*f,x.y*m,w*f)}if(g&&h&&n){const _=n.lineHeight/m;for(let v=0;v<n.lines.length;v++){const x=(v*n.lineHeight+r/2)/m;o.colorStops.forEach(w=>{const R=x+w.offset*_;p.addColorStop(Math.floor(R*mg)/mg,ee.shared.setValue(w.color).toHex())})}}else o.colorStops.forEach(_=>{p.addColorStop(_.offset,ee.shared.setValue(_.color).toHex())});return p}}else{const o=t.createPattern(a.texture.source.resource,"repeat"),u=a.matrix.copyTo(At.shared);return u.scale(a.texture.frame.width,a.texture.frame.height),o.setTransform(u),o}return Pt("FillStyle not recognised",a),"red"}function Ly(a){if(a==="")return[];typeof a=="string"&&(a=[a]);const t=[];for(let n=0,r=a.length;n<r;n++){const o=a[n];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=o[0].charCodeAt(0),h=o[1].charCodeAt(0);if(h<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,m=h;f<=m;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(o))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const Ny=class Yy extends _y{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...Yy.defaultOptions,...t};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=wt.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const u=Zc(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,this.fontMetrics=dg.measureFont(u),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){var T,D;const n=Ly(t).filter(U=>!this._currentChars.includes(U)).filter((U,k,j)=>j.indexOf(U)===k);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:u}=r.canvasAndContext,h=r.texture.source;const f=this._style;let m=this._currentX,p=this._currentY;const g=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*g;let v=0,x=!1;const w=o.width/this.resolution,R=o.height/this.resolution;for(let U=0;U<n.length;U++){const k=n[U],j=dg.measureText(k,f,o,!1);j.lineHeight=j.height;const Q=j.width*g,q=Math.ceil((f.fontStyle==="italic"?2:1)*Q),W=j.height*g,ut=q+_*2,I=W+_*2;if(x=!1,k!==`
`&&k!=="\r"&&k!=="	"&&k!==" "&&(x=!0,v=Math.ceil(Math.max(I,v))),m+ut>w&&(p+=v,v=I,m=0,p+v>R)){h.update();const tt=this._nextPage();o=tt.canvasAndContext.canvas,u=tt.canvasAndContext.context,h=tt.texture.source,p=0}const $=Q/g-(((T=f.dropShadow)==null?void 0:T.distance)??0)-(((D=f._stroke)==null?void 0:D.width)??0);if(this.chars[k]={id:k.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:$,kerning:{}},x){this._drawGlyph(u,j,m+_,p+_,g,f);const tt=h.width*g,xt=h.height*g,pt=new Jt(m/tt*h.width,p/xt*h.height,ut/tt*h.width,I/xt*h.height);this.chars[k].texture=new wt({source:h,frame:pt}),m+=Math.ceil(ut)}}h.update(),this._currentX=m,this._currentY=p,this._skipKerning&&this._applyKerning(n,u)}get pageTextures(){return Ct(Dt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,n){const r=this._measureCache;for(let o=0;o<t.length;o++){const u=t[o];for(let h=0;h<this._currentChars.length;h++){const f=this._currentChars[h];let m=r[u];m||(m=r[u]=n.measureText(u).width);let p=r[f];p||(p=r[f]=n.measureText(f).width);let g=n.measureText(u+f).width,_=g-(m+p);_&&(this.chars[u].kerning[f]=_),g=n.measureText(u+f).width,_=g-(m+p),_&&(this.chars[f].kerning[u]=_)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,n=fg.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(n.context,this._style,t);const r=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new wt({source:new Nn({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),u={canvasAndContext:n,texture:o};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,n,r){n.fontSize=this.baseRenderedFontSize,t.scale(r,r),t.font=Zc(n),n.fontSize=this.baseMeasurementFontSize,t.textBaseline=n.textBaseline;const o=n._stroke,u=(o==null?void 0:o.width)??0;if(o&&(t.lineWidth=u,t.lineJoin=o.join,t.miterLimit=o.miterLimit,t.strokeStyle=pg(o,t)),n._fill&&(t.fillStyle=pg(n._fill,t)),n.dropShadow){const h=n.dropShadow,f=ee.shared.setValue(h.color).toArray(),m=h.blur*r,p=h.distance*r;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${h.alpha})`,t.shadowBlur=m,t.shadowOffsetX=Math.cos(h.angle)*p,t.shadowOffsetY=Math.sin(h.angle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,n,r,o,u,h){const f=n.text,m=n.fontProperties,p=h._stroke,g=((p==null?void 0:p.width)??0)*u,_=r+g/2,v=o-g/2,x=m.descent*u,w=n.lineHeight*u;h.stroke&&g&&t.strokeText(f,_,v+w-x),h._fill&&t.fillText(f,_,v+w-x)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:n,texture:r}=this.pages[t];fg.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};Ny.defaultOptions={textureSize:512,style:new Qa,mipmap:!0};let gg=Ny;function MS(a,t,n,r){const o={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=n.baseLineOffset;let u=o.lines[0],h=null,f=!0;const m={width:0,start:0,index:0,positions:[],chars:[]},p=w=>{const R=u.width;for(let T=0;T<m.index;T++){const D=w.positions[T];u.chars.push(w.chars[T]),u.charPositions.push(D+R)}u.width+=w.width,f=!1,m.width=0,m.index=0,m.chars.length=0},g=()=>{let w=u.chars.length-1;if(r){let R=u.chars[w];for(;R===" ";)u.width-=n.chars[R].xAdvance,R=u.chars[--w]}o.width=Math.max(o.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,o.lines.push(u),o.height+=n.lineHeight},_=n.baseMeasurementFontSize/t.fontSize,v=t.letterSpacing*_,x=t.wordWrapWidth*_;for(let w=0;w<a.length+1;w++){let R;const T=w===a.length;T||(R=a[w]);const D=n.chars[R]||n.chars[" "];if(/(?:\s)/.test(R)||R==="\r"||R===`
`||T){if(!f&&t.wordWrap&&u.width+m.width-v>x?(g(),p(m),T||u.charPositions.push(0)):(m.start=u.width,p(m),T||u.charPositions.push(0)),R==="\r"||R===`
`)u.width!==0&&g();else if(!T){const Q=D.xAdvance+(D.kerning[h]||0)+v;u.width+=Q,u.spaceWidth=Q,u.spacesIndex.push(u.charPositions.length),u.chars.push(R)}}else{const j=D.kerning[h]||0,Q=D.xAdvance+j+v;m.positions[m.index++]=m.width+j,m.chars.push(R),m.width+=Q}h=R}return g(),t.align==="center"?CS(o):t.align==="right"?ES(o):t.align==="justify"&&RS(o),o}function CS(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width/2-n.width/2;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function ES(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width-n.width;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function RS(a){const t=a.width;for(let n=0;n<a.lines.length;n++){const r=a.lines[n];let o=0,u=r.spacesIndex[o++],h=0;const f=r.spacesIndex.length,p=(t-r.width)/f;for(let g=0;g<r.charPositions.length;g++)g===u&&(u=r.spacesIndex[o++],h+=p),r.charPositions[g]+=h}}let vl=0;class zS{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(t,n){var h;let r=`${n.fontFamily}-bitmap`,o=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,o=!1;else if(n._stroke||n.dropShadow){let f=n.styleKey;f=f.substring(0,f.lastIndexOf("-")),r=`${f}-bitmap`,o=!1}if(!qt.has(r)){const f=new gg({style:n,overrideFill:o,overrideSize:!0,...this.defaultOptions});vl++,vl>50&&Pt("BitmapText",`You have dynamically created ${vl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),f.once("destroy",()=>{vl--,qt.remove(r)}),qt.set(r,f)}const u=qt.get(r);return(h=u.ensureCharacters)==null||h.call(u,t),u}getLayout(t,n,r=!0){const o=this.getFont(t,n);return MS([...t],n,o,r)}measureText(t,n,r=!0){return this.getLayout(t,n,r)}install(...t){var p,g,_,v;let n=t[0];typeof n=="string"&&(n={name:n,style:t[1],chars:(p=t[2])==null?void 0:p.chars,resolution:(g=t[2])==null?void 0:g.resolution,padding:(_=t[2])==null?void 0:_.padding,skipKerning:(v=t[2])==null?void 0:v.skipKerning},Ct(Dt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n==null?void 0:n.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const o=n.style,u=o instanceof Qa?o:new Qa(o),h=u._fill.fill!==null&&u._fill.fill!==void 0,f=new gg({style:u,overrideFill:h,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1}),m=Ly(n.chars);return f.ensureCharacters(m.join("")),qt.set(`${r}-bitmap`,f),f.once("destroy",()=>qt.remove(`${r}-bitmap`)),f}uninstall(t){const n=`${t}-bitmap`,r=qt.get(n);r&&r.destroy()}}const yg=new zS;class Py extends _y{constructor(t,n){super();const{textures:r,data:o}=t;Object.keys(o.pages).forEach(u=>{const h=o.pages[parseInt(u,10)],f=r[h.id];this.pages.push({texture:f})}),Object.keys(o.chars).forEach(u=>{const h=o.chars[u],{frame:f,source:m}=r[h.page],p=new Jt(h.x+f.x,h.y+f.y,h.width,h.height),g=new wt({source:m,frame:p});this.chars[u]={id:u.codePointAt(0),xOffset:h.xOffset,yOffset:h.yOffset,xAdvance:h.xAdvance,kerning:h.kerning??{},texture:g}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:n}=this.pages[t];n.destroy(!0)}this.pages=null}static install(t){yg.install(t)}static uninstall(t){yg.uninstall(t)}}const Cc={test(a){return typeof a=="string"&&a.startsWith("info face=")},parse(a){const t=a.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const _ in t){const v=t[_].match(/^[a-z]+/gm)[0],x=t[_].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),w={};for(const R in x){const T=x[R].split("="),D=T[0],U=T[1].replace(/"/gm,""),k=parseFloat(U),j=isNaN(k)?U:k;w[D]=j}n[v].push(w)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[u]=n.common,[h]=n.distanceField??[];h&&(r.distanceField={range:parseInt(h.distanceRange,10),type:h.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(u.lineHeight,10);const f=n.page;for(let _=0;_<f.length;_++)r.pages.push({id:parseInt(f[_].id,10)||0,file:f[_].file});const m={};r.baseLineOffset=r.lineHeight-parseInt(u.base,10);const p=n.char;for(let _=0;_<p.length;_++){const v=p[_],x=parseInt(v.id,10);let w=v.letter??v.char??String.fromCharCode(x);w==="space"&&(w=" "),m[x]=w,r.chars[w]={id:x,page:parseInt(v.page,10)||0,x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xOffset:parseInt(v.xoffset,10),yOffset:parseInt(v.yoffset,10),xAdvance:parseInt(v.xadvance,10),kerning:{}}}const g=n.kerning||[];for(let _=0;_<g.length;_++){const v=parseInt(g[_].first,10),x=parseInt(g[_].second,10),w=parseInt(g[_].amount,10);r.chars[m[x]].kerning[m[v]]=w}return r}},_g={test(a){const t=a;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(a){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=a.getElementsByTagName("info")[0],r=a.getElementsByTagName("common")[0],o=a.getElementsByTagName("distanceField")[0];o&&(t.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const u=a.getElementsByTagName("page"),h=a.getElementsByTagName("char"),f=a.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let p=0;p<u.length;p++)t.pages.push({id:parseInt(u[p].getAttribute("id"),10)||0,file:u[p].getAttribute("file")});const m={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let p=0;p<h.length;p++){const g=h[p],_=parseInt(g.getAttribute("id"),10);let v=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(_);v==="space"&&(v=" "),m[_]=v,t.chars[v]={id:_,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let p=0;p<f.length;p++){const g=parseInt(f[p].getAttribute("first"),10),_=parseInt(f[p].getAttribute("second"),10),v=parseInt(f[p].getAttribute("amount"),10);t.chars[m[_]].kerning[m[g]]=v}return t}},xg={test(a){return typeof a=="string"&&a.includes("<font>")?_g.test(Qt.get().parseXML(a)):!1},parse(a){return _g.parse(Qt.get().parseXML(a))}},BS=[".xml",".fnt"],OS={extension:{type:ot.CacheParser,name:"cacheBitmapFont"},test:a=>a instanceof Py,getCacheableAssets(a,t){const n={};return a.forEach(r=>{n[r]=t,n[`${r}-bitmap`]=t}),n[`${t.fontFamily}-bitmap`]=t,n}},DS={extension:{type:ot.LoadParser,priority:on.Normal},name:"loadBitmapFont",test(a){return BS.includes(ke.extname(a).toLowerCase())},async testParse(a){return Cc.test(a)||xg.test(a)},async parse(a,t,n){const r=Cc.test(a)?Cc.parse(a):xg.parse(a),{src:o}=t,{pages:u}=r,h=[],f=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let _=0;_<u.length;++_){const v=u[_].file;let x=ke.join(ke.dirname(o),v);x=kc(x,o),h.push({src:x,data:f})}const m=await n.load(h),p=h.map(_=>m[_.src]);return new Py({data:r,textures:p},o)},async load(a,t){return await(await Qt.get().fetch(a)).text()},async unload(a,t,n){await Promise.all(a.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),a.destroy()}};class US{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const GS={extension:{type:ot.CacheParser,name:"cacheTextureArray"},test:a=>Array.isArray(a)&&a.every(t=>t instanceof wt),getCacheableAssets:(a,t)=>{const n={};return a.forEach(r=>{t.forEach((o,u)=>{n[r+(u===0?"":u+1)]=o})}),n}};async function jy(a){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=a});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(a)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const kS={extension:{type:ot.DetectionParser,priority:1},test:async()=>jy("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async a=>[...a,"avif"],remove:async a=>a.filter(t=>t!=="avif")},vg=["png","jpg","jpeg"],HS={extension:{type:ot.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async a=>[...a,...vg],remove:async a=>a.filter(t=>!vg.includes(t))},LS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ch(a){return LS?!1:document.createElement("video").canPlayType(a)!==""}const NS={extension:{type:ot.DetectionParser,priority:0},test:async()=>ch("video/mp4"),add:async a=>[...a,"mp4","m4v"],remove:async a=>a.filter(t=>t!=="mp4"&&t!=="m4v")},YS={extension:{type:ot.DetectionParser,priority:0},test:async()=>ch("video/ogg"),add:async a=>[...a,"ogv"],remove:async a=>a.filter(t=>t!=="ogv")},PS={extension:{type:ot.DetectionParser,priority:0},test:async()=>ch("video/webm"),add:async a=>[...a,"webm"],remove:async a=>a.filter(t=>t!=="webm")},jS={extension:{type:ot.DetectionParser,priority:0},test:async()=>jy("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async a=>[...a,"webp"],remove:async a=>a.filter(t=>t!=="webp")};class XS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,r)=>(this._parsersValidated=!1,t[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const r={promise:null,parser:null};return r.promise=(async()=>{var h,f;let o=null,u=null;if(n.loadParser&&(u=this._parserHash[n.loadParser],u||Pt(`[Assets] specified load parser "${n.loadParser}" not found while loading ${t}`)),!u){for(let m=0;m<this.parsers.length;m++){const p=this.parsers[m];if(p.load&&((h=p.test)!=null&&h.call(p,t,n,this))){u=p;break}}if(!u)return Pt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),r.parser=u;for(let m=0;m<this.parsers.length;m++){const p=this.parsers[m];p.parse&&p.parse&&await((f=p.testParse)==null?void 0:f.call(p,o,n,this))&&(o=await p.parse(o,n,this)||o,r.parser=p)}return o})(),r}async load(t,n){this._parsersValidated||this._validateParsers();let r=0;const o={},u=Cl(t),h=ii(t,p=>({alias:[p],src:p,data:{}})),f=h.length,m=h.map(async p=>{const g=ke.toAbsolute(p.src);if(!o[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),o[p.src]=await this.promiseCache[g].promise,n&&n(++r/f)}catch(_){throw delete this.promiseCache[g],delete o[p.src],new Error(`[Loader.load] Failed to load ${g}.
${_}`)}});return await Promise.all(m),u?o[h[0].src]:o}async unload(t){const r=ii(t,o=>({alias:[o],src:o})).map(async o=>{var f,m;const u=ke.toAbsolute(o.src),h=this.promiseCache[u];if(h){const p=await h.promise;delete this.promiseCache[u],await((m=(f=h.parser)==null?void 0:f.unload)==null?void 0:m.call(f,p,o,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,n)=>(n.name?t[n.name]&&Pt(`[Assets] loadParser name conflict "${n.name}"`):Pt("[Assets] loadParser should have a name"),{...t,[n.name]:n}),{})}}function Us(a,t){if(Array.isArray(t)){for(const n of t)if(a.startsWith(`data:${n}`))return!0;return!1}return a.startsWith(`data:${t}`)}function Gs(a,t){const n=a.split("?")[0],r=ke.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const VS=".json",FS="application/json",qS={extension:{type:ot.LoadParser,priority:on.Low},name:"loadJson",test(a){return Us(a,FS)||Gs(a,VS)},async load(a){return await(await Qt.get().fetch(a)).json()}},QS=".txt",ZS="text/plain",WS={name:"loadTxt",extension:{type:ot.LoadParser,priority:on.Low,name:"loadTxt"},test(a){return Us(a,ZS)||Gs(a,QS)},async load(a){return await(await Qt.get().fetch(a)).text()}},KS=["normal","bold","100","200","300","400","500","600","700","800","900"],IS=[".ttf",".otf",".woff",".woff2"],$S=["font/ttf","font/otf","font/woff","font/woff2"],JS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function tA(a){const t=ke.extname(a),o=ke.basename(a,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=o.length>0;for(const f of o)if(!f.match(JS)){u=!1;break}let h=o.join(" ");return u||(h=`"${h.replace(/[\\"]/g,"\\$&")}"`),h}const eA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function iA(a){return eA.test(a)?a:encodeURI(a)}const nA={extension:{type:ot.LoadParser,priority:on.Low},name:"loadWebFont",test(a){return Us(a,$S)||Gs(a,IS)},async load(a,t){var r,o,u;const n=Qt.get().getFontFaceSet();if(n){const h=[],f=((r=t.data)==null?void 0:r.family)??tA(a),m=((u=(o=t.data)==null?void 0:o.weights)==null?void 0:u.filter(g=>KS.includes(g)))??["normal"],p=t.data??{};for(let g=0;g<m.length;g++){const _=m[g],v=new FontFace(f,`url(${iA(a)})`,{...p,weight:_});await v.load(),n.add(v),h.push(v)}return qt.set(`${f}-and-url`,{url:a,fontFaces:h}),h.length===1?h[0]:h}return Pt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(a){(Array.isArray(a)?a:[a]).forEach(t=>{qt.remove(`${t.family}-and-url`),Qt.get().getFontFaceSet().delete(t)})}};function hh(a,t=1){var r;const n=(r=Os.RETINA_PREFIX)==null?void 0:r.exec(a);return n?parseFloat(n[1]):t}function fh(a,t,n){a.label=n,a._sourceOrigin=n;const r=new wt({source:a,label:n}),o=()=>{delete t.promiseCache[n],qt.has(n)&&qt.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&(Pt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{a.destroyed||(Pt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const sA=".svg",aA="image/svg+xml",rA={extension:{type:ot.LoadParser,priority:on.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(a){return Us(a,aA)||Gs(a,sA)},async load(a,t,n){var r;return((r=t.data)==null?void 0:r.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?oA(a):lA(a,t,n,this.config.crossOrigin)},unload(a){a.destroy(!0)}};async function lA(a,t,n,r){var T,D,U;const u=await(await Qt.get().fetch(a)).blob(),h=URL.createObjectURL(u),f=new Image;f.src=h,f.crossOrigin=r,await f.decode(),URL.revokeObjectURL(h);const m=document.createElement("canvas"),p=m.getContext("2d"),g=((T=t.data)==null?void 0:T.resolution)||hh(a),_=((D=t.data)==null?void 0:D.width)??f.width,v=((U=t.data)==null?void 0:U.height)??f.height;m.width=_*g,m.height=v*g,p.drawImage(f,0,0,_*g,v*g);const{parseAsGraphicsContext:x,...w}=t.data??{},R=new Nn({resource:m,alphaMode:"premultiply-alpha-on-upload",resolution:g,...w});return fh(R,n,a)}async function oA(a){const n=await(await Qt.get().fetch(a)).text(),r=new We;return r.svg(n),r}const uA=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Cs=null,Wc=class{constructor(){Cs||(Cs=URL.createObjectURL(new Blob([uA],{type:"application/javascript"}))),this.worker=new Worker(Cs)}};Wc.revokeObjectURL=function(){Cs&&(URL.revokeObjectURL(Cs),Cs=null)};const cA=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Es=null;class Xy{constructor(){Es||(Es=URL.createObjectURL(new Blob([cA],{type:"application/javascript"}))),this.worker=new Worker(Es)}}Xy.revokeObjectURL=function(){Es&&(URL.revokeObjectURL(Es),Es=null)};let bg=0,Ec;class hA{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new Wc;n.addEventListener("message",r=>{n.terminate(),Wc.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,n){var r;return this._run("loadImageBitmap",[t,(r=n==null?void 0:n.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Ec===void 0&&(Ec=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Ec&&(this._createdWorkers++,t=new Xy().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,n){await this._initWorkers();const r=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),r}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),r=n.id;this._resolveHash[bg]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:bg++,id:r})}}const Sg=new hA,fA=[".jpeg",".jpg",".png",".webp",".avif"],dA=["image/jpeg","image/png","image/webp","image/avif"];async function mA(a,t){var o;const n=await Qt.get().fetch(a);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${n.status} ${n.statusText}`);const r=await n.blob();return((o=t==null?void 0:t.data)==null?void 0:o.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const Vy={name:"loadTextures",extension:{type:ot.LoadParser,priority:on.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(a){return Us(a,dA)||Gs(a,fA)},async load(a,t,n){var u;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Sg.isImageBitmapSupported()?r=await Sg.loadImageBitmap(a,t):r=await mA(a,t):r=await new Promise((h,f)=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=a,r.complete?h(r):(r.onload=()=>{h(r)},r.onerror=f)});const o=new Nn({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((u=t.data)==null?void 0:u.resolution)||hh(a),...t.data});return fh(o,n,a)},unload(a){a.destroy(!0)}},Fy=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],pA=Fy.map(a=>`video/${a.substring(1)}`);function gA(a,t,n){n===void 0&&!t.startsWith("data:")?a.crossOrigin=_A(t):n!==!1&&(a.crossOrigin=typeof n=="string"?n:"anonymous")}function yA(a){return new Promise((t,n)=>{a.addEventListener("canplaythrough",r),a.addEventListener("error",o),a.load();function r(){u(),t()}function o(h){u(),n(h)}function u(){a.removeEventListener("canplaythrough",r),a.removeEventListener("error",o)}})}function _A(a,t=globalThis.location){if(a.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(a,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}const xA={name:"loadVideo",extension:{type:ot.LoadParser,name:"loadVideo"},test(a){const t=Us(a,pA),n=Gs(a,Fy);return t||n},async load(a,t,n){var m,p;const r={...Sl.defaultOptions,resolution:((m=t.data)==null?void 0:m.resolution)||hh(a),alphaMode:((p=t.data)==null?void 0:p.alphaMode)||await Ig(),...t.data},o=document.createElement("video"),u={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(u).forEach(g=>{const _=u[g];_!==void 0&&o.setAttribute(g,_)}),r.muted===!0&&(o.muted=!0),gA(o,a,r.crossorigin);const h=document.createElement("source");let f;if(a.startsWith("data:"))f=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const g=a.split("?")[0].slice(a.lastIndexOf(".")+1).toLowerCase();f=Sl.MIME_TYPES[g]||`video/${g}`}return h.src=a,f&&(h.type=f),new Promise(g=>{const _=async()=>{const v=new Sl({...r,resource:o});o.removeEventListener("canplay",_),t.data.preload&&await yA(o),g(fh(v,n,a))};o.addEventListener("canplay",_),o.appendChild(h)})},unload(a){a.destroy(!0)}},qy={extension:{type:ot.ResolveParser,name:"resolveTexture"},test:Vy.test,parse:a=>{var t;return{resolution:parseFloat(((t=Os.RETINA_PREFIX.exec(a))==null?void 0:t[1])??"1"),format:a.split(".").pop(),src:a}}},vA={extension:{type:ot.ResolveParser,priority:-2,name:"resolveJson"},test:a=>Os.RETINA_PREFIX.test(a)&&a.endsWith(".json"),parse:qy.parse};class bA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Os,this.loader=new XS,this.cache=qt,this._backgroundLoader=new US(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var u,h;if(this._initialized){Pt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let f=t.manifest;typeof f=="string"&&(f=await this.load(f)),this.resolver.addManifest(f)}const n=((u=t.texturePreference)==null?void 0:u.resolution)??1,r=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:(h=t.texturePreference)==null?void 0:h.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const r=Cl(t),o=ii(t).map(f=>{if(typeof f!="string"){const m=this.resolver.getAlias(f);return m.some(p=>!this.resolver.hasKey(p))&&this.add(f),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(o),h=await this._mapLoadToResolve(u,n);return r?h[o[0]]:h}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},h=Object.keys(o);let f=0,m=0;const p=()=>{n==null||n(++f/m)},g=h.map(_=>{const v=o[_];return m+=Object.keys(v).length,this._mapLoadToResolve(v,p).then(x=>{u[_]=x})});return await Promise.all(g),r?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return qt.get(t);const n={};for(let r=0;r<t.length;r++)n[r]=qt.get(t[r]);return n}async _mapLoadToResolve(t,n){const r=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,n);this._backgroundLoader.active=!0;const u={};return r.forEach(h=>{const f=o[h.src],m=[h.src];h.alias&&m.push(...h.alias),m.forEach(p=>{u[p]=f}),qt.set(m,f)}),u}async unload(t){this._initialized||await this.init();const n=ii(t).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=ii(t);const n=this.resolver.resolveBundle(t),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(r)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(r=>{qt.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?n=await r.add(n):t.skipDetections||(n=await r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in t).forEach(r=>{n.config[r]=t[r]})})}}const Pa=new bA;pe.handleByList(ot.LoadParser,Pa.loader.parsers).handleByList(ot.ResolveParser,Pa.resolver.parsers).handleByList(ot.CacheParser,Pa.cache.parsers).handleByList(ot.DetectionParser,Pa.detections);pe.add(GS,HS,kS,jS,NS,YS,PS,qS,WS,nA,rA,Vy,xA,DS,OS,qy,vA);const Ag={loader:ot.LoadParser,resolver:ot.ResolveParser,cache:ot.CacheParser,detection:ot.DetectionParser};pe.handle(ot.Asset,a=>{const t=a.ref;Object.entries(Ag).filter(([n])=>!!t[n]).forEach(([n,r])=>pe.add(Object.assign(t[n],{extension:t[n].extension??r})))},a=>{const t=a.ref;Object.keys(Ag).filter(n=>!!t[n]).forEach(n=>pe.remove(t[n]))});class Za extends jg{constructor(t){t instanceof We&&(t={context:t});const{context:n,roundPixels:r,...o}=t||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new We,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Za(this._context.clone()):(this._ownedContext=null,new Za(this._context))}lineStyle(t,n,r){Ct(Dt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(t,n){Ct(Dt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){Ct(Dt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==We.defaultStrokeStyle.width||t.color!==We.defaultStrokeStyle.color||t.alpha!==We.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Ct(Dt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Ct(Dt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Ct(Dt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Ct(Dt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Ct(Dt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Ct(Dt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}pe.add(qx,Qx);const SA="/EngineerClicker/assets/click1-C1c3_Azq.mp3",AA="/EngineerClicker/assets/click2-A8yu5zx2.mp3",TA="/EngineerClicker/assets/click3-Bj5Nd4Sp.mp3",wA="/EngineerClicker/assets/click4-CPaOF63f.mp3",Tg=[SA,AA,TA,wA],MA=()=>{const a=Tg[Math.floor(Math.random()*Tg.length)],t=new Audio(a);t.playbackRate=1+Math.random()*.3,t.volume=.05+Math.random()*.02,t.play()},CA=({onClick:a})=>{const t=ni.useRef(null),n=ni.useRef(null),r=ni.useRef(null);function o(f,m){const p=[];for(let g=0;g<20;g++){let _=new Za;_.circle(0,0,5+Math.random()*5).fill(11184878),_.x=f,_.y=m,_.zIndex=-1,n.current.stage.addChild(_);let v=Math.random()*Math.PI*2,x=3+Math.random()*1,w=Math.sin(v)*x,R=Math.cos(v)*x;p.push({sprite:_,vx:w,vy:R})}n.current.ticker.add(()=>{p.forEach(g=>{g.sprite.x+=g.vx,g.sprite.y+=g.vy,g.sprite.alpha-=.02,g.sprite.alpha<=0&&n.current.stage.removeChild(g.sprite)})})}function u(f){MA();const m=1.1;f.scale._x=m,f.scale._y=m,o(f.position._x,f.position._y),a()}function h(){if(!n.current||!r.current)return;const f=n.current;r.current.position.set(f.screen.width/2,f.screen.height/2)}return ni.useEffect(()=>t.current?((async()=>{const m=new ih;m.stage.sortableChildren=!0,n.current=m,await m.init({resizeTo:t.current,backgroundAlpha:0}),t.current.appendChild(m.canvas);const p=await Pa.load("https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Crystal_Project_computer.png/200px-Crystal_Project_computer.png"),g=new zs(p);r.current=g,g.anchor.set(.5),g.position.set(m.screen.width/2,m.screen.height/2),g.eventMode="static",g.cursor="pointer",g.on("pointerdown",()=>{u(g)}),new ResizeObserver(h).observe(t.current),m.stage.addChild(g),m.ticker.add(_=>{const v=r.current,x=.01,w=1;if(Math.abs(v.scale._x-w)<x)v.scale.set(w,w);else{let T=v.scale._x*((w/v.scale._x-1)*.2*_.deltaTime+1);v.scale.set(T)}})})(),()=>{n.current.destroy(!0)}):void 0,[]),Mt.jsx("div",{onResize:h,ref:t})};var EA=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,RA=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,zA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform vec2 uSize;
uniform sampler2D uTexture;
uniform vec4 uInputSize;

vec2 mapCoord( vec2 coord )
{
    coord *= uInputSize.xy;
    coord += uInputSize.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= uInputSize.zw;
    coord /= uInputSize.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 uSize)
{
	return floor( coord / uSize ) * uSize;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    coord = pixelate(coord, uSize);
    coord = unmapCoord(coord);
    finalColor = texture(uTexture, coord);
}
`,BA=`struct PixelateUniforms {
  uSize:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> pixelateUniforms : PixelateUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  let pixelSize: vec2<f32> = pixelateUniforms.uSize;
  let coord: vec2<f32> = mapCoord(uv);

  var pixCoord: vec2<f32> = pixelate(coord, pixelSize);
  pixCoord = unmapCoord(pixCoord);

  return textureSample(uTexture, uSampler, pixCoord);
}

fn mapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord *= gfu.uInputSize.xy;
  mappedCoord += gfu.uOutputFrame.xy;
  return mappedCoord;
}

fn unmapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord -= gfu.uOutputFrame.xy;
  mappedCoord /= gfu.uInputSize.xy;
  return mappedCoord;
}

fn pixelate(coord: vec2<f32>, size: vec2<f32>) -> vec2<f32>
{
  return floor( coord / size ) * size;
}

`;class OA extends gb{constructor(t=10){const n=Ds.from({vertex:{source:RA,entryPoint:"mainVertex"},fragment:{source:BA,entryPoint:"mainFragment"}}),r=zl.from({vertex:EA,fragment:zA,name:"pixelate-filter"});super({gpuProgram:n,glProgram:r,resources:{pixelateUniforms:{uSize:{value:new Float32Array(2),type:"vec2<f32>"}}}}),this.size=t}get size(){return this.resources.pixelateUniforms.uniforms.uSize}set size(t){t instanceof me?(this.sizeX=t.x,this.sizeY=t.y):Array.isArray(t)?this.resources.pixelateUniforms.uniforms.uSize=t:this.sizeX=this.sizeY=t}get sizeX(){return this.resources.pixelateUniforms.uniforms.uSize[0]}set sizeX(t){this.resources.pixelateUniforms.uniforms.uSize[0]=t}get sizeY(){return this.resources.pixelateUniforms.uniforms.uSize[1]}set sizeY(t){this.resources.pixelateUniforms.uniforms.uSize[1]=t}}function DA({textState:a}){const t=ni.useRef(null),n=ni.useRef(null);return ni.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[a]),ni.useEffect(()=>{let r=[];const o=async(f,m,p,g)=>{if(!n.current)return;const _=new ih;await _.init({backgroundAlpha:0,resizeTo:n.current});const v=_.canvas;v.style.position="absolute",v.style.top=`${m}%`,v.style.height="33%",v.style.width="100%",n.current.appendChild(v);const x=new Za;x.rect(0,0,_.screen.width,_.screen.height);const w=new ki({type:"linear",start:{x:0,y:0},end:{x:1,y:0},colorStops:[{offset:p,color:"blue"},{offset:g,color:"cyan"}]});x.fill(w),x.alpha=1;const R=new OA(10);x.filters=[R],_.stage.addChild(x),r.push(_)},u=async()=>{if(!n.current){console.warn("Header not found, waiting...");return}await o(0,0,0,1),await o(1,33,.25,1),await o(2,66,.4,1)},h=()=>{console.log("resize not implemented")};if(n.current)u().then(()=>{window.addEventListener("resize",h)});else{const f=new MutationObserver(()=>{n.current&&(f.disconnect(),u().then(()=>{window.addEventListener("resize",h)}))});f.observe(document.body,{childList:!0,subtree:!0})}return()=>{r.forEach(f=>f.destroy(!0,!0)),window.removeEventListener("resize",h)}},[]),Mt.jsxs("div",{className:"console_wrap",children:[Mt.jsxs("div",{className:"console_header",ref:n,children:[Mt.jsx("p",{children:"MS-DOS"}),Mt.jsxs("div",{className:"buttonWrapper",children:[Mt.jsx("div",{className:"button",children:Mt.jsx("p",{children:"_"})}),Mt.jsx("div",{className:"button",children:Mt.jsx("div",{className:"pixelIcon",children:Mt.jsx("div",{className:"middleCutOut"})})}),Mt.jsx("div",{className:"button",children:Mt.jsx("p",{children:"X"})})]})]}),Mt.jsx("div",{className:"console_contents",ref:t,children:a.map((r,o)=>Mt.jsx("p",{children:r},o))})]})}const UA=()=>{const[a,t]=ni.useState([]);ni.useSyncExternalStore(kn.subscribe.bind(kn),()=>kn.resourceManager.euro);const n=()=>{kn.resourceManager.addEuros(1),t(r=>[...r,"test"])};return Mt.jsxs("div",{className:Xx.rightSection,style:{padding:"8px"},children:[Mt.jsx(DA,{textState:a}),Mt.jsx(CA,{onClick:n})]})},GA=()=>Mt.jsxs("div",{className:Ex.container,children:[Mt.jsx(Px,{}),Mt.jsx(UA,{})]});function kA(){return Mt.jsx(GA,{})}Mx.createRoot(document.getElementById("root")).render(Mt.jsx(kA,{}));export{ee as $,my as A,Me as B,Yn as C,Qt as D,ot as E,gb as F,Ds as G,Gg as H,si as I,kv as J,Tp as K,zs as L,At as M,rb as N,_b as O,me as P,te as Q,Lc as R,pb as S,dl as T,Uc as U,Jt as V,Sb as W,Mp as X,ac as Y,Ep as Z,Nv as _,ai as a,Lg as a0,py as a1,Ct as a2,Dt as a3,Cb as a4,Zb as a5,d1 as a6,p1 as a7,v1 as a8,S1 as a9,A1 as aa,Qa as ab,vS as ac,Ry as ad,jp as ae,Yp as af,sv as ag,yg as ah,MS as ai,Za as aj,qt as ak,rv as al,dg as am,Ml as an,Zc as ao,pg as ap,Oy as aq,jb as b,Fa as c,Al as d,pe as e,Pp as f,Nb as g,eh as h,hy as i,Wg as j,pi as k,oy as l,fg as m,f1 as n,m1 as o,_1 as p,b1 as q,xv as r,xy as s,Bl as t,wt as u,av as v,Pt as w,zl as x,w1 as y,Ui as z};
